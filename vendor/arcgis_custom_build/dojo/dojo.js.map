//>>built
(function(f,m){var k,q,l=function(){},h=function(a){for(var b in a)return 0;return 1},g={}.toString,e=function(a){return"[object Function]"==g.call(a)},c=function(a){return"[object String]"==g.call(a)},a=function(a){return"[object Array]"==g.call(a)},b=function(a,b){if(a)for(var d=0;a[d];)b(a[d++])},d=function(a,b){for(var d in b)a[d]=b[d];return a},n=function(a,b){return d(Error(a),{src:"dojoLoader",info:b})},r=1,t=function(){return"_"+r++},s=function(a,b,d){return Ra(a,b,d,0,s)},x=this,u=x.document,
z=u&&u.createElement("DiV"),y=s.has=function(a){return e(w[a])?w[a]=w[a](x,u,z):w[a]},w=y.cache=m.hasCache;y.add=function(a,b,d,c){(void 0===w[a]||c)&&(w[a]=b);return d&&y(a)};for(var D in f.has)y.add(D,f.has[D],0,1);var C=0,B=[],E=0,A=l,G=l,M;s.isXdUrl=l;s.initSyncLoader=function(a,b,d){E||(E=a,A=b,G=d);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:B,modules:O,execQ:da,getModule:fa,injectModule:wa,setArrived:ia,signal:N,finishExec:ka,execModule:la,dojoRequirePlugin:E,
getLegacyMode:function(){return C},guardCheckComplete:ma}};var F=location.protocol,J=location.host;s.isXdUrl=function(a){return/^\./.test(a)?!1:/^\/\//.test(a)?!0:(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=F||J&&a[2]!=J)};y.add("dojo-force-activex-xhr",!u.addEventListener&&"file:"==window.location.protocol);y.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(y("native-xhr")&&!y("dojo-force-activex-xhr"))M=function(){return new XMLHttpRequest};else{var L=["Msxml2.XMLHTTP","Microsoft.XMLHTTP",
"Msxml2.XMLHTTP.4.0"],K;for(k=0;3>k;)try{if(K=L[k++],new ActiveXObject(K))break}catch(P){}M=function(){return new ActiveXObject(K)}}s.getXhr=M;y.add("dojo-gettext-api",1);s.getText=function(a,b,d){var c=M();c.open("GET",xa(a),!1);c.send(null);if(200==c.status||!location.host&&!c.status)d&&d(c.responseText,b);else throw n("xhrFailed",c.status);return c.responseText};var H=new Function("return eval(arguments[0]);");s.eval=function(a,b){return H(a+"\r\n////@ sourceURL\x3d"+b)};var I={},N=s.signal=function(d,
c){var n=I[d];b(n&&n.slice(0),function(b){b.apply(null,a(c)?c:[c])})},X=s.on=function(a,b){var d=I[a]||(I[a]=[]);d.push(b);return{remove:function(){for(var a=0;a<d.length;a++)if(d[a]===b){d.splice(a,1);break}}}},T=[],R={},U=[],V={},W=s.map={},Q=[],O={},Z="",Y={},S={},aa={},ba=0,ca=function(a){var b,d,c,n;for(b in S)d=S[b],(c=b.match(/^url\:(.+)/))?Y["url:"+Sa(c[1],a)]=d:"*now"==b?n=d:"*noref"!=b&&(c=na(b,a),Y[c.mid]=Y["url:"+c.url]=d);n&&n(Ia(a));S={}},$=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},oa=function(a,b){b.splice(0,b.length);for(var d in a)b.push([d,a[d],RegExp("^"+$(d)+"(/|$)"),d.length]);b.sort(function(a,b){return b[3]-a[3]});return b},pa=function(a,d){b(a,function(a){d.push([c(a[0])?RegExp("^"+$(a[0])+"$"):a[0],a[1]])})},qa=function(a){var b=a.name;b||(b=a,a={name:b});a=d({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(W[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));V[b]=a},ya=[],ra=function(a,n,e){for(var r in a){"waitSeconds"==
r&&(s.waitms=1E3*(a[r]||0));"cacheBust"==r&&(Z=a[r]?c(a[r])?a[r]:(new Date).getTime()+"":"");if("baseUrl"==r||"combo"==r)s[r]=a[r];if("async"==r){var g=a[r];s.legacyMode=C=c(g)&&/sync|legacyAsync/.test(g)?g:!g?"sync":!1;s.async=!C}a[r]!==w&&(s.rawConfig[r]=a[r],"has"!=r&&y.add("config-"+r,a[r],0,n))}s.baseUrl||(s.baseUrl="./");/\/$/.test(s.baseUrl)||(s.baseUrl+="/");for(r in a.has)y.add(r,a.has[r],0,n);b(a.packages,qa);for(q in a.packagePaths)b(a.packagePaths[q],function(a){var b=q+"/"+a;c(a)&&(a=
{name:a});a.location=b;qa(a)});oa(d(W,a.map),Q);b(Q,function(a){a[1]=oa(a[1],[]);"*"==a[0]&&(Q.star=a)});oa(d(R,a.paths),U);pa(a.aliases,T);if(n)ya.push({config:a.config});else for(r in a.config)n=fa(r,e),n.config=d(n.config||{},a.config[r]);a.cache&&(ca(),S=a.cache,a.cache["*noref"]&&ca());N("config",[a,s.rawConfig])},za=u.getElementsByTagName("script");k=0;for(var ga,Ta,Aa,sa;k<za.length;){ga=za[k++];if((Aa=ga.getAttribute("src"))&&(sa=Aa.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))Ta=sa[3]||"",m.baseUrl=
m.baseUrl||Ta,ba=ga;if(Aa=ga.getAttribute("data-dojo-config")||ga.getAttribute("djConfig"))aa=s.eval("({ "+Aa+" })","data-dojo-config"),ba=ga}s.rawConfig={};ra(m,1);ra(f,1);ra(aa,1);var ta=function(a){ma(function(){b(a.deps,wa)})},Ra=function(b,e,r,g,h){var w;if(c(b)){if((w=fa(b,g,!0))&&w.executed)return w.result;throw n("undefinedModule",b);}a(b)||(ra(b,0,g),b=e,e=r);if(a(b))if(b.length){r="require*"+t();for(var A,f=[],u=0;u<b.length;)A=b[u++],f.push(fa(A,g));w=d(Ba("",r,0,""),{injected:2,deps:f,
def:e||l,require:g?g.require:s,gc:1});O[w.mid]=w;ta(w);var k=ua&&"sync"!=C;ma(function(){la(w,k)});w.executed||da.push(w);ja()}else e&&e();return h},Ia=function(a){if(!a)return s;var b=a.require;b||(b=function(d,c,n){return Ra(d,c,n,a,b)},a.require=d(b,s),b.module=a,b.toUrl=function(b){return Sa(b,a)},b.toAbsMid=function(b){return Ja(b,a)},b.syncLoadNls=function(b){b=na(b,a);var d=O[b.mid];if(!d||!d.executed)if(ha=Y[b.mid]||Y["url:"+b.url])Ca(ha),d=O[b.mid];return d&&d.executed&&d.result});return b},
da=[],Da=[],ea={},db=function(a){a.injected=1;ea[a.mid]=1;a.url&&(ea[a.url]=a.pack||1);Ua()},ia=function(a){a.injected=2;delete ea[a.mid];a.url&&delete ea[a.url];h(ea)&&(Ea(),"xd"==C&&(C="sync"))},eb=s.idle=function(){return!Da.length&&h(ea)&&!da.length&&!ua},Ka=function(a,b){if(b)for(var d=0;d<b.length;d++)if(b[d][2].test(a))return b[d];return 0},Va=function(a){var b=[],d,c;for(a=a.replace(/\\/g,"/").split("/");a.length;)d=a.shift(),".."==d&&b.length&&".."!=c?(b.pop(),c=b[b.length-1]):"."!=d&&b.push(c=
d);return b.join("/")},Ba=function(a,b,d,c){var n=s.isXdUrl(c);return{pid:a,mid:b,pack:d,url:c,executed:0,def:0,isXd:n,isAmd:!!(n||V[a]&&V[a].isAmd)}},Wa=function(a,d,c,r,s,g,h,w,t){var A,C,f,l;l=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||l&&!d)return Ba(0,a,0,a);a=Va(l?d.mid+"/../"+a:a);if(/^\./.test(a))throw n("irrationalPath",a);d&&(f=Ka(d.mid,g));(f=(f=f||g.star)&&Ka(a,f[1]))&&(a=f[1]+a.substring(f[3]));d=(sa=a.match(/^([^\/]+)(\/(.+))?$/))?sa[1]:"";(A=c[d])?a=d+"/"+(C=sa[3]||A.main):d="";
var u=0;b(w,function(b){var d=a.match(b[0]);d&&0<d.length&&(u=e(b[1])?a.replace(b[0],b[1]):b[1])});if(u)return Wa(u,0,c,r,s,g,h,w,t);if(c=r[a])return t?Ba(c.pid,c.mid,c.pack,c.url):r[a];r=(f=Ka(a,h))?f[1]+a.substring(f[3]):d?A.location+"/"+C:y("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(r)||(r=s+r);return Ba(d,a,A,Va(r+".js"))},na=function(a,b){return Wa(a,b,V,O,s.baseUrl,Q,U,T)},Xa=function(a,b,d){return a.normalize?a.normalize(b,function(a){return Ja(a,d)}):Ja(b,d)},Ya=0,fa=function(a,
b,d){var c,n;(c=a.match(/^(.+?)\!(.*)$/))?(n=fa(c[1],b,d),"sync"==C&&!n.executed&&(wa(n),2===n.injected&&!n.executed&&ma(function(){la(n)}),n.executed?Fa(n):da.unshift(n)),5===n.executed&&!n.load&&Fa(n),n.load?(c=Xa(n,c[2],b),a=n.mid+"!"+(n.dynamic?++Ya+"!":"")+c):(c=c[2],a=n.mid+"!"+ ++Ya+"!waitingForPlugin"),a={plugin:n,mid:a,req:Ia(b),prid:c}):a=na(a,b);return O[a.mid]||!d&&(O[a.mid]=a)},Ja=s.toAbsMid=function(a,b){return na(a,b).mid},Sa=s.toUrl=function(a,b){var d=na(a+"/x",b),c=d.url;return xa(0===
d.pid?a:c.substring(0,c.length-5))},Za={injected:2,executed:5,def:3,result:3},La=function(a){return O[a]=d({mid:a},Za)},fb=La("require"),gb=La("exports"),hb=La("module"),Ga={},Ma=0,Fa=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},ib=function(a){var c={};b(a.loadQ,function(b){var n=Xa(a,b.prid,b.req.module),e=a.dynamic?b.mid.replace(/waitingForPlugin$/,n):a.mid+"!"+n,n=d(d({},b),{mid:e,prid:n,injected:0});O[e]||$a(O[e]=n);c[b.mid]=O[e];ia(b);delete O[b.mid]});
a.loadQ=0;var n=function(a){for(var b=a.deps||[],d=0;d<b.length;d++)(a=c[b[d].mid])&&(b[d]=a)},e;for(e in O)n(O[e]);b(da,n)},ka=function(a){s.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=Ma++;b(a.provides,function(a){a()});a.loadQ&&(Fa(a),ib(a));for(k=0;k<da.length;)da[k]===a?da.splice(k,1):k++;/^require\*/.test(a.mid)&&delete O[a.mid]},jb=[],la=function(a,b){if(4===a.executed)return s.trace("loader-circular-dependency",[jb.concat(a.mid).join("-\x3e")]),!a.def||b?Ga:a.cjs&&a.cjs.exports;
if(!a.executed){if(!a.def)return Ga;var d=a.mid,c=a.deps||[],r,g=[],h=0;for(a.executed=4;r=c[h++];){r=r===fb?Ia(a):r===gb?a.cjs.exports:r===hb?a.cjs:la(r,b);if(r===Ga)return a.executed=0,s.trace("loader-exec-module",["abort",d]),Ga;g.push(r)}s.trace("loader-run-factory",[a.mid]);var d=a.def,w;B.unshift(a);if(y("config-dojo-loader-catches"))try{w=e(d)?d.apply(null,g):d}catch(t){N("error",a.result=n("factoryThrew",[a,t]))}else w=e(d)?d.apply(null,g):d;a.result=void 0===w&&a.cjs?a.cjs.exports:w;B.shift(a);
ka(a)}return a.result},ua=0,ma=function(a){try{ua++,a()}finally{ua--}eb()&&N("idle",[])},ja=function(){ua||ma(function(){A();for(var a,b,d=0;d<da.length;)a=Ma,b=da[d],la(b),a!=Ma?(A(),d=0):d++})};void 0===y("dojo-loader-eval-hint-url")&&y.add("dojo-loader-eval-hint-url",1);var xa=function(a){a+="";return a+(Z?(/\?/.test(a)?"\x26":"?")+Z:"")},$a=function(a){var b=a.plugin;5===b.executed&&!b.load&&Fa(b);var d=function(b){a.result=b;ia(a);ka(a);ja()};b.load?b.load(a.prid,a.req,d):b.loadQ?b.loadQ.push(a):
(b.loadQ=[a],da.unshift(b),wa(b))},ha=0,va=0,Na=0,Ca=function(a,b){y("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));Na=1;if(y("config-dojo-loader-catches"))try{a===ha?ha.call(null):s.eval(a,y("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(d){N("error",n("evalModuleThrew",b))}else a===ha?ha.call(null):s.eval(a,y("dojo-loader-eval-hint-url")?b.url:b.mid);Na=0},wa=function(a){var c=a.mid,e=a.url;if(!a.executed&&!a.injected&&!(ea[c]||a.url&&(a.pack&&ea[a.url]===a.pack||1==ea[a.url])))if(db(a),
a.plugin)$a(a);else{var r=function(){ab(a);if(2!==a.injected){if(y("dojo-enforceDefine")){N("error",n("noDefine",a));return}ia(a);d(a,Za);s.trace("loader-define-nonmodule",[a.url])}C?!B.length&&ja():ja()};if(ha=Y[c]||Y["url:"+a.url])s.trace("loader-inject",["cache",a.mid,e]),Ca(ha,a),r();else{if(C)if(a.isXd)"sync"==C&&(C="xd");else if(!(a.isAmd&&"sync"!=C)){var g=function(d){if("sync"==C){B.unshift(a);Ca(d,a);B.shift();ab(a);a.cjs||(ia(a),ka(a));if(a.finish){d=c+"*finish";var n=a.finish;delete a.finish;
Oa(d,["dojo",("dojo/require!"+n.join(",")).replace(/\./g,"/")],function(a){b(n,function(b){a.require(b)})});da.unshift(fa(d))}r()}else(d=G(a,d))?(Ca(d,a),r()):(va=a,s.injectUrl(xa(e),r,a),va=0)};s.trace("loader-inject",["xhr",a.mid,e,"sync"!=C]);if(y("config-dojo-loader-catches"))try{s.getText(e,"sync"!=C,g)}catch(h){N("error",n("xhrInjectFailed",[a,h]))}else s.getText(e,"sync"!=C,g);return}s.trace("loader-inject",["script",a.mid,e]);va=a;s.injectUrl(xa(e),r,a);va=0}}},Pa=function(a,b,c){s.trace("loader-define-module",
[a.mid,b]);var r=a.mid;if(2===a.injected)return N("error",n("multipleDefine",a)),a;d(a,{deps:b,def:c,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var g=0;b[g];g++)b[g]=fa(b[g],a);C&&!ea[r]&&(ta(a),da.push(a),ja());ia(a);!e(c)&&!b.length&&(a.result=c,ka(a));return a},ab=function(a,d){for(var c=[],n,e;Da.length;)e=Da.shift(),d&&(e[0]=d.shift()),n=e[0]&&fa(e[0])||a,c.push([n,e[1],e[2]]);ca(a);b(c,function(a){ta(Pa.apply(null,
a))})},Ha=0,Ea=l,Ua=l,Ea=function(){Ha&&clearTimeout(Ha);Ha=0},Ua=function(){Ea();s.waitms&&(Ha=window.setTimeout(function(){Ea();N("error",n("timeout",ea))},s.waitms))};y.add("ie-event-behavior",u.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Qa=function(a,b,d,c){if(y("ie-event-behavior"))return a.attachEvent(d,c),function(){a.detachEvent(d,c)};a.addEventListener(b,c,!1);return function(){a.removeEventListener(b,c,!1)}},kb=Qa(window,
"load","onload",function(){s.pageLoaded=1;"complete"!=u.readyState&&(u.readyState="complete");kb()}),za=u.getElementsByTagName("script");for(k=0;!ba;)if(!/^dojo/.test((ga=za[k++])&&ga.type))ba=ga;s.injectUrl=function(a,b,d){d=d.node=u.createElement("script");var c=Qa(d,"load","onreadystatechange",function(a){a=a||window.event;var d=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(d.readyState))c(),e(),b&&b()}),e=Qa(d,"error","onerror",function(b){c();e();N("error",n("scriptError",
[a,b]))});d.type="text/javascript";d.charset="utf-8";d.src=a;ba.parentNode.insertBefore(d,ba);return d};s.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(b){}};s.trace=l;var Oa=function(a,b,d){var r=arguments.length,g=["require","exports","module"],h=[0,a,b];1==r?h=[0,e(a)?g:[],a]:2==r&&c(a)?h=[a,e(b)?g:[],b]:3==r&&(h=[a,b,d]);s.trace("loader-define",h.slice(0,2));if((r=h[0]&&fa(h[0]))&&!ea[r.mid])ta(Pa(r,h[1],h[2]));else if(!y("ie-event-behavior")||Na)Da.push(h);else{r=r||va;if(!r)for(a in ea)if((g=
O[a])&&g.node&&"interactive"===g.node.readyState){r=g;break}r?(ca(r),ta(Pa(r,h[1],h[2]))):N("error",n("ieDefineFailed",h[0]));ja()}};Oa.amd={vendor:"dojotoolkit.org"};d(d(s,m.loaderPatch),f.loaderPatch);X("error",function(a){try{if(console.error(a),a instanceof Error)for(var b in a);}catch(d){}});d(s,{uid:t,cache:Y,packs:V});if(x.define)N("error",n("defineAlreadyDefined",0));else{x.define=Oa;x.require=s;b(ya,function(a){ra(a)});var bb=aa.deps||f.deps||m.deps,cb=aa.callback||f.callback||m.callback;
s.boot=bb||cb?[bb||[],cb]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/map":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/event dojo/on dojo/aspect dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry esri/kernel esri/config esri/sniff esri/lang esri/_coremap esri/MapNavigationManager".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w){var D={up:"panUp",right:"panRight",down:"panDown",left:"panLeft"},C={upperRight:"panUpperRight",
lowerRight:"panLowerRight",lowerLeft:"panLowerLeft",upperLeft:"panUpperLeft"},B=q.connect,E=q.disconnect,A=d.create,G=r.set,M=l.hitch,F=n.getMarginBox,J=m.deprecated,L=l.mixin,K=0;m=k(y,{declaredClass:"esri.Map",constructor:function(a,d){L(this,{_slider:null,_navDiv:null,_mapParams:L({attributionWidth:0.45,slider:!0,nav:!1,logo:!0,sliderStyle:"small",sliderPosition:"top-left",sliderOrientation:"vertical",autoResize:!0},d||{})});L(this,{isDoubleClickZoom:!1,isShiftDoubleClickZoom:!1,isClickRecenter:!1,
isScrollWheelZoom:!1,isPan:!1,isRubberBandZoom:!1,isKeyboardNavigation:!1,isPanArrows:!1,isZoomSlider:!1});l.isFunction(s._css)&&(s._css=s._css(this._mapParams.force3DTransforms),this.force3DTransforms=this._mapParams.force3DTransforms);var n=u("esri-transforms")&&u("esri-transitions");this.navigationMode=this._mapParams.navigationMode||n&&"css-transforms"||"classic";"css-transforms"===this.navigationMode&&!n&&(this.navigationMode="classic");this.fadeOnZoom=z.isDefined(this._mapParams.fadeOnZoom)?
this._mapParams.fadeOnZoom:"css-transforms"===this.navigationMode;"css-transforms"!==this.navigationMode&&(this.fadeOnZoom=!1);this.setMapCursor("default");this.smartNavigation=d&&d.smartNavigation;if(!z.isDefined(this.smartNavigation)&&u("mac")&&!u("esri-touch")&&!u("esri-pointer")&&!(3.5>=u("ff"))){var r=navigator.userAgent.match(/Mac\s+OS\s+X\s+([\d]+)(\.|\_)([\d]+)\D/i);r&&(z.isDefined(r[1])&&z.isDefined(r[3]))&&(n=parseInt(r[1],10),r=parseInt(r[3],10),this.smartNavigation=10<n||10===n&&6<=r)}this.showAttribution=
z.isDefined(this._mapParams.showAttribution)?this._mapParams.showAttribution:!0;this._onLoadHandler_connect=B(this,"onLoad",this,"_onLoadInitNavsHandler");var g=A("div",{"class":"esriControlsBR"+(this._mapParams.nav?" withPanArrows":"")},this.root);if(this.showAttribution)if(n=l.getObject("esri.dijit.Attribution",!1))this._initAttribution(n,g);else{var C=K++,k=this;this._rids&&this._rids.push(C);f(["esri/dijit/Attribution"],function(a){var b=k._rids?h.indexOf(k._rids,C):-1;-1!==b&&(k._rids.splice(b,
1),k._initAttribution(a,g))})}this._mapParams.logo&&(n={},6===u("ie")&&(n.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+f.toUrl("esri")+"/images/map/logo-med.png')"),n=this._ogol=A("div",{style:n},g),25E4>this.root.clientWidth*this.root.clientHeight?b.add(n,"logo-sm"):b.add(n,"logo-med"),!u("esri-touch")&&!u("esri-pointer")&&(this._ogol_connect=B(n,"onclick",this,"_openLogoLink")));this.navigationManager=new w(this);d&&d.basemap&&(this._onLoadFix=
!0,this.setBasemap(d.basemap),this._onLoadFix=!1);if(this.autoResize=this._mapParams.autoResize)n=(n=t.getEnclosingWidget(this.container))&&n.resize?n:window,r=M(this,this.resize),this._rszSignal=e.pausable(n,"resize",r),this._oriSignal=e.pausable(window,"orientationchange",r),c.after(n,"resize",r,!0)},_initAttribution:function(a,d){var c=A("span",{"class":"esriAttribution"},d,"first");G(c,"maxWidth",Math.floor(this.width*this._mapParams.attributionWidth)+"px");this._connects.push(B(c,"onclick",function(){b.contains(this,
"esriAttributionOpen")?b.remove(this,"esriAttributionOpen"):this.scrollWidth>this.clientWidth&&b.add(this,"esriAttributionOpen")}));this.attribution=new a({map:this},c)},_cleanUp:function(){this.disableMapNavigation();this.navigationManager.destroy();var a=this._slider;a&&(a.destroy&&!a._destroyed)&&a.destroy();var a=this._navDiv,b=this.attribution;a&&d.destroy(a);b&&b.destroy();this._connects.push(this._slider_connect,this._ogol_connect,this._rszSignal,this._oriSignal);h.forEach(this._connects,E);
this.attribution=this.navigationManager=this._rids=this._connects=this._slider_connect=this._ogol_connect=this._rszSignal=this._oriSignal=null;this.inherited("_cleanUp",arguments)},_isPanningOrZooming:function(){return this.__panning||this.__zooming},_canZoom:function(a){var b=this.getLevel();return!this.__tileInfo||!(b===this.getMinZoom()&&0>a||b===this.getMaxZoom()&&0<a)},_onLoadInitNavsHandler:function(){this.enableMapNavigation();this._createNav();if("small"===this._mapParams.sliderStyle||!this._createSlider)this._createSimpleSlider();
else if(this._mapParams.slider){var a=-1!==this._getSliderClass(!0).indexOf("Horizontal"),a=[a?"dijit.form.HorizontalSlider":"dijit.form.VerticalSlider",a?"dijit.form.HorizontalRule":"dijit.form.VerticalRule",a?"dijit.form.HorizontalRuleLabels":"dijit.form.VerticalRuleLabels"];if(h.some(a,function(a){return!l.getObject(a,!1)})){var a=h.map(a,function(a){return a.replace(/\./g,"/")}),b=K++,d=this;this._rids&&this._rids.push(b);f(a,function(){var a=d._rids?h.indexOf(d._rids,b):-1;-1!==a&&(d._rids.splice(a,
1),d._createSlider.apply(d,arguments))})}else a=h.map(a,function(a){return l.getObject(a,!1)}),this._createSlider.apply(this,a)}E(this._onLoadHandler_connect)},_createNav:function(){if(this._mapParams.nav){var a,d,c,n=b.add,e=this.id;this._navDiv=A("div",{id:e+"_navdiv"},this.root);n(this._navDiv,"navDiv");var r=this.width/2,g=this.height/2,s;for(c in D)d=D[c],a=A("div",{id:e+"_pan_"+c},this._navDiv),n(a,"fixedPan "+d),"up"===c||"down"===c?(s=parseInt(F(a).w,10)/2,G(a,{left:r-s+"px",zIndex:30})):
(s=parseInt(F(a).h,10)/2,G(a,{top:g-s+"px",zIndex:30})),this._connects.push(B(a,"onclick",M(this,this[d])));this._onMapResizeNavHandler_connect=B(this,"onResize",this,"_onMapResizeNavHandler");for(c in C)d=C[c],a=A("div",{id:e+"_pan_"+c,style:{zIndex:30}},this._navDiv),n(a,"fixedPan "+d),this._connects.push(B(a,"onclick",M(this,this[d])));this.isPanArrows=!0}},_onMapResizeNavHandler:function(b,d,c){b=this.id;d/=2;c/=2;var n=a.byId,e,r,g;for(e in D)r=n(b+"_pan_"+e),"up"===e||"down"===e?(g=parseInt(F(r).w,
10)/2,G(r,"left",d-g+"px")):(g=parseInt(F(r).h,10)/2,G(r,"top",c-g+"px"))},_createSimpleSlider:function(){if(this._mapParams.slider){var d=this._slider=A("div",{id:this.id+"_zoom_slider","class":this._getSliderClass(),style:{zIndex:30}}),c=u("esri-touch")&&!u("ff")?"touchstart":u("esri-pointer")?navigator.msPointerEnabled?"MSPointerDown":"pointerdown":"onclick",n=A("div",{"class":"esriSimpleSliderIncrementButton"},d),e=A("div",{"class":"esriSimpleSliderDecrementButton"},d);this._incButton=n;this._decButton=
e;n.innerHTML="+";e.innerHTML="\x26ndash;";8>u("ie")&&b.add(e,"dj_ie67Fix");this._connects.push(B(n,c,this,this._simpleSliderChangeHandler));this._connects.push(B(e,c,this,this._simpleSliderChangeHandler));"touchstart"==c&&(this._connects.push(B(n,"onclick",this,this._simpleSliderChangeHandler)),this._connects.push(B(e,"onclick",this,this._simpleSliderChangeHandler)));(-1<this.getMaxZoom()||-1<this.getMinZoom())&&this._connects.push(B(this,"onZoomEnd",this,this._simpleSliderZoomHandler));10>u("ie")&&
a.setSelectable(d,!1);this.root.appendChild(d);this.isZoomSlider=!0}},_simpleSliderChangeHandler:function(a){g.stop(a);a=-1!==a.currentTarget.className.indexOf("IncrementButton")?!0:!1;this._extentUtil({numLevels:a?1:-1})},_simpleSliderZoomHandler:function(a,d,c,n){var e;a=this._incButton;d=this._decButton;n===this.getMaxZoom()?e=a:n===this.getMinZoom()&&(e=d);e?(b.add(e,"esriSimpleSliderDisabledButton"),b.remove(e===a?d:a,"esriSimpleSliderDisabledButton")):(b.remove(a,"esriSimpleSliderDisabledButton"),
b.remove(d,"esriSimpleSliderDisabledButton"))},_getSliderClass:function(a){a=a?"Large":"Simple";var b=this._mapParams.sliderOrientation,d=this._mapParams.sliderPosition||"",b=b&&"horizontal"===b.toLowerCase()?"esri"+a+"SliderHorizontal":"esri"+a+"SliderVertical";if(d)switch(d.toLowerCase()){case "top-left":d="esri"+a+"SliderTL";break;case "top-right":d="esri"+a+"SliderTR";break;case "bottom-left":d="esri"+a+"SliderBL";break;case "bottom-right":d="esri"+a+"SliderBR"}return"esri"+a+"Slider "+b+" "+
d},_createSlider:function(a,b,d){if(this._mapParams.slider){var c=A("div",{id:this.id+"_zoom_slider"},this.root),n=x.defaults.map,e=this._getSliderClass(!0),r=-1!==e.indexOf("Horizontal");-1!==e.indexOf("SliderTL")||e.indexOf("SliderBL");-1!==e.indexOf("SliderTL")||e.indexOf("SliderTR");var g=this.getNumLevels();if(0<g){var s,w,t=this._mapParams.sliderLabels,f=!!t;if(n=!1!==t){var C=r?"bottomDecoration":"rightDecoration";if(!t){t=[];for(r=0;r<g;r++)t[r]=""}h.forEach([{"class":"esriLargeSliderTicks",
container:C,count:g,dijitClass:b},{"class":f&&"esriLargeSliderLabels",container:C,count:g,labels:t,dijitClass:d}],function(a){var d=A("div"),n=a.dijitClass;delete a.dijitClass;c.appendChild(d);n===b?s=new n(a,d):w=new n(a,d)})}a=this._slider=new a({id:c.id,"class":e,minimum:this.getMinZoom(),maximum:this.getMaxZoom(),discreteValues:g,value:this.getLevel(),clickSelect:!0,intermediateChanges:!0,style:"z-index:30;"},c);a.startup();n&&(s.startup(),w.startup());this._slider_connect=B(a,"onChange",this,
"_onSliderChangeHandler");this._connects.push(B(this,"onExtentChange",this,"_onExtentChangeSliderHandler"));this._connects.push(B(a._movable,"onFirstMove",this,"_onSliderMoveStartHandler"))}else{a=this._slider=new a({id:c.id,"class":e,minimum:0,maximum:2,discreteValues:3,value:1,clickSelect:!0,intermediateChanges:n.sliderChangeImmediate,style:"height:50px; z-index:30;"},c);d=a.domNode.firstChild.childNodes;for(r=1;3>=r;r++)G(d[r],"visibility","hidden");a.startup();this._slider_connect=B(a,"onChange",
this,"_onDynSliderChangeHandler");this._connects.push(B(this,"onExtentChange",this,"_onExtentChangeDynSliderHandler"))}d=a.decrementButton;a.incrementButton.style.outline="none";d.style.outline="none";a.sliderHandle.style.outline="none";a._onKeyPress=function(){};if(a=a._movable){var l=a.onMouseDown;a.onMouseDown=function(a){9>u("ie")&&1!==a.button||l.apply(this,arguments)}}this.isZoomSlider=!0}},_onSliderMoveStartHandler:function(){E(this._slider_connect);E(this._slidermovestop_connect);this._slider_connect=
B(this._slider,"onChange",this,"_onSliderChangeDragHandler");this._slidermovestop_connect=B(this._slider._movable,"onMoveStop",this,"_onSliderMoveEndHandler")},_onSliderChangeDragHandler:function(a){this._extentUtil({targetLevel:a})},_onSliderMoveEndHandler:function(){E(this._slider_connect);E(this._slidermovestop_connect)},_onSliderChangeHandler:function(a){this.setLevel(a)},_updateSliderValue:function(a,b){E(this._slider_connect);var d=this._slider,c=d._onChangeActive;d._onChangeActive=!1;d.set("value",
a);d._onChangeActive=c;this._slider_connect=B(d,"onChange",this,b)},_onExtentChangeSliderHandler:function(a,b,d,c){E(this._slidermovestop_connect);this._updateSliderValue(c.level,"_onSliderChangeHandler")},_onDynSliderChangeHandler:function(a){this._extentUtil({numLevels:0<a?1:-1})},_onExtentChangeDynSliderHandler:function(){this._updateSliderValue(1,"_onDynSliderChangeHandler")},_openLogoLink:function(a){window.open(x.defaults.map.logoLink,"_blank");g.stop(a)},enableMapNavigation:function(){this.navigationManager.enableNavigation()},
disableMapNavigation:function(){this.navigationManager.disableNavigation()},enableDoubleClickZoom:function(){this.isDoubleClickZoom||(this.navigationManager.enableDoubleClickZoom(),this.isDoubleClickZoom=!0)},disableDoubleClickZoom:function(){this.isDoubleClickZoom&&(this.navigationManager.disableDoubleClickZoom(),this.isDoubleClickZoom=!1)},enableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom||(J(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",
null,"v2.0"),this.navigationManager.enableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!0)},disableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom&&(J(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",null,"v2.0"),this.navigationManager.disableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!1)},enableClickRecenter:function(){this.isClickRecenter||(this.navigationManager.enableClickRecenter(),this.isClickRecenter=
!0)},disableClickRecenter:function(){this.isClickRecenter&&(this.navigationManager.disableClickRecenter(),this.isClickRecenter=!1)},enablePan:function(){this.isPan||(this.navigationManager.enablePan(),this.isPan=!0)},disablePan:function(){this.isPan&&(this.navigationManager.disablePan(),this.isPan=!1)},enableRubberBandZoom:function(){this.isRubberBandZoom||(this.navigationManager.enableRubberBandZoom(),this.isRubberBandZoom=!0)},disableRubberBandZoom:function(){this.isRubberBandZoom&&(this.navigationManager.disableRubberBandZoom(),
this.isRubberBandZoom=!1)},enableKeyboardNavigation:function(){this.isKeyboardNavigation||(this.navigationManager.enableKeyboardNavigation(),this.isKeyboardNavigation=!0)},disableKeyboardNavigation:function(){this.isKeyboardNavigation&&(this.navigationManager.disableKeyboardNavigation(),this.isKeyboardNavigation=!1)},enableScrollWheelZoom:function(){this.isScrollWheelZoom||(this.navigationManager.enableScrollWheelZoom(),this.isScrollWheelZoom=!0)},disableScrollWheelZoom:function(){this.isScrollWheelZoom&&
(this.navigationManager.disableScrollWheelZoom(),this.isScrollWheelZoom=!1)},showPanArrows:function(){this._navDiv&&(this._navDiv.style.display="block",this.isPanArrows=!0)},hidePanArrows:function(){this._navDiv&&(this._navDiv.style.display="none",this.isPanArrows=!1)},showZoomSlider:function(){this._slider&&(G(this._slider.domNode||this._slider,"visibility","visible"),this.isZoomSlider=!0)},hideZoomSlider:function(){this._slider&&(G(this._slider.domNode||this._slider,"visibility","hidden"),this.isZoomSlider=
!1)}});u("extend-esri")&&(s.Map=m);return m})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(f,m,k,q){var l,h={},g={},e={config:m,global:this,dijit:h,dojox:g},h={dojo:["dojo",e],dijit:["dijit",h],dojox:["dojox",g]};q=k.map&&k.map[q.id.match(/[^\/]+/)[0]];for(l in q)h[l]?h[l][0]=q[l]:h[l]=[q[l],{}];for(l in h)q=h[l],q[1]._scopeName=q[0],m.noGlobals||(this[q[0]]=q[1]);e.scopeMap=h;e.baseUrl=e.config.baseUrl=k.baseUrl;e.isAsync=k.async;e.locale=m.locale;q="$Rev: 43d05c6 $".match(/\d+/);
e.version={major:1,minor:9,patch:1,flag:"",revision:q?+q[0]:NaN,toString:function(){var a=e.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(e);e.exit=function(){};"undefined"!=typeof console||(console={});var h="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" "),c;for(q=0;c=h[q++];)console[c]||function(){var a=
c+"";console[a]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(a+":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}();f.add("dojo-debug-messages",!!m.isDebug);e.deprecated=e.experimental=function(){};f("dojo-debug-messages")&&(e.deprecated=function(a,b,d){a="DEPRECATED: "+a;b&&(a+=" "+b);d&&(a+=" -- will be removed in version: "+d);console.warn(a)},e.experimental=function(a,b){var d="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";b&&(d+=" "+b);console.warn(d)});
if(m.modulePaths){e.deprecated("dojo.modulePaths","use paths configuration");f={};for(l in m.modulePaths)f[l.replace(/\./g,"/")]=m.modulePaths[l];k({paths:f})}e.moduleUrl=function(a,b){e.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;a&&(d=k.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return d};e._hasResource={};return e})},"dojo/has":function(){define(["require","module"],function(f,m){var k=f.has||function(){};k.add("dom-addeventlistener",
!!document.addEventListener);k.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints);k.add("device-width",screen.availWidth||innerWidth);var q=document.createElement("form");k.add("dom-attributes-explicit",0==q.attributes.length);k.add("dom-attributes-specified-flag",0<q.attributes.length&&40>q.attributes.length);k.clearElement=function(f){f.innerHTML="";return f};k.normalize=function(f,h){var g=f.match(/[\?:]|[^:\?]*/g),e=0,c=function(a){var b=g[e++];if(":"==b)return 0;if("?"==
g[e++]){if(!a&&k(b))return c();c(!0);return c(a)}return b||0};return(f=c())&&h(f)};k.load=function(f,h,g){f?h([f],g):g()};return k})},"dojo/_base/config":function(){define(["../has","require"],function(f,m){var k={},q=m.rawConfig,l;for(l in q)k[l]=q[l];!k.locale&&"undefined"!=typeof navigator&&(k.locale=(navigator.language||navigator.userLanguage).toLowerCase());return k})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(f,m,k){function q(a,b){throw Error("declare"+
(b?" "+b:"")+": "+a);}function l(a,b,d){var c,n,e,r,g,s,h,w=this._inherited=this._inherited||{};"string"==typeof a&&(c=a,a=b,b=d);d=0;r=a.callee;(c=c||r.nom)||q("can't deduce a name to call inherited()",this.declaredClass);g=this.constructor._meta;e=g.bases;h=w.p;if(c!=B){if(w.c!==r&&(h=0,s=e[0],g=s._meta,g.hidden[c]!==r)){(n=g.chains)&&"string"==typeof n[c]&&q("calling chained method with inherited: "+c,this.declaredClass);do if(g=s._meta,n=s.prototype,g&&(n[c]===r&&n.hasOwnProperty(c)||g.hidden[c]===
r))break;while(s=e[++h]);h=s?h:-1}if(s=e[++h])if(n=s.prototype,s._meta&&n.hasOwnProperty(c))d=n[c];else{r=y[c];do if(n=s.prototype,(d=n[c])&&(s._meta?n.hasOwnProperty(c):d!==r))break;while(s=e[++h])}d=s&&d||y[c]}else{if(w.c!==r&&(h=0,(g=e[0]._meta)&&g.ctor!==r)){n=g.chains;for((!n||"manual"!==n.constructor)&&q("calling chained constructor with inherited",this.declaredClass);(s=e[++h])&&!((g=s._meta)&&g.ctor===r););h=s?h:-1}for(;(s=e[++h])&&!(d=(g=s._meta)?g.ctor:s););d=s&&d}w.c=d;w.p=h;if(d)return!0===
b?d:d.apply(this,b||a)}function h(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function g(a,b,d){var c=this.getInherited(a,b);if(c)return c.apply(this,d||b||a)}function e(a){for(var b=this.constructor._meta.bases,d=0,c=b.length;d<c;++d)if(b[d]===a)return!0;return this instanceof a}function c(a,b){for(var d in b)d!=B&&b.hasOwnProperty(d)&&(a[d]=b[d]);if(m("bug-for-in-skips-shadowed"))for(var c=k._extraNames,n=c.length;n;)d=c[--n],d!=B&&b.hasOwnProperty(d)&&(a[d]=b[d])}
function a(a){u.safeMixin(this.prototype,a);return this}function b(a,b){return u([this].concat(a),b||{})}function d(a,b){return function(){var d=arguments,c=d,n=d[0],e,r;r=a.length;var g;if(!(this instanceof d.callee))return x(d);if(b&&(n&&n.preamble||this.preamble)){g=Array(a.length);g[0]=d;for(e=0;;){if(n=d[0])(n=n.preamble)&&(d=n.apply(this,d)||d);n=a[e].prototype;(n=n.hasOwnProperty("preamble")&&n.preamble)&&(d=n.apply(this,d)||d);if(++e==r)break;g[e]=d}}for(e=r-1;0<=e;--e)n=a[e],(n=(r=n._meta)?
r.ctor:n)&&n.apply(this,g?g[e]:d);(n=this.postscript)&&n.apply(this,c)}}function n(a,b){return function(){var d=arguments,c=d,n=d[0];if(!(this instanceof d.callee))return x(d);b&&(n&&(n=n.preamble)&&(c=n.apply(this,c)||c),(n=this.preamble)&&n.apply(this,c));a&&a.apply(this,d);(n=this.postscript)&&n.apply(this,d)}}function r(a){return function(){var b=arguments,d=0,c,n;if(!(this instanceof b.callee))return x(b);for(;c=a[d];++d)if(c=(n=c._meta)?n.ctor:c){c.apply(this,b);break}(c=this.postscript)&&c.apply(this,
b)}}function t(a,b,d){return function(){var c,n,e=0,r=1;d&&(e=b.length-1,r=-1);for(;c=b[e];e+=r)n=c._meta,(c=(n?n.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function s(a){D.prototype=a.prototype;a=new D;D.prototype=null;return a}function x(a){var b=a.callee,d=s(b);b.apply(d,a);return d}function u(g,f,x){"string"!=typeof g&&(x=f,f=g,g="");x=x||{};var F,D,m,K,P,H,I,N=1,X=f;if("[object Array]"==w.call(f)){N=g;m=[];K=[{cls:0,refs:[]}];H={};for(var T=1,R=f.length,U=0,V,W,Q,O;U<R;++U){(V=f[U])?"[object Function]"!=
w.call(V)&&q("mixin #"+U+" is not a callable constructor.",N):q("mixin #"+U+" is unknown. Did you use dojo.require to pull it in?",N);W=V._meta?V._meta.bases:[V];Q=0;for(V=W.length-1;0<=V;--V)O=W[V].prototype,O.hasOwnProperty("declaredClass")||(O.declaredClass="uniqName_"+C++),O=O.declaredClass,H.hasOwnProperty(O)||(H[O]={count:0,refs:[],cls:W[V]},++T),O=H[O],Q&&Q!==O&&(O.refs.push(Q),++Q.count),Q=O;++Q.count;K[0].refs.push(Q)}for(;K.length;){Q=K.pop();m.push(Q.cls);for(--T;D=Q.refs,1==D.length;){Q=
D[0];if(!Q||--Q.count){Q=0;break}m.push(Q.cls);--T}if(Q){U=0;for(R=D.length;U<R;++U)Q=D[U],--Q.count||K.push(Q)}}T&&q("can't build consistent linearization",N);V=f[0];m[0]=V?V._meta&&V===m[m.length-V._meta.bases.length]?V._meta.bases.length:1:0;H=m;m=H[0];N=H.length-m;f=H[N]}else H=[0],f?"[object Function]"==w.call(f)?(m=f._meta,H=H.concat(m?m.bases:f)):q("base class is not a callable constructor.",g):null!==f&&q("unknown base class. Did you use dojo.require to pull it in?",g);if(f)for(D=N-1;;--D){F=
s(f);if(!D)break;m=H[D];(m._meta?c:z)(F,m.prototype);K=new Function;K.superclass=f;K.prototype=F;f=F.constructor=K}else F={};u.safeMixin(F,x);m=x.constructor;m!==y.constructor&&(m.nom=B,F.constructor=m);for(D=N-1;D;--D)(m=H[D]._meta)&&m.chains&&(I=z(I||{},m.chains));F["-chains-"]&&(I=z(I||{},F["-chains-"]));m=!I||!I.hasOwnProperty(B);H[0]=K=I&&"manual"===I.constructor?r(H):1==H.length?n(x.constructor,m):d(H,m);K._meta={bases:H,hidden:x,chains:I,parents:X,ctor:x.constructor};K.superclass=f&&f.prototype;
K.extend=a;K.createSubclass=b;K.prototype=F;F.constructor=K;F.getInherited=h;F.isInstanceOf=e;F.inherited=E;F.__inherited=l;g&&(F.declaredClass=g,k.setObject(g,K));if(I)for(P in I)F[P]&&("string"==typeof I[P]&&P!=B)&&(m=F[P]=t(P,H,"after"===I[P]),m.nom=P);return K}var z=k.mixin,y=Object.prototype,w=y.toString,D=new Function,C=0,B="constructor",E=f.config.isDebug?g:l;f.safeMixin=u.safeMixin=function(a,b){var d,c;for(d in b)if(c=b[d],(c!==y[d]||!(d in y))&&d!=B)"[object Function]"==w.call(c)&&(c.nom=
d),a[d]=c;if(m("bug-for-in-skips-shadowed"))for(var n=k._extraNames,e=n.length;e;)if(d=n[--e],c=b[d],(c!==y[d]||!(d in y))&&d!=B)"[object Function]"==w.call(c)&&(c.nom=d),a[d]=c;return a};return f.declare=u})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(f,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var k=m("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):
[],q=k.length,l=function(a,b,d){var c,e=0,g=f.global;if(!d)if(a.length){c=a[e++];try{d=f.scopeMap[c]&&f.scopeMap[c][1]}catch(s){}d=d||(c in g?g[c]:b?g[c]={}:void 0)}else return g;for(;d&&(c=a[e++]);)d=c in d?d[c]:b?d[c]={}:void 0;return d},h=Object.prototype.toString,g=function(a,b,d){return(d||[]).concat(Array.prototype.slice.call(a,b||0))},e=/\{([^\}]+)\}/g,c={_extraNames:k,_mixin:function(a,b,d){var c,e,g,s={};for(c in b)if(e=b[c],!(c in a)||a[c]!==e&&(!(c in s)||s[c]!==e))a[c]=d?d(e):e;if(m("bug-for-in-skips-shadowed")&&
b)for(g=0;g<q;++g)if(c=k[g],e=b[c],!(c in a)||a[c]!==e&&(!(c in s)||s[c]!==e))a[c]=d?d(e):e;return a},mixin:function(a,b){a||(a={});for(var d=1,n=arguments.length;d<n;d++)c._mixin(a,arguments[d]);return a},setObject:function(a,b,d){var c=a.split(".");a=c.pop();return(d=l(c,!0,d))&&a?d[a]=b:void 0},getObject:function(a,b,d){return l(a.split("."),b,d)},exists:function(a,b){return void 0!==c.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&
(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===h.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||c.isArray(a)||c.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!c.isString(a)&&!c.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(c.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!c.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,b){for(var d=1,n=arguments.length;d<
n;d++)c._mixin(a.prototype,arguments[d]);return a},_hitchArgs:function(a,b){var d=c._toArray(arguments,2),n=c.isString(b);return function(){var e=c._toArray(arguments),g=n?(a||f.global)[b]:b;return g&&g.apply(a||this,d.concat(e))}},hitch:function(a,b){if(2<arguments.length)return c._hitchArgs.apply(f,arguments);b||(b=a,a=null);if(c.isString(b)){a=a||f.global;if(!a[b])throw['lang.hitch: scope["',b,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return!a?
b:function(){return b.apply(a,arguments||[])}},delegate:function(){function a(){}return function(b,d){a.prototype=b;var n=new a;a.prototype=null;d&&c._mixin(n,d);return n}}(),_toArray:m("ie")?function(){function a(a,d,c){c=c||[];for(d=d||0;d<a.length;d++)c.push(a[d]);return c}return function(b){return(b.item?a:g).apply(this,arguments)}}():g,partial:function(a){return c.hitch.apply(f,[null].concat(c._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||c.isFunction(a))return a;if(a.nodeType&&
"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var b,d,n;if(c.isArray(a)){b=[];d=0;for(n=a.length;d<n;++d)d in a&&b.push(c.clone(a[d]))}else b=a.constructor?new a.constructor:{};return c._mixin(b,a,c.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,d){return a.replace(d||e,c.isFunction(b)?b:function(a,d){return c.getObject(d,
!1,b)})}};c.mixin(f,c);return c})},"dojo/sniff":function(){define(["./has"],function(f){var m=navigator,k=m.userAgent,q=m.appVersion,m=parseFloat(q);f.add("air",0<=k.indexOf("AdobeAIR"));f.add("msapp",parseFloat(k.split("MSAppHost/")[1])||void 0);f.add("khtml",0<=q.indexOf("Konqueror")?m:void 0);f.add("webkit",parseFloat(k.split("WebKit/")[1])||void 0);f.add("chrome",parseFloat(k.split("Chrome/")[1])||void 0);f.add("safari",0<=q.indexOf("Safari")&&!f("chrome")?parseFloat(q.split("Version/")[1]):void 0);
f.add("mac",0<=q.indexOf("Macintosh"));f.add("quirks","BackCompat"==document.compatMode);if(k.match(/(iPhone|iPod|iPad)/)){var l=RegExp.$1.replace(/P/,"p"),h=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",h=parseFloat(h.replace(/_/,".").replace(/_/g,""));f.add(l,h);f.add("ios",h)}f.add("android",parseFloat(k.split("Android ")[1])||void 0);f.add("bb",(0<=k.indexOf("BlackBerry")||0<=k.indexOf("BB10"))&&parseFloat(k.split("Version/")[1])||void 0);f.add("svg","undefined"!==typeof SVGAngle);f("webkit")||(0<=k.indexOf("Opera")&&
f.add("opera",9.8<=m?parseFloat(k.split("Version/")[1])||m:m),l=0,document.all&&!f("opera")?l=parseFloat(q.split("MSIE ")[1])||void 0:q.indexOf("Trident")&&(l=parseFloat(q.split("rv:")[1])||void 0),l&&((q=document.documentMode)&&(5!=q&&Math.floor(l)!=q)&&(l=q),f.add("ie",l)),!f("ie")&&(0<=k.indexOf("Gecko")&&!f("khtml")&&!f("webkit"))&&f.add("mozilla",m),f("mozilla")&&f.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),f.add("wii","undefined"!=typeof opera&&opera.wiiremote));
return f})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(f,m,k,q,l,h,g,e){function c(a,b,d,c,n){c=e.hitch(d,c);if(!a||!a.addEventListener&&!a.attachEvent)return q.after(a||f.global,b,c,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=f.global);if(!n)switch(b){case "keypress":b=r;break;case "mouseenter":b=h.enter;break;case "mouseleave":b=h.leave}return m(a,b,c,n)}function a(a){a.keyChar=
a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}g.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!g("opera")});var b={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},d=g("mac")?"metaKey":"ctrlKey",n=function(b,d){var c=e.mixin({},b,d);a(c);c.preventDefault=
function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()};return c},r;r=g("events-keypress-typed")?function(a,d){var c=m(a,"keydown",function(a){var c=a.keyCode,e=13!=c&&32!=c&&(27!=c||!g("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(e||a.ctrlKey){e=e?0:c;if(a.ctrlKey){if(3==c||13==c)return d.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:b[e]||e}c=n(a,{type:"keypress",faux:!0,charCode:e});d.call(a.currentTarget,c);
if(g("ie"))try{a.keyCode=c.keyCode}catch(r){}}}),e=m(a,"keypress",function(a){var b=a.charCode;a=n(a,{charCode:32<=b?b:0,faux:!0});return d.call(this,a)});return{remove:function(){c.remove();e.remove()}}}:g("opera")?function(a,b){return m(a,"keypress",function(a){var d=a.which;3==d&&(d=99);d=32>d&&!a.shiftKey?0:d;a.ctrlKey&&(!a.shiftKey&&65<=d&&90>=d)&&(d+=32);return b.call(this,n(a,{charCode:d}))})}:function(b,d){return m(b,"keypress",function(b){a(b);return d.call(this,b)})};var t={_keypress:r,
connect:function(a,b,d,n,e){var r=arguments,g=[],h=0;g.push("string"==typeof r[0]?null:r[h++],r[h++]);var t=r[h+1];g.push("string"==typeof t||"function"==typeof t?r[h++]:null,r[h++]);for(t=r.length;h<t;h++)g.push(r[h]);return c.apply(this,g)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return k.subscribe(a,e.hitch(b,d))},publish:function(a,b){return k.publish.apply(k,[a].concat(b))},connectPublisher:function(a,b,d){var c=function(){t.publish(a,arguments)};return d?t.connect(b,
d,c):t.connect(b,c)},isCopyKey:function(a){return a[d]}};t.unsubscribe=t.disconnect;e.mixin(f,t);return t})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(f,m,k){function q(a,b,n,g,s){if(g=b.match(/(.*):(.*)/))return b=g[2],g=g[1],e.selector(g,b).call(s,a,n);k("touch")&&(c.test(b)&&(n=C(n)),!k("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,n=C(n)));r&&(n=r(n));if(a.addEventListener){var h=b in d,w=h?d[b]:b;a.addEventListener(w,
n,h);return{remove:function(){a.removeEventListener(w,n,h)}}}if(u&&a.attachEvent)return u(a,"on"+b,n);throw Error("Target must be an event emitter");}function l(){this.cancelable=!1;this.defaultPrevented=!0}function h(){this.bubbles=!1}var g=window.ScriptEngineMajorVersion;k.add("jscript",g&&g()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);
k.add("event-focusin",function(a,b,d){return!!d.attachEvent});var e=function(a,b,d,c){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,d):e.parse(a,b,d,q,c,this)};e.pausable=function(a,b,d,c){var n;a=e(a,b,function(){if(!n)return d.apply(this,arguments)},c);a.pause=function(){n=!0};a.resume=function(){n=!1};return a};e.once=function(a,b,d,c){var n=e(a,b,function(){n.remove();return d.apply(this,arguments)});return n};e.parse=function(a,b,d,c,n,e){if(b.call)return b.call(e,a,
d);if(-1<b.indexOf(",")){b=b.split(/\s*,\s*/);for(var r=[],g=0,s;s=b[g++];)r.push(c(a,s,d,n,e));r.remove=function(){for(var a=0;a<r.length;a++)r[a].remove()};return r}return c(a,b,d,n,e)};var c=/^touch/;e.selector=function(a,b,d){return function(c,n){function r(b){for(g=g&&g.matches?g:m.query;!g.matches(b,a,c);)if(b==c||!1===d||!(b=b.parentNode)||1!=b.nodeType)return;return b}var g="function"==typeof a?{matches:a}:this,s=b.bubble;return s?e(c,s(r),n):e(c,b,function(a){var b=r(a.target);return b&&
n.call(b,a)})}};var a=[].slice,b=e.emit=function(b,d,c){var n=a.call(arguments,2),e="on"+d;if("parentNode"in b){var r=n[0]={},g;for(g in c)r[g]=c[g];r.preventDefault=l;r.stopPropagation=h;r.target=b;r.type=d;c=r}do b[e]&&b[e].apply(b,n);while(c&&c.bubbles&&(b=b.parentNode));return c&&c.cancelable&&c},d=k("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!k("event-stopimmediatepropagation"))var n=function(){this.modified=this.immediatelyStopped=!0},r=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=
n,a.apply(this,arguments)}};if(k("dom-addeventlistener"))e.emit=function(a,d,c){if(a.dispatchEvent&&document.createEvent){var n=a.ownerDocument.createEvent("HTMLEvents");n.initEvent(d,!!c.bubbles,!!c.cancelable);for(var r in c)r in n||(n[r]=c[r]);return a.dispatchEvent(n)&&n}return b.apply(e,arguments)};else{e._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{t&&(a.type==t.type&&a.srcElement==t.target)&&(a=t)}catch(d){}if(!a.target)switch(a.target=
a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=z,a.preventDefault=y),a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}return a};var t,s=function(a){this.handle=a};s.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var x=function(a){return function(b){b=e._fixEvent(b,this);var d=a.call(this,b);b.modified&&(t||setTimeout(function(){t=null}),t=b);return d}},u=function(a,b,d){d=x(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var c=a[b];if(!c||!c.listeners){var n=c,c=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
c.listeners=[];a[b]=c;c.global=this;n&&c.listeners.push(_dojoIEListeners_.push(n)-1)}c.listeners.push(a=c.global._dojoIEListeners_.push(d)-1);return new s(a)}return f.after(a,b,d,!0)},z=function(){this.cancelBubble=!0},y=e._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(k("touch"))var w=function(){},D=window.orientation,C=function(a){return function(b){var d=b.corrected;if(!d){var c=
b.type;try{delete b.type}catch(n){}if(b.type){if(k("mozilla")){var d={},e;for(e in b)d[e]=b[e]}else w.prototype=b,d=new w;d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=c;b.corrected=d;if("resize"==c){if(D==window.orientation)return null;D=window.orientation;d.type="orientationchange";return a.call(this,d)}"rotation"in d||(d.rotation=0,d.scale=1);var c=d.changedTouches[0],r;for(r in c)delete d[r],d[r]=c[r]}return a.call(this,d)}};
return e})},"dojo/topic":function(){define(["./Evented"],function(f){var m=new f;return{publish:function(f,q){return m.emit.apply(m,arguments)},subscribe:function(f,q){return m.on.apply(m,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(f,m){function k(){}var q=f.after;k.prototype={on:function(f,h){return m.parse(this,f,h,function(g,e){return q(g,"on"+e,h,!0)})},emit:function(f,h){var g=[this];g.push.apply(g,arguments);return m.emit.apply(m,g)}};return k})},"dojo/aspect":function(){define([],
function(){function f(e,c,a,b){var d=e[c],n="around"==c,r;if(n){var g=a(function(){return d.advice(this,arguments)});r={remove:function(){g&&(g=e=a=null)},advice:function(a,b){return g?g.apply(a,b):d.advice(a,b)}}}else r={remove:function(){if(r.advice){var b=r.previous,d=r.next;!d&&!b?delete e[c]:(b?b.next=d:e[c]=d,d&&(d.previous=b));e=a=r.advice=null}},id:q++,advice:a,receiveArguments:b};if(d&&!n)if("after"==c){for(;d.next&&(d=d.next););d.next=r;r.previous=d}else"before"==c&&(e[c]=r,r.next=d,d.previous=
r);else e[c]=r;return r}function m(e){return function(c,a,b,d){var n=c[a],r;if(!n||n.target!=c)c[a]=r=function(){for(var a=q,b=arguments,d=r.before;d;)b=d.advice.apply(this,b)||b,d=d.next;if(r.around)var c=r.around.advice(this,b);for(d=r.after;d&&d.id<a;){if(d.receiveArguments)var n=d.advice.apply(this,b),c=n===k?c:n;else c=d.advice.call(this,c,b);d=d.next}return c},n&&(r.around={advice:function(a,b){return n.apply(a,b)}}),r.target=c;c=f(r||n,e,b,d);b=null;return c}}var k,q=0,l=m("after"),h=m("before"),
g=m("around");return{before:h,around:g,after:l}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(f,m,k,q){if(m._fixEvent){var l=m._fixEvent;m._fixEvent=function(g,e){(g=l(g,e))&&q.normalizeEvent(g);return g}}var h={fix:function(g,e){return m._fixEvent?m._fixEvent(g,e):g},stop:function(g){k("dom-addeventlistener")||g&&g.preventDefault?(g.preventDefault(),g.stopPropagation()):(g=g||window.event,g.cancelBubble=!0,m._preventDefault.call(g))}};f.fixEvent=
h.fix;f.stopEvent=h.stop;return h})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(f,m,k,q){function l(a,b,d,c,e,g){g=g||"px";a=a.style;isNaN(b)||(a.left=b+g);isNaN(d)||(a.top=d+g);0<=c&&(a.width=c+g);0<=e&&(a.height=e+g)}function h(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function g(a){return"border-box"==e.boxModel||"table"==a.tagName.toLowerCase()||h(a)}
var e={boxModel:"content-box"};f("ie")&&(e.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");e.getPadExtents=function(a,b){a=k.byId(a);var d=b||q.getComputedStyle(a),c=q.toPixelValue,e=c(a,d.paddingLeft),g=c(a,d.paddingTop),s=c(a,d.paddingRight),d=c(a,d.paddingBottom);return{l:e,t:g,r:s,b:d,w:e+s,h:g+d}};e.getBorderExtents=function(a,b){a=k.byId(a);var d=q.toPixelValue,c=b||q.getComputedStyle(a),e="none"!=c.borderLeftStyle?d(a,c.borderLeftWidth):0,g="none"!=c.borderTopStyle?d(a,
c.borderTopWidth):0,s="none"!=c.borderRightStyle?d(a,c.borderRightWidth):0,d="none"!=c.borderBottomStyle?d(a,c.borderBottomWidth):0;return{l:e,t:g,r:s,b:d,w:e+s,h:g+d}};e.getPadBorderExtents=function(a,b){a=k.byId(a);var d=b||q.getComputedStyle(a),c=e.getPadExtents(a,d),d=e.getBorderExtents(a,d);return{l:c.l+d.l,t:c.t+d.t,r:c.r+d.r,b:c.b+d.b,w:c.w+d.w,h:c.h+d.h}};e.getMarginExtents=function(a,b){a=k.byId(a);var d=b||q.getComputedStyle(a),c=q.toPixelValue,e=c(a,d.marginLeft),g=c(a,d.marginTop),s=c(a,
d.marginRight),d=c(a,d.marginBottom);return{l:e,t:g,r:s,b:d,w:e+s,h:g+d}};e.getMarginBox=function(a,b){a=k.byId(a);var d=b||q.getComputedStyle(a),c=e.getMarginExtents(a,d),r=a.offsetLeft-c.l,g=a.offsetTop-c.t,s=a.parentNode,h=q.toPixelValue;if(f("mozilla")){var l=parseFloat(d.left),d=parseFloat(d.top);!isNaN(l)&&!isNaN(d)?(r=l,g=d):s&&s.style&&(s=q.getComputedStyle(s),"visible"!=s.overflow&&(r+="none"!=s.borderLeftStyle?h(a,s.borderLeftWidth):0,g+="none"!=s.borderTopStyle?h(a,s.borderTopWidth):0))}else if((f("opera")||
8==f("ie")&&!f("quirks"))&&s)s=q.getComputedStyle(s),r-="none"!=s.borderLeftStyle?h(a,s.borderLeftWidth):0,g-="none"!=s.borderTopStyle?h(a,s.borderTopWidth):0;return{l:r,t:g,w:a.offsetWidth+c.w,h:a.offsetHeight+c.h}};e.getContentBox=function(a,b){a=k.byId(a);var d=b||q.getComputedStyle(a),c=a.clientWidth,r=e.getPadExtents(a,d),g=e.getBorderExtents(a,d);c?(d=a.clientHeight,g.w=g.h=0):(c=a.offsetWidth,d=a.offsetHeight);f("opera")&&(r.l+=g.l,r.t+=g.t);return{l:r.l,t:r.t,w:c-r.w-g.w,h:d-r.h-g.h}};e.setContentSize=
function(a,b,d){a=k.byId(a);var c=b.w;b=b.h;g(a)&&(d=e.getPadBorderExtents(a,d),0<=c&&(c+=d.w),0<=b&&(b+=d.h));l(a,NaN,NaN,c,b)};var c={l:0,t:0,w:0,h:0};e.setMarginBox=function(a,b,d){a=k.byId(a);var n=d||q.getComputedStyle(a);d=b.w;var r=b.h,t=g(a)?c:e.getPadBorderExtents(a,n),n=e.getMarginExtents(a,n);if(f("webkit")&&h(a)){var s=a.style;0<=d&&!s.width&&(s.width="4px");0<=r&&!s.height&&(s.height="4px")}0<=d&&(d=Math.max(d-t.w-n.w,0));0<=r&&(r=Math.max(r-t.h-n.h,0));l(a,b.l,b.t,d,r)};e.isBodyLtr=
function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};e.docScroll=function(a){a=a||m.doc;var b=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=f("quirks")?m.body(a):a.documentElement)&&{x:e.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};f("ie")&&(e.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>f("ie")){var b=a.getBoundingClientRect(),d=b.left,b=b.top;7>f("ie")&&(d+=
a.clientLeft,b+=a.clientTop);return{x:0>d?0:d,y:0>b?0:b}}return{x:0,y:0}});e.fixIeBiDiScrollLeft=function(a,b){b=b||m.doc;var d=f("ie");if(d&&!e.isBodyLtr(b)){var c=f("quirks"),r=c?m.body(b):b.documentElement,g=m.global;6==d&&(!c&&g.frameElement&&r.scrollHeight>r.clientHeight)&&(a+=r.clientLeft);return 8>d||c?a+r.clientWidth-r.scrollWidth:-a}return a};e.position=function(a,b){a=k.byId(a);var d=m.body(a.ownerDocument),c=a.getBoundingClientRect(),c={x:c.left,y:c.top,w:c.right-c.left,h:c.bottom-c.top};
if(9>f("ie")){var r=e.getIeDocumentElementOffset(a.ownerDocument);c.x-=r.x+(f("quirks")?d.clientLeft+d.offsetLeft:0);c.y-=r.y+(f("quirks")?d.clientTop+d.offsetTop:0)}b&&(d=e.docScroll(a.ownerDocument),c.x+=d.x,c.y+=d.y);return c};e.getMarginSize=function(a,b){a=k.byId(a);var d=e.getMarginExtents(a,b||q.getComputedStyle(a)),c=a.getBoundingClientRect();return{w:c.right-c.left+d.w,h:c.bottom-c.top+d.h}};e.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!f("dom-addeventlistener")){var b=
a.target,b=b&&b.ownerDocument||document,d=f("quirks")?b.body:b.documentElement,c=e.getIeDocumentElementOffset(b);a.pageX=a.clientX+e.fixIeBiDiScrollLeft(d.scrollLeft||0,b)-c.x;a.pageY=a.clientY+(d.scrollTop||0)-c.y}};return e})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(f,m,k){var q={global:f.global,doc:this.document||null,body:function(l){l=l||f.doc;return l.body||l.getElementsByTagName("body")[0]},setContext:function(l,h){f.global=q.global=l;f.doc=q.doc=h},
withGlobal:function(l,h,g,e){var c=f.global;try{return f.global=q.global=l,q.withDoc.call(null,l.document,h,g,e)}finally{f.global=q.global=c}},withDoc:function(l,h,g,e){var c=q.doc,a=k("quirks"),b=k("ie"),d,n,r;try{f.doc=q.doc=l;f.isQuirks=k.add("quirks","BackCompat"==f.doc.compatMode,!0,!0);if(k("ie")&&(r=l.parentWindow)&&r.navigator)d=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,(n=l.documentMode)&&(5!=n&&Math.floor(d)!=n)&&(d=n),f.isIE=k.add("ie",d,!0,!0);g&&"string"==typeof h&&
(h=g[h]);return h.apply(g,e||[])}finally{f.doc=q.doc=c,f.isQuirks=k.add("quirks",a,!0,!0),f.isIE=k.add("ie",b,!0,!0)}}};m.mixin(f,q);return q})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(f,m){if(7>=f("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var q={};f("ie")?q.byId=function(h,g){if("string"!=typeof h)return h;var e=g||m.doc,c=h&&e.getElementById(h);if(c&&(c.attributes.id.value==h||c.id==h))return c;e=e.all[h];if(!e||e.nodeName)e=[e];for(var a=
0;c=e[a++];)if(c.attributes&&c.attributes.id&&c.attributes.id.value==h||c.id==h)return c}:q.byId=function(h,g){return("string"==typeof h?(g||m.doc).getElementById(h):h)||null};q.isDescendant=function(h,g){try{h=q.byId(h);for(g=q.byId(g);h;){if(h==g)return!0;h=h.parentNode}}catch(e){}return!1};f.add("css-user-select",function(h,g,e){if(!e)return!1;h=e.style;g=["Khtml","O","ms","Moz","Webkit"];e=g.length;var c="userSelect";do if("undefined"!==typeof h[c])return c;while(e--&&(c=g[e]+"UserSelect"));return!1});
var l=f("css-user-select");q.setSelectable=l?function(h,g){q.byId(h).style[l]=g?"":"none"}:function(h,g){h=q.byId(h);var e=h.getElementsByTagName("*"),c=e.length;if(g)for(h.removeAttribute("unselectable");c--;)e[c].removeAttribute("unselectable");else for(h.setAttribute("unselectable","on");c--;)e[c].setAttribute("unselectable","on")};return q})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(f,m){function k(d,c,e){c=c.toLowerCase();if(f("ie")){if("auto"==e){if("height"==c)return d.offsetHeight;
if("width"==c)return d.offsetWidth}if("fontweight"==c)switch(e){case 700:return"bold";default:return"normal"}}c in a||(a[c]=b.test(c));return a[c]?h(d,e):e}var q,l={};q=f("webkit")?function(a){var b;if(1==a.nodeType){var d=a.ownerDocument.defaultView;b=d.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=d.getComputedStyle(a,null))}return b||{}}:f("ie")&&(9>f("ie")||f("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,
null):{}};l.getComputedStyle=q;var h;h=f("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var d=a.style,c=a.runtimeStyle,e=d.left,g=c.left;c.left=a.currentStyle.left;try{d.left=b,b=d.pixelLeft}catch(h){b=0}d.left=e;c.left=g;return b}:function(a,b){return parseFloat(b)||0};l.toPixelValue=h;var g=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return b?{}:null}},e=9>f("ie")||10>f("ie")&&f("quirks")?function(a){try{return g(a).Opacity/
100}catch(b){return 1}}:function(a){return q(a).opacity},c=9>f("ie")||10>f("ie")&&f("quirks")?function(a,b){""===b&&(b=1);var d=100*b;1===b?(a.style.zoom="",g(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,g(a)?g(a,1).Opacity=d:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",g(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(d=a.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&c(d,
b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},b=/margin|padding|width|height|max|min|offset/,d={cssFloat:1,styleFloat:1,"float":1};l.get=function(a,b){var c=m.byId(a),g=arguments.length;if(2==g&&"opacity"==b)return e(c);b=d[b]?"cssFloat"in c.style?"cssFloat":"styleFloat":b;var h=l.getComputedStyle(c);return 1==g?h:k(c,b,h[b]||c.style[b])};l.set=function(a,b,e){var g=m.byId(a),h=arguments.length,f="opacity"==b;b=d[b]?"cssFloat"in g.style?"cssFloat":"styleFloat":b;if(3==h)return f?
c(g,e):g.style[b]=e;for(var k in b)l.set(a,k,b[k]);return l.getComputedStyle(g)};return l})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(f,m,k,q,l){function h(g,e){var c=function(a,b){return m(a,g,function(d){if(e)return e(d,b);if(!q.isDescendant(d.relatedTarget,a))return b.call(this,d)})};c.bubble=function(a){return h(g,function(b,d){var c=a(b.target),e=b.relatedTarget;if(c&&c!=(e&&1==e.nodeType&&a(e)))return d.call(c,b)})};return c}k.add("dom-quirks",
l.doc&&"BackCompat"==l.doc.compatMode);k.add("events-mouseenter",l.doc&&"onmouseenter"in l.doc.createElement("div"));k.add("events-mousewheel",l.doc&&"onmousewheel"in l.doc);l=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(g,e){return g.button&e},isLeft:function(g){return g.button&1},isMiddle:function(g){return g.button&4},isRight:function(g){return g.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(g,e){return g.button==e},isLeft:function(g){return 0==
g.button},isMiddle:function(g){return 1==g.button},isRight:function(g){return 2==g.button}};f.mouseButtons=l;f=k("events-mousewheel")?"mousewheel":function(g,e){return m(g,"DOMMouseScroll",function(c){c.wheelDelta=-c.detail;e.call(this,c)})};return{_eventHandler:h,enter:h("mouseover"),leave:h("mouseout"),wheel:f,isLeft:l.isLeft,isMiddle:l.isMiddle,isRight:l.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(f,m,k){f._name="browser";m.mixin(f,{isBrowser:!0,isFF:k("ff"),
isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(f,m){return f.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,
END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,
UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(f,m,k){function q(a){return g[a]=new Function("item","index","array",a)}function l(a){var b=!a;return function(d,c,e){var h=0,s=d&&d.length||0,f;s&&"string"==typeof d&&(d=d.split(""));"string"==typeof c&&(c=g[c]||q(c));if(e)for(;h<s;++h){if(f=!c.call(e,d[h],h,d),a^f)return!f}else for(;h<s;++h)if(f=!c(d[h],h,d),a^f)return!f;
return b}}function h(a){var b=1,d=0,n=0;a||(b=d=n=-1);return function(r,g,s,h){if(h&&0<b)return c.lastIndexOf(r,g,s);h=r&&r.length||0;var f=a?h+n:d;s===e?s=a?d:h+n:0>s?(s=h+s,0>s&&(s=d)):s=s>=h?h+n:s;for(h&&"string"==typeof r&&(r=r.split(""));s!=f;s+=b)if(r[s]==g)return s;return-1}}var g={},e,c={every:l(!1),some:l(!0),indexOf:h(!0),lastIndexOf:h(!1),forEach:function(a,b,d){var c=0,e=a&&a.length||0;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=g[b]||q(b));if(d)for(;c<e;++c)b.call(d,
a[c],c,a);else for(;c<e;++c)b(a[c],c,a)},map:function(a,b,d,c){var e=0,h=a&&a.length||0;c=new (c||Array)(h);h&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=g[b]||q(b));if(d)for(;e<h;++e)c[e]=b.call(d,a[e],e,a);else for(;e<h;++e)c[e]=b(a[e],e,a);return c},filter:function(a,b,d){var c=0,e=a&&a.length||0,h=[],s;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=g[b]||q(b));if(d)for(;c<e;++c)s=a[c],b.call(d,s,c,a)&&h.push(s);else for(;c<e;++c)s=a[c],b(s,c,a)&&h.push(s);return h},
clearCache:function(){g={}}};k.mixin(f,c);return c})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(f,m,k){function q(c){if("string"==typeof c||c instanceof String){if(c&&!h.test(c))return g[0]=c,g;c=c.split(h);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return!c?[]:m.filter(c,function(a){return a})}var l,h=/\s+/,g=[""],e={};return l={contains:function(c,a){return 0<=(" "+k.byId(c).className+" ").indexOf(" "+a+" ")},add:function(c,a){c=
k.byId(c);a=q(a);var b=c.className,d,b=b?" "+b+" ":" ";d=b.length;for(var e=0,g=a.length,h;e<g;++e)(h=a[e])&&0>b.indexOf(" "+h+" ")&&(b+=h+" ");d<b.length&&(c.className=b.substr(1,b.length-2))},remove:function(c,a){c=k.byId(c);var b;if(void 0!==a){a=q(a);b=" "+c.className+" ";for(var d=0,e=a.length;d<e;++d)b=b.replace(" "+a[d]+" "," ");b=f.trim(b)}else b="";c.className!=b&&(c.className=b)},replace:function(c,a,b){c=k.byId(c);e.className=c.className;l.remove(e,b);l.add(e,a);c.className!==e.className&&
(c.className=e.className)},toggle:function(c,a,b){c=k.byId(c);if(void 0===b){a=q(a);for(var d=0,e=a.length,g;d<e;++d)g=a[d],l[l.contains(c,g)?"remove":"add"](c,g)}else l[b?"add":"remove"](c,a);return b}}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(f,m,k,q,l,h){function g(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function e(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(b){}for(var d;d=a.lastChild;)c(d,
a)}function c(a,b){a.firstChild&&e(a);b&&(k("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},b=/<\s*([\w\:]+)/,d={},n=0,r="__"+m._scopeName+"ToDomId",t;for(t in a)a.hasOwnProperty(t)&&(m=a[t],m.pre="option"==t?'\x3cselect multiple\x3d"multiple"\x3e':
"\x3c"+m.join("\x3e\x3c")+"\x3e",m.post="\x3c/"+m.reverse().join("\x3e\x3c/")+"\x3e");var s;8>=k("ie")&&(s=function(a){a.__dojo_html5_tested="yes";var b=x("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});u(b)});f.toDom=function(c,e){e=e||q.doc;var g=e[r];
g||(e[r]=g=++n+"",d[g]=e.createElement("div"));8>=k("ie")&&!e.__dojo_html5_tested&&e.body&&s(e);c+="";var h=c.match(b),f=h?h[1].toLowerCase():"",g=d[g];if(h&&a[f]){h=a[f];g.innerHTML=h.pre+c+h.post;for(h=h.length;h;--h)g=g.firstChild}else g.innerHTML=c;if(1==g.childNodes.length)return g.removeChild(g.firstChild);for(f=e.createDocumentFragment();h=g.firstChild;)f.appendChild(h);return f};f.place=function(a,b,d){b=l.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?f.toDom(a,b.ownerDocument):l.byId(a));
if("number"==typeof d){var c=b.childNodes;!c.length||c.length<=d?b.appendChild(a):g(a,c[0>d?0:d])}else switch(d){case "before":g(a,b);break;case "after":d=a;(c=b.parentNode)&&(c.lastChild==b?c.appendChild(d):c.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":f.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){g(a,b.firstChild);break}default:b.appendChild(a)}return a};var x=f.create=function(a,b,d,c){var e=q.doc;d&&(d=l.byId(d),e=d.ownerDocument);
"string"==typeof a&&(a=e.createElement(a));b&&h.set(a,b);d&&f.place(a,d,c);return a};f.empty=function(a){e(l.byId(a))};var u=f.destroy=function(a){(a=l.byId(a))&&c(a,a.parentNode)}})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(f,m,k,q,l,h){function g(a,b){var d=a.getAttributeNode&&a.getAttributeNode(b);return d&&d.specified}var e={innerHTML:1,className:1,htmlFor:m("ie"),value:1},c={classname:"class",htmlfor:"for",tabindex:"tabIndex",
readonly:"readOnly"};f.has=function(a,b){var d=b.toLowerCase();return e[h.names[d]||b]||g(q.byId(a),c[d]||b)};f.get=function(a,b){a=q.byId(a);var d=b.toLowerCase(),n=h.names[d]||b,r=a[n];if(e[n]&&"undefined"!=typeof r||"href"!=n&&("boolean"==typeof r||k.isFunction(r)))return r;d=c[d]||b;return g(a,d)?a.getAttribute(d):null};f.set=function(a,b,d){a=q.byId(a);if(2==arguments.length){for(var n in b)f.set(a,n,b[n]);return a}n=b.toLowerCase();var g=h.names[n]||b,t=e[g];if("style"==g&&"string"!=typeof d)return l.set(a,
d),a;if(t||"boolean"==typeof d||k.isFunction(d))return h.set(a,b,d);a.setAttribute(c[n]||b,d);return a};f.remove=function(a,b){q.byId(a).removeAttribute(c[b.toLowerCase()]||b)};f.getNodeProp=function(a,b){a=q.byId(a);var d=b.toLowerCase(),e=h.names[d]||b;if(e in a&&"href"!=e)return a[e];d=c[d]||b;return g(a,d)?a.getAttribute(d):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(f,m,k,q,l,h,
g,e){var c={},a=0,b=m._scopeName+"attrid";f.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};f.get=function(a,b){a=l.byId(a);var c=b.toLowerCase();return a[f.names[c]||b]};f.set=function(d,n,r){d=l.byId(d);if(2==arguments.length&&"string"!=typeof n){for(var t in n)f.set(d,t,n[t]);return d}t=n.toLowerCase();t=f.names[t]||n;if("style"==t&&"string"!=typeof r)return h.set(d,r),d;if("innerHTML"==
t)return k("ie")&&d.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(g.empty(d),d.appendChild(g.toDom(r,d.ownerDocument))):d[t]=r,d;if(q.isFunction(r)){var s=d[b];s||(s=a++,d[b]=s);c[s]||(c[s]={});var x=c[s][t];if(x)e.disconnect(x);else try{delete d[t]}catch(u){}r?c[s][t]=e.connect(d,t,r):d[t]=null;return d}d[t]=r;return d}})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(f,m,k,q){var l={},h={},g={length:0,
add:function(e){if(h[e.id])throw Error("Tried to register widget with id\x3d\x3d"+e.id+" but that id is already registered");h[e.id]=e;this.length++},remove:function(e){h[e]&&(delete h[e],this.length--)},byId:function(e){return"string"==typeof e?h[e]:e},byNode:function(e){return h[e.getAttribute("widgetId")]},toArray:function(){var e=[],c;for(c in h)e.push(h[c]);return e},getUniqueId:function(e){var c;do c=e+"_"+(e in l?++l[e]:l[e]=0);while(h[c]);return"dijit"==q._scopeName?c:q._scopeName+"_"+c},
findWidgets:function(e,c){function a(d){for(d=d.firstChild;d;d=d.nextSibling)if(1==d.nodeType){var e=d.getAttribute("widgetId");e?(e=h[e])&&b.push(e):d!==c&&a(d)}}var b=[];a(e);return b},_destroyAll:function(){q._curFocus=null;q._prevFocus=null;q._activeStack=[];f.forEach(g.findWidgets(k.body()),function(e){e._destroyed||(e.destroyRecursive?e.destroyRecursive():e.destroy&&e.destroy())})},getEnclosingWidget:function(e){for(;e;){var c=1==e.nodeType&&e.getAttribute("widgetId");if(c)return h[c];e=e.parentNode}return null},
_hash:h};return q.registry=g})},"dijit/main":function(){define(["dojo/_base/kernel"],function(f){return f.dijit})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],function(f,m,k){var q=window.location,l=q.pathname,l={version:3.9,_appBaseUrl:q.protocol+"//"+q.host+l.substring(0,l.lastIndexOf(l.split("/")[l.split("/").length-1]))};m.noGlobals||(window.esri=l);f.isAsync||k.add("extend-esri",1);(l.dijit=l.dijit||{})._arcgisUrl=q.protocol+"//www.arcgis.com/sharing/rest";
return l})},"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","esri/kernel"],function(f,m,k,q){var l={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,
0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com",basemaps:{streets:{title:"Streets",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]},satellite:{title:"Satellite",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]},hybrid:{title:"Imagery with Labels",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},
{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",isReference:!0}]},topo:{title:"Topographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"}]},gray:{title:"Light Gray Canvas",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"},{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",
isReference:!0}]},oceans:{title:"Oceans",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer"}]},"national-geographic":{title:"National Geographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer"}]},osm:{title:"OpenStreetMap",baseMapLayers:[{type:"OpenStreetMap"}]}}},autoSpatialIndexing:window.Worker&&!1,io:{errorHandler:function(h,g){m.publish("esri.Error",[h])},proxyUrl:null,alwaysUseProxy:!1,useCors:!0,
corsEnabledServers:"www.arcgis.com tiles.arcgis.com services.arcgis.com services1.arcgis.com services2.arcgis.com services3.arcgis.com static.arcgis.com utility.arcgisonline.com geocode.arcgis.com geoenrich.arcgis.com qaext.arcgis.com tilesqa.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com geocodeqa.arcgis.com geoenrichqa.arcgis.com dev.arcgis.com devext.arcgis.com tilesdevext.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com geocodedev.arcgis.com geoenrichdev.arcgis.com".split(" "),
corsDetection:window.cordova?!1:!0,_processedCorsServers:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5}}};k("extend-esri")&&(q.config=l);f.noGlobals||(window.esriConfig=l);return l})},"esri/sniff":function(){define(["dojo/_base/sniff","esri/kernel"],function(f,m){var k=f("ff"),q=f("ie"),l=f("webkit"),h=f("opera"),g=f("chrome"),e=f("safari"),c=navigator.userAgent,a;(a=c.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+\_\d+)/i))&&f.add("esri-iphone",
parseFloat(a[2].replace("_",".")));(a=c.match(/Android\s+(\d+\.\d+)/i))&&f.add("esri-android",parseFloat(a[1]));(a=c.match(/Fennec\/(\d+\.\d+)/i))&&f.add("esri-fennec",parseFloat(a[1]));0<=c.indexOf("BlackBerry")&&0<=c.indexOf("WebKit")&&f.add("esri-blackberry",1);f.add("esri-touch",f("esri-iphone")||f("esri-android")||f("esri-blackberry")||6<=f("esri-fennec")||(k||l)&&document.createTouch?!0:!1);f.add("esri-pointer",navigator.pointerEnabled||navigator.msPointerEnabled);m._getDOMAccessor=function(a){var d=
"";k?d="Moz":l?d="Webkit":q?d="ms":h&&(d="O");return d+a.charAt(0).toUpperCase()+a.substr(1)};f.add("esri-phonegap",!!window.cordova);f.add("esri-cors",4<=g||3.5<=k||4<=e||10<=q||f("esri-phonegap"));f.add("esri-file-upload",window.FormData&&window.FileList?!0:!1);f.add("esri-workers",window.Worker?!0:!1);f.add("esri-transforms",9<=q||3.5<=k||4<=g||3.1<=e||10.5<=h||3.2<=f("esri-iphone")||2.1<=f("esri-android"));f.add("esri-transitions",10<=q||4<=k||4<=g||3.1<=e||10.5<=h||3.2<=f("esri-iphone")||2.1<=
f("esri-android"));f.add("esri-transforms3d",11<=q||10<=k||12<=g||4<=e||3.2<=f("esri-iphone")||3<=f("esri-android"));3>f("esri-android")&&(f.add("esri-transforms",!1,!1,!0),f.add("esri-transitions",!1,!1,!0),f.add("esri-transforms3d",!1,!1,!0));m._css=function(a){var d=f("esri-transforms3d");if(void 0!==a&&null!==a)d=a;else if(d&&(g||e&&!f("esri-iphone")))d=!1;var c=d?"translate3d(":"translate(",r=d?g?",-1px)":",0px)":")",t=d?"scale3d(":"scale(",s=d?",1)":")",x=d?"rotate3d(0,0,1,":"rotate(",u=d?"matrix3d(":
"matrix(",m=d?",0,0,":",",y=d?",0,0,0,0,1,0,":",",w=d?",0,1)":")";return{names:{transition:l&&"-webkit-transition"||k&&"MozTransition"||h&&"OTransition"||q&&"msTransition",transform:l&&"-webkit-transform"||k&&"MozTransform"||h&&"OTransform"||q&&"msTransform",transformName:l&&"-webkit-transform"||k&&"-moz-transform"||h&&"-o-transform"||q&&"-ms-transform",origin:l&&"-webkit-transform-origin"||k&&"MozTransformOrigin"||h&&"OTransformOrigin"||q&&"msTransformOrigin",endEvent:l&&"webkitTransitionEnd"||k&&
"transitionend"||h&&"oTransitionEnd"||q&&"MSTransitionEnd"},translate:function(a,b){return c+a+"px,"+b+"px"+r},scale:function(a){return t+a+","+a+s},rotate:function(a){return x+a+"deg)"},matrix:function(a){return u+a.xx+","+a.xy+m+a.yx+","+a.yy+y+a.dx.toFixed(10)+(k?"px,":",")+a.dy.toFixed(10)+(k?"px":"")+w}}};f("extend-esri")&&(m.isiPhone=f("esri-iphone"),m.isAndroid=f("esri-android"),m.isFennec=f("esri-fennec"),m.isBlackBerry=f("esri-blackberry"),m.isTouchEnabled=f("esri-touch"),m.isPointerEnabled=
f("esri-pointer"),m._hasCors=f("esri-cors"),m._hasFileUpload=f("esri-file-upload"),m._hasTransforms=f("esri-transforms"),m._hasTransitions=f("esri-transitions"),m._has3DTransforms=f("esri-transforms3d"));return f})},"esri/lang":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date dojo/has dojo/number dojo/date/locale esri/kernel".split(" "),function(f,m,k,q,l,h,g,e,c){function a(a,b,d){return[q.isString(a)?a.split(""):a,b||k.global,q.isString(d)?new Function("item",
"index","array",d):d]}function b(a){return void 0!==a&&null!==a}function d(a,d,c){var n=c.match(/([^\(]+)(\([^\)]+\))?/i),h=q.trim(n[1]);c=d[a];var n=m.fromJson((n[2]?q.trim(n[2]):"()").replace(/^\(/,"({").replace(/\)$/,"})")),w=n.utcOffset;if(-1===f.indexOf(r,h))h=q.getObject(h),q.isFunction(h)&&(c=h(c,a,d));else if("number"===typeof c||"string"===typeof c&&c&&!isNaN(Number(c)))switch(c=Number(c),h){case "NumberFormat":return g.format(c,n);case "DateString":a=new Date(c);if(n.local||n.systemLocale)return n.systemLocale?
a.toLocaleDateString()+(n.hideTime?"":" "+a.toLocaleTimeString()):a.toDateString()+(n.hideTime?"":" "+a.toTimeString());a=a.toUTCString();n.hideTime&&(a=a.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return a;case "DateFormat":return a=new Date(c),b(w)&&(a=l.add(a,"minute",a.getTimezoneOffset()-w)),e.format(a,n)}return b(c)?c:""}function n(a,b){var d;if(b)for(d in a)a.hasOwnProperty(d)&&(void 0===a[d]||null===a[d]?delete a[d]:a[d]instanceof Object&&n(a[d],!0));else for(d in a)a.hasOwnProperty(d)&&
void 0===a[d]&&delete a[d];return a}var r=["NumberFormat","DateString","DateFormat"],t={valueOf:function(a,b){for(var d in a)if(a[d]==b)return d;return null},substitute:function(a,c,e){var n,g,r;b(e)&&(q.isObject(e)?(n=e.first,g=e.dateFormat,r=e.numberFormat):n=e);if(!c||"${*}"===c){c=[];for(var h in a){e=a[h];if(g&&-1!==f.indexOf(g.properties||"",h))e=d(h,a,g.formatter||"DateString");else if(r&&-1!==f.indexOf(r.properties||"",h))e=d(h,a,r.formatter||"NumberFormat");c.push(h+" \x3d "+(b(e)?e:"")+
"\x3cbr/\x3e");if(n)break}return c.join("")}return q.replace(c,q.hitch({obj:a},function(a,c){var e=c.split(":");return 1<e.length?(c=e[0],e.shift(),d(c,this.obj,e.join(":"))):g&&-1!==f.indexOf(g.properties||"",c)?d(c,this.obj,g.formatter||"DateString"):r&&-1!==f.indexOf(r.properties||"",c)?d(c,this.obj,r.formatter||"NumberFormat"):b(this.obj[c])?this.obj[c]:""}),/\$\{([^\}]+)\}/g)},filter:function(b,d,c){d=a(b,c,d);c={};var e;b=d[0];for(e in b)d[2].call(d[e],b[e],e,b)&&(c[e]=b[e]);return c},isDefined:b,
fixJson:n};h("extend-esri")&&(q.mixin(c,t),c._isDefined=b,c._getParts=a,c._sanitize=n);return t})},"dojo/_base/json":function(){define(["./kernel","../json"],function(f,m){f.fromJson=function(f){return eval("("+f+")")};f._escapeString=m.stringify;f.toJsonIndentStr="\t";f.toJson=function(k,q){return m.stringify(k,function(f,h){if(h){var g=h.__json__||h.json;if("function"==typeof g)return g.call(h)}return h},q&&f.toJsonIndentStr)};return f})},"dojo/json":function(){define(["./has"],function(f){var m=
"undefined"!=typeof JSON;f.add("json-parse",m);f.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(f,l){return l||1}));if(f("json-stringify"))return JSON;var k=function(f){return('"'+f.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:f("json-parse")?JSON.parse:function(f,l){if(l&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(f))throw new SyntaxError("Invalid characters in JSON");
return eval("("+f+")")},stringify:function(f,l,h){function g(c,a,b){l&&(c=l(b,c));var d;d=typeof c;if("number"==d)return isFinite(c)?c+"":"null";if("boolean"==d)return c+"";if(null===c)return"null";if("string"==typeof c)return k(c);if("function"==d||"undefined"==d)return e;if("function"==typeof c.toJSON)return g(c.toJSON(b),a,b);if(c instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,d){a=c["getUTC"+b]()+(d?1:0);return 10>a?"0"+
a:a});if(c.valueOf()!==c)return g(c.valueOf(),a,b);var n=h?a+h:"",r=h?" ":"",f=h?"\n":"";if(c instanceof Array){var r=c.length,s=[];for(b=0;b<r;b++)d=g(c[b],n,b),"string"!=typeof d&&(d="null"),s.push(f+n+d);return"["+s.join(",")+f+a+"]"}s=[];for(b in c){var q;if(c.hasOwnProperty(b)){if("number"==typeof b)q='"'+b+'"';else if("string"==typeof b)q=k(b);else continue;d=g(c[b],n,b);"string"==typeof d&&s.push(f+n+q+":"+r+d)}}return"{"+s.join(",")+f+a+"}"}var e;"string"==typeof l&&(h=l,l=null);return g(f,
"","")}}})},"dojo/date":function(){define(["./has","./_base/lang"],function(f,m){var k={getDaysInMonth:function(f){var l=f.getMonth();return 1==l&&k.isLeapYear(f)?29:[31,28,31,30,31,30,31,31,30,31,30,31][l]},isLeapYear:function(f){f=f.getFullYear();return!(f%400)||!(f%4)&&!!(f%100)},getTimezoneName:function(f){var l=f.toString(),h="",g=l.indexOf("(");if(-1<g)h=l.substring(++g,l.indexOf(")"));else if(g=/([A-Z\/]+) \d{4}$/,l=l.match(g))h=l[1];else if(l=f.toLocaleString(),g=/ ([A-Z\/]+)$/,l=l.match(g))h=
l[1];return"AM"==h||"PM"==h?"":h},compare:function(f,l,h){f=new Date(+f);l=new Date(+(l||new Date));"date"==h?(f.setHours(0,0,0,0),l.setHours(0,0,0,0)):"time"==h&&(f.setFullYear(0,0,0),l.setFullYear(0,0,0));return f>l?1:f<l?-1:0},add:function(f,l,h){var g=new Date(+f),e=!1,c="Date";switch(l){case "day":break;case "weekday":var a;(l=h%5)?a=parseInt(h/5):(l=0<h?5:-5,a=0<h?(h-5)/5:(h+5)/5);var b=f.getDay(),d=0;6==b&&0<h?d=1:0==b&&0>h&&(d=-1);b+=l;if(0==b||6==b)d=0<h?2:-2;h=7*a+l+d;break;case "year":c=
"FullYear";e=!0;break;case "week":h*=7;break;case "quarter":h*=3;case "month":e=!0;c="Month";break;default:c="UTC"+l.charAt(0).toUpperCase()+l.substring(1)+"s"}if(c)g["set"+c](g["get"+c]()+h);e&&g.getDate()<f.getDate()&&g.setDate(0);return g},difference:function(f,l,h){l=l||new Date;h=h||"day";var g=l.getFullYear()-f.getFullYear(),e=1;switch(h){case "quarter":f=f.getMonth();l=l.getMonth();f=Math.floor(f/3)+1;l=Math.floor(l/3)+1;e=l+4*g-f;break;case "weekday":g=Math.round(k.difference(f,l,"day"));
h=parseInt(k.difference(f,l,"week"));e=g%7;if(0==e)g=5*h;else{var c=0,a=f.getDay();l=l.getDay();h=parseInt(g/7);e=g%7;f=new Date(f);f.setDate(f.getDate()+7*h);f=f.getDay();if(0<g)switch(!0){case 6==a:c=-1;break;case 0==a:c=0;break;case 6==l:c=-1;break;case 0==l:c=-2;break;case 5<f+e:c=-2}else if(0>g)switch(!0){case 6==a:c=0;break;case 0==a:c=1;break;case 6==l:c=2;break;case 0==l:c=1;break;case 0>f+e:c=2}g=g+c-2*h}e=g;break;case "year":e=g;break;case "month":e=l.getMonth()-f.getMonth()+12*g;break;
case "week":e=parseInt(k.difference(f,l,"day")/7);break;case "day":e/=24;case "hour":e/=60;case "minute":e/=60;case "second":e/=1E3;case "millisecond":e*=l.getTime()-f.getTime()}return Math.round(e)}};m.mixin(m.getObject("dojo.date",!0),k);return k})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(f,m,k,q,l){var h={};f.setObject("dojo.number",h);h.format=function(e,c){c=f.mixin({},c||{});var a=m.normalizeLocale(c.locale),a=m.getLocalization("dojo.cldr",
"number",a);c.customs=a;a=c.pattern||a[(c.type||"decimal")+"Format"];return isNaN(e)||Infinity==Math.abs(e)?null:h._applyPattern(e,a,c)};h._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;h._applyPattern=function(e,c,a){a=a||{};var b=a.customs.group,d=a.customs.decimal;c=c.split(";");var n=c[0];c=c[0>e?1:0]||"-"+n;if(-1!=c.indexOf("%"))e*=100;else if(-1!=c.indexOf("\u2030"))e*=1E3;else if(-1!=c.indexOf("\u00a4"))b=a.customs.currencyGroup||b,d=a.customs.currencyDecimal||d,c=c.replace(/\u00a4{1,3}/,function(b){return a[["symbol",
"currency","displayName"][b.length-1]]||a.currency||""});else if(-1!=c.indexOf("E"))throw Error("exponential notation not supported");var g=h._numberPatternRE,n=n.match(g);if(!n)throw Error("unable to find a number expression in pattern: "+c);!1===a.fractional&&(a.places=0);return c.replace(g,h._formatAbsolute(e,n[0],{decimal:d,group:b,places:a.places,round:a.round}))};h.round=function(e,c,a){a=10/(a||10);return(a*+e).toFixed(c)/a};if(0==(0.9).toFixed()){var g=h.round;h.round=function(e,c,a){var b=
Math.pow(10,-c||0),d=Math.abs(e);if(!e||d>=b)b=0;else if(d/=b,0.5>d||0.95<=d)b=0;return g(e,c,a)+(0<e?b:-b)}}h._formatAbsolute=function(e,c,a){a=a||{};!0===a.places&&(a.places=0);Infinity===a.places&&(a.places=6);c=c.split(".");var b="string"==typeof a.places&&a.places.indexOf(","),d=a.places;b?d=a.places.substring(b+1):0<=d||(d=(c[1]||[]).length);0>a.round||(e=h.round(e,d,a.round));e=String(Math.abs(e)).split(".");var n=e[1]||"";c[1]||a.places?(b&&(a.places=a.places.substring(0,b)),b=void 0!==a.places?
a.places:c[1]&&c[1].lastIndexOf("0")+1,b>n.length&&(e[1]=q.pad(n,b,"0",!0)),d<n.length&&(e[1]=n.substr(0,d))):e[1]&&e.pop();d=c[0].replace(",","");b=d.indexOf("0");-1!=b&&(b=d.length-b,b>e[0].length&&(e[0]=q.pad(e[0],b)),-1==d.indexOf("#")&&(e[0]=e[0].substr(e[0].length-b)));var d=c[0].lastIndexOf(","),g,f;-1!=d&&(g=c[0].length-d-1,c=c[0].substr(0,d),d=c.lastIndexOf(","),-1!=d&&(f=c.length-d-1));c=[];for(d=e[0];d;)b=d.length-g,c.push(0<b?d.substr(b):d),d=0<b?d.slice(0,b):"",f&&(g=f,delete f);e[0]=
c.reverse().join(a.group||",");return e.join(a.decimal||".")};h.regexp=function(e){return h._parseInfo(e).regexp};h._parseInfo=function(e){e=e||{};var c=m.normalizeLocale(e.locale),c=m.getLocalization("dojo.cldr","number",c),a=e.pattern||c[(e.type||"decimal")+"Format"],b=c.group,d=c.decimal,n=1;if(-1!=a.indexOf("%"))n/=100;else if(-1!=a.indexOf("\u2030"))n/=1E3;else{var g=-1!=a.indexOf("\u00a4");g&&(b=c.currencyGroup||b,d=c.currencyDecimal||d)}c=a.split(";");1==c.length&&c.push("-"+c[0]);c=l.buildGroupRE(c,
function(a){a="(?:"+l.escapeString(a,".")+")";return a.replace(h._numberPatternRE,function(a){var c={signed:!1,separator:e.strict?b:[b,""],fractional:e.fractional,decimal:d,exponent:!1};a=a.split(".");var g=e.places;1==a.length&&1!=n&&(a[1]="###");1==a.length||0===g?c.fractional=!1:(void 0===g&&(g=e.pattern?a[1].lastIndexOf("0")+1:Infinity),g&&void 0==e.fractional&&(c.fractional=!0),!e.places&&g<a[1].length&&(g+=","+a[1].length),c.places=g);a=a[0].split(",");1<a.length&&(c.groupSize=a.pop().length,
1<a.length&&(c.groupSize2=a.pop().length));return"("+h._realNumberRegexp(c)+")"})},!0);g&&(c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,d,c){a=l.escapeString(e[["symbol","currency","displayName"][d.length-1]]||e.currency||"");b=b?"[\\s\\xa0]":"";c=c?"[\\s\\xa0]":"";return!e.strict?(b&&(b+="*"),c&&(c+="*"),"(?:"+b+a+c+")?"):b+a+c}));return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:b,decimal:d,factor:n}};h.parse=function(e,c){var a=h._parseInfo(c),b=RegExp("^"+a.regexp+"$").exec(e);
if(!b)return NaN;var d=b[1];if(!b[1]){if(!b[2])return NaN;d=b[2];a.factor*=-1}d=d.replace(RegExp("["+a.group+"\\s\\xa0]","g"),"").replace(a.decimal,".");return d*a.factor};h._realNumberRegexp=function(e){e=e||{};"places"in e||(e.places=Infinity);"string"!=typeof e.decimal&&(e.decimal=".");if(!("fractional"in e)||/^0/.test(e.places))e.fractional=[!0,!1];"exponent"in e||(e.exponent=[!0,!1]);"eSigned"in e||(e.eSigned=[!0,!1]);var c=h._integerRegexp(e),a=l.buildGroupRE(e.fractional,function(a){var b=
"";a&&0!==e.places&&(b="\\"+e.decimal,b=Infinity==e.places?"(?:"+b+"\\d+)?":b+("\\d{"+e.places+"}"));return b},!0),b=l.buildGroupRE(e.exponent,function(a){return a?"([eE]"+h._integerRegexp({signed:e.eSigned})+")":""}),c=c+a;a&&(c="(?:(?:"+c+")|(?:"+a+"))");return c+b};h._integerRegexp=function(e){e=e||{};"signed"in e||(e.signed=[!0,!1]);"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="";var c=l.buildGroupRE(e.signed,function(a){return a?"[-+]":""},!0),a=l.buildGroupRE(e.separator,function(a){if(!a)return"(?:\\d+)";
a=l.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var d=e.groupSize,c=e.groupSize2;return c?(a="(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+a+"]\\d{"+c+"})*["+a+"]\\d{"+d+"})",0<d-c?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*)"},!0);return c+a};return h})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(f,m,k,q,l,h,g,e,c){k.add("dojo-preload-i18n-Api",
1);var a=f.i18n={},b=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,d=function(a,b,d,c){var e=[d+c];b=b.split("-");for(var n="",g=0;g<b.length;g++)if(n+=(n?"-":"")+b[g],!a||a[n])e.push(d+n+"/"+c),e.specificity=n;return e},n={},r=function(a,b,d){d=d?d.toLowerCase():f.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b},t=f.getL10nName=function(a,b,d){return c.id+"!"+r(a,b,d)},s=function(a,b,c,e,g,r){a([b],function(s){var f=h.clone(s.root),w=d(!s._v1x&&
s,g,c,e);a(w,function(){for(var a=1;a<w.length;a++)f=h.mixin(h.clone(f),arguments[a]);n[b+"/"+g]=f;f.$locale=w.specificity;r()})})},x=function(a){var b=l.extraLocale||[],b=h.isArray(b)?b:[b];b.push(a);return b},u=function(a,d,c){if(k("dojo-preload-i18n-Api")){var g=a.split("*"),r="preload"==g[1];r&&(n[a]||(n[a]=1,C(g[2],e.parse(g[3]),1,d)),c(1));if(!(g=r))w&&D.push([a,d,c]),g=w;if(g)return}a=b.exec(a);var t=a[1]+"/",l=a[5]||a[4],A=t+l,g=(a=a[5]&&a[4])||f.locale||"",u=A+"/"+g;a=a?[g]:x(g);var m=a.length,
z=function(){--m||c(h.delegate(n[u]))};q.forEach(a,function(a){var b=A+"/"+a;k("dojo-preload-i18n-Api")&&B(b);n[b]?z():s(d,A,t,l,a,z)})};if(k("dojo-unit-tests"))var z=a.unitTests=[];k("dojo-preload-i18n-Api");var y=a.normalizeLocale=function(a){a=a?a.toLowerCase():f.locale;return"root"==a?"ROOT":a},w=0,D=[],C=a._preloadLocalizations=function(a,b,d,c){function e(a,b){c.isXdUrl(m.toUrl(a+".js"))||d?c([a],b):G([a],b,c)}function g(a,b){for(var d=a.split("-");d.length;){if(b(d.join("-")))return;d.pop()}b("ROOT")}
function r(d){d=y(d);g(d,function(d){if(0<=q.indexOf(b,d)){var c=a.replace(/\./g,"/")+"_"+d;w++;e(c,function(a){for(var b in a)n[m.toAbsMid(b)+"/"+d]=a[b];for(--w;!w&&D.length;)u.apply(null,D.shift())});return!0}return!1})}c=c||m;r();q.forEach(f.config.extraLocale,r)},B=function(){},E={},A=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
G=function(a,b,d){var c=[];q.forEach(a,function(a){function b(d){d=A(d,B,a,E);d===E?c.push(n[e]=E.result):(d instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+e,d),d={}),c.push(n[e]=/nls\/[^\/]+\/[^\/]+$/.test(e)?d:{root:d,_v1x:1}))}var e=d.toUrl(a+".js");if(n[e])c.push(n[e]);else{var r=d.syncLoadNls(a);if(r)c.push(r);else if(g)g.get({url:e,sync:!0,load:b,error:function(){c.push(n[e]={})}});else try{d.getText(e,!0,b)}catch(h){c.push(n[e]={})}}});b&&b.apply(null,c)},B=function(a){for(var b,
d=a.split("/"),c=f.global[d[0]],e=1;c&&e<d.length-1;c=c[d[e++]]);c&&((b=c[d[e]])||(b=c[d[e].replace(/-/g,"_")]),b&&(n[a]=b));return b};a.getLocalization=function(a,b,d){var c;a=r(a,b,d);u(a,!m.isXdUrl(m.toUrl(a+".js"))?function(a,b){G(a,b,m)}:m,function(a){c=a});return c};k("dojo-unit-tests")&&z.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=A("{prop:1}",B,"nonsense",E);a.is({prop:1},b);a.is(void 0,b[1]);b=A("({prop:1})",B,"nonsense",E);a.is({prop:1},b);a.is(void 0,b[1]);b=A("{'prop-x':1}",
B,"nonsense",E);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=A("({'prop-x':1})",B,"nonsense",E);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=A("define({'prop-x':1})",B,"nonsense",E);a.is(E,b);a.is({"prop-x":1},E.result);b=A("define('some/module', {'prop-x':1})",B,"nonsense",E);a.is(E,b);a.is({"prop-x":1},E.result);b=A("this is total nonsense and should throw an error",B,"nonsense",E);a.is(b instanceof Error,!0)})});return h.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:u,cache:n,
getL10nName:t})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s){f._xhrObj=t._create;var x=f.config;f.objectToQuery=q.objectToQuery;f.queryToObject=q.queryToObject;f.fieldToObject=h.fieldToObject;f.formToObject=h.toObject;f.formToQuery=h.toQuery;f.formToJson=h.toJson;f._blockAsync=!1;var u=f._contentHandlers=
f.contentHandlers={text:function(a){return a.responseText},json:function(a){return c.fromJson(a.responseText||null)},"json-comment-filtered":function(a){e.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");a=a.responseText;var b=a.indexOf("/*"),
d=a.lastIndexOf("*/");if(-1==b||-1==d)throw Error("JSON was not comment filtered");return c.fromJson(a.substring(b+2,d))},javascript:function(a){return f.eval(a.responseText)},xml:function(a){var d=a.responseXML;d&&(m("dom-qsa2.1")&&!d.querySelectorAll&&m("dom-parser"))&&(d=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!d||!d.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),c(2)];b.some(c,function(b){try{var c=
new ActiveXObject(b);c.async=!1;c.loadXML(a.responseText);d=c}catch(e){return!1}return!0})}return d},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};m("native-xhr2")&&(u.arraybuffer=u.blob=u.document=function(a,b){return"blob"===b.args.handleAs&&!m("native-xhr2-blob")?new Blob([a.response],{type:a.getResponseHeader("Content-Type")}):a.response});f._ioSetArgs=function(b,d,c,e){var n={args:b,url:b.url},r=null;if(b.form){var r=
l.byId(b.form),s=r.getAttributeNode("action");n.url=n.url||(s?s.value:null);r=h.toObject(r)}s=[{}];r&&s.push(r);b.content&&s.push(b.content);b.preventCache&&s.push({"dojo.preventCache":(new Date).valueOf()});n.query=q.objectToQuery(a.mixin.apply(null,s));n.handleAs=b.handleAs||"text";var w=new g(function(a){a.canceled=!0;d&&d(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});w.addCallback(c);var t=b.load;t&&a.isFunction(t)&&w.addCallback(function(a){return t.call(b,
a,n)});var k=b.error;k&&a.isFunction(k)&&w.addErrback(function(a){return k.call(b,a,n)});var u=b.handle;u&&a.isFunction(u)&&w.addBoth(function(a){return u.call(b,a,n)});w.addErrback(function(a){return e(a,w)});x.ioPublish&&(f.publish&&!1!==n.args.ioPublish)&&(w.addCallbacks(function(a){f.publish("/dojo/io/load",[w,a]);return a},function(a){f.publish("/dojo/io/error",[w,a]);return a}),w.addBoth(function(a){f.publish("/dojo/io/done",[w,a]);return a}));w.ioArgs=n;return w};var z=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr,
a.ioArgs);return void 0===a?null:a},y=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},w=function(a){0>=D&&(D=0,x.ioPublish&&(f.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&f.publish("/dojo/io/stop"))},D=0;n.after(r,"_onAction",function(){D-=1});n.after(r,"_onInFlight",w);f._ioCancelAll=r.cancelAll;f._ioNotifyStart=function(a){x.ioPublish&&(f.publish&&!1!==a.ioArgs.args.ioPublish)&&(D||f.publish("/dojo/io/start"),D+=1,f.publish("/dojo/io/send",[a]))};f._ioWatch=function(b,d,c,e){b.ioArgs.options=
b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(a){return d(b)},isReady:function(a){return c(b)},handleResponse:function(a){return e(b)}});r(b);w(b)};f._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};f.xhr=function(a,b,d){var c,e=f._ioSetArgs(b,function(a){c&&c.cancel()},z,y),n=e.ioArgs;"postData"in b?n.query=b.postData:"putData"in b?n.query=b.putData:"rawBody"in b?n.query=b.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&
f._ioAddQueryToUrl(n);var g;m("native-xhr2")&&(g={arraybuffer:1,blob:1,document:1});g=m("native-xhr2")&&g[b.handleAs]?b.handleAs:"text";"blob"===g&&!m("native-xhr2-blob")&&(g="arraybuffer");g={method:a,handleAs:g,responseType:b.responseType,timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:n};"undefined"!==typeof b.headers&&(g.headers=b.headers);"undefined"!==typeof b.contentType&&(g.headers||(g.headers={}),g.headers["Content-Type"]=b.contentType);"undefined"!==typeof n.query&&(g.data=n.query);
"undefined"!==typeof b.sync&&(g.sync=b.sync);f._ioNotifyStart(e);try{c=t(n.url,g,!0)}catch(r){return e.cancel(),e}e.ioArgs.xhr=c.response.xhr;c.then(function(){e.resolve(e)}).otherwise(function(a){n.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);e.reject(a)});return e};f.xhrGet=function(a){return f.xhr("GET",a)};f.rawXhrPost=f.xhrPost=function(a){return f.xhr("POST",a,!0)};f.rawXhrPut=f.xhrPut=function(a){return f.xhr("PUT",a,!0)};f.xhrDelete=
function(a){return f.xhr("DELETE",a)};f._isDocumentOk=function(a){return s.checkStatus(a.status)};f._getText=function(a){var b;f.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(f.xhr,{_xhrObj:f._xhrObj,fieldToObject:h.fieldToObject,formToObject:h.toObject,objectToQuery:q.objectToQuery,formToQuery:h.toQuery,formToJson:h.toJson,queryToObject:q.queryToObject,contentHandlers:u,_ioSetArgs:f._ioSetArgs,_ioCancelAll:f._ioCancelAll,_ioNotifyStart:f._ioNotifyStart,_ioWatch:f._ioWatch,_ioAddQueryToUrl:f._ioAddQueryToUrl,
_isDocumentOk:f._isDocumentOk,_getText:f._getText,get:f.xhrGet,post:f.xhrPost,put:f.xhrPut,del:f.xhrDelete});return f.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(f){var m={};return{objectToQuery:function(k){var q=encodeURIComponent,l=[],h;for(h in k){var g=k[h];if(g!=m[h]){var e=q(h)+"\x3d";if(f.isArray(g))for(var c=0,a=g.length;c<a;++c)l.push(e+q(g[c]));else l.push(e+q(g))}}return l.join("\x26")},queryToObject:function(k){var q=decodeURIComponent;k=k.split("\x26");for(var l=
{},h,g,e=0,c=k.length;e<c;++e)if(g=k[e],g.length){var a=g.indexOf("\x3d");0>a?(h=q(g),g=""):(h=q(g.slice(0,a)),g=q(g.slice(a+1)));"string"==typeof l[h]&&(l[h]=[l[h]]);f.isArray(l[h])?l[h].push(g):l[h]=g}return l}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(f,m,k,q){var l={fieldToObject:function(h){var g=null;if(h=m.byId(h)){var e=h.name,c=(h.type||"").toLowerCase();if(e&&c&&!h.disabled)if("radio"==c||"checkbox"==c)h.checked&&(g=h.value);else if(h.multiple){g=
[];for(h=[h.firstChild];h.length;)for(e=h.pop();e;e=e.nextSibling)if(1==e.nodeType&&"option"==e.tagName.toLowerCase())e.selected&&g.push(e.value);else{e.nextSibling&&h.push(e.nextSibling);e.firstChild&&h.push(e.firstChild);break}}else g=h.value}return g},toObject:function(h){var g={};h=m.byId(h).elements;for(var e=0,c=h.length;e<c;++e){var a=h[e],b=a.name,d=(a.type||"").toLowerCase();if(b&&d&&0>"file|submit|image|reset|button".indexOf(d)&&!a.disabled){var n=g,r=b,a=l.fieldToObject(a);if(null!==a){var t=
n[r];"string"==typeof t?n[r]=[t,a]:f.isArray(t)?t.push(a):n[r]=a}"image"==d&&(g[b+".x"]=g[b+".y"]=g[b].x=g[b].y=0)}}return g},toQuery:function(h){return k.objectToQuery(l.toObject(h))},toJson:function(h,g){return q.stringify(l.toObject(h),null,g?4:0)}};return l})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(f,m,k,q,l,h,g){var e=function(){},c=Object.freeze||function(){},a=f.Deferred=function(b){function d(a){if(f)throw Error("This deferred has already been resolved");
g=a;f=!0;n()}function n(){for(var a;!a&&y;){var b=y;y=y.next;if(a=b.progress==e)f=!1;var d=u?b.error:b.resolved;l("config-useDeferredInstrumentation")&&u&&m.instrumentRejected&&m.instrumentRejected(g,!!d);if(d)try{var c=d(g);c&&"function"===typeof c.then?c.then(h.hitch(b.deferred,"resolve"),h.hitch(b.deferred,"reject"),h.hitch(b.deferred,"progress")):(d=a&&void 0===c,a&&!d&&(u=c instanceof Error),b.deferred[d&&u?"reject":"resolve"](d?g:c))}catch(n){b.deferred.reject(n)}else u?b.deferred.reject(g):
b.deferred.resolve(g)}}var g,f,s,x,u,z,y,w=this.promise=new k;this.isResolved=w.isResolved=function(){return 0==x};this.isRejected=w.isRejected=function(){return 1==x};this.isFulfilled=w.isFulfilled=function(){return 0<=x};this.isCanceled=w.isCanceled=function(){return s};this.resolve=this.callback=function(a){this.fired=x=0;this.results=[a,null];d(a)};this.reject=this.errback=function(a){u=!0;this.fired=x=1;l("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!y);
d(a);this.results=[null,a]};this.progress=function(a){for(var b=y;b;){var d=b.progress;d&&d(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,e);return this};w.then=this.then=function(b,d,c){var g=c==e?this:new a(w.cancel);b={resolved:b,error:d,progress:c,deferred:g};y?z=z.next=b:y=z=b;f&&n();return g.promise};var D=this;w.cancel=this.cancel=function(){if(!f){var a=b&&b(D);f||(a instanceof Error||(a=new q(a)),a.log=!1,D.reject(a))}s=!0};c(w)};h.extend(a,{addCallback:function(a){return this.addCallbacks(h.hitch.apply(f,
arguments))},addErrback:function(a){return this.addCallbacks(null,h.hitch.apply(f,arguments))},addBoth:function(a){var d=h.hitch.apply(f,arguments);return this.addCallbacks(d,d)},fired:-1});a.when=f.when=g;return a})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(f,m,k,q,l){var h=Object.freeze||function(){},g=function(a,c,g,h,s){2===c&&(b.instrumentRejected&&0===a.length)&&b.instrumentRejected(g,!1,h,s);for(s=
0;s<a.length;s++)e(a[s],c,g,h)},e=function(d,e,g,h){var s=d[e],f=d.deferred;if(s)try{var l=s(g);if(0===e)"undefined"!==typeof l&&a(f,e,l);else{if(l&&"function"===typeof l.then){d.cancel=l.cancel;l.then(c(f,1),c(f,2),c(f,0));return}a(f,1,l)}}catch(k){a(f,2,k)}else a(f,e,g);2===e&&b.instrumentRejected&&b.instrumentRejected(g,!!s,h,f.promise)},c=function(b,c){return function(e){a(b,c,e)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},
b=function(a){var c=this.promise=new q,r=this,f,s,l,u=!1,m=[];Error.captureStackTrace&&(Error.captureStackTrace(r,b),Error.captureStackTrace(c,b));this.isResolved=c.isResolved=function(){return 1===f};this.isRejected=c.isRejected=function(){return 2===f};this.isFulfilled=c.isFulfilled=function(){return!!f};this.isCanceled=c.isCanceled=function(){return u};this.progress=function(a,b){if(f){if(!0===b)throw Error("This deferred has already been fulfilled.");return c}g(m,0,a,null,r);return c};this.resolve=
function(a,b){if(f){if(!0===b)throw Error("This deferred has already been fulfilled.");return c}g(m,f=1,s=a,null,r);m=null;return c};var y=this.reject=function(a,b){if(f){if(!0===b)throw Error("This deferred has already been fulfilled.");return c}Error.captureStackTrace&&Error.captureStackTrace(l={},y);g(m,f=2,s=a,l,r);m=null;return c};this.then=c.then=function(a,d,g){var r=[g,a,d];r.cancel=c.cancel;r.deferred=new b(function(a){return r.cancel&&r.cancel(a)});f&&!m?e(r,f,s,l):m.push(r);return r.deferred.promise};
this.cancel=c.cancel=function(b,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");}else{if(a){var e=a(b);b="undefined"===typeof e?b:e}u=!0;if(f){if(2===f&&s===b)return b}else return"undefined"===typeof b&&(b=new k),y(b),b}};h(c)};b.prototype.toString=function(){return"[object Deferred]"};l&&l(b);return b})},"dojo/errors/CancelError":function(){define(["./create"],function(f){return f("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],
function(f){return function(m,k,q,l){q=q||Error;var h=function(g){if(q===Error){Error.captureStackTrace&&Error.captureStackTrace(this,h);var e=Error.call(this,g),c;for(c in e)e.hasOwnProperty(c)&&(this[c]=e[c]);this.message=g;this.stack=e.stack}else q.apply(this,arguments);k&&k.apply(this,arguments)};h.prototype=f.delegate(q.prototype,l);h.prototype.name=m;return h.prototype.constructor=h}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(f){function m(){throw new TypeError("abstract");
}return f.extend(function(){},{then:function(f,q,l){m()},cancel:function(f,q){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(f){return this.then(f,f)},otherwise:function(f){return this.then(null,f)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],
function(f,m,k,q){function l(a,b,c){var e="";a&&a.stack&&(e+=a.stack);b&&b.stack&&(e+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(e+="\n    ----------------------------------------\n"+c.stack);console.error(a,e)}function h(a,b,c,e){b||l(a,c,e)}function g(d,n,g,h){n?q.some(c,function(a,b){if(a.error===d)return c.splice(b,1),!0}):q.some(c,function(a){return a.error===d})||c.push({error:d,rejection:g,deferred:h,
timestamp:(new Date).getTime()});a||(a=setTimeout(e,b))}function e(){var d=(new Date).getTime(),n=d-b;c=q.filter(c,function(a){return a.timestamp<n?(l(a.error,a.rejection,a.deferred),!1):!0});a=c.length?setTimeout(e,c[0].timestamp+b-d):!1}m.add("config-useDeferredInstrumentation","report-unhandled-rejections");var c=[],a=!1,b=1E3;return function(a){var c=m("config-useDeferredInstrumentation");if(c){f.on("resolved",k.hitch(console,"log","resolved"));f.on("rejected",k.hitch(console,"log","rejected"));
f.on("progress",k.hitch(console,"log","progress"));var e=[];"string"===typeof c&&(e=c.split(","),c=e.shift());if("report-rejections"===c)a.instrumentRejected=h;else if("report-unhandled-rejections"===c||!0===c||1===c)a.instrumentRejected=g,b=parseInt(e[0],10)||b;else throw Error("Unsupported instrumentation usage \x3c"+c+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(f,m,k){function q(g){setTimeout(function(){h.apply(l,g)},0)}var l=new k,
h=l.emit;l.emit=null;m.prototype.trace=function(){var g=f._toArray(arguments);this.then(function(e){q(["resolved",e].concat(g))},function(e){q(["rejected",e].concat(g))},function(e){q(["progress",e].concat(g))});return this};m.prototype.traceRejected=function(){var g=f._toArray(arguments);this.otherwise(function(e){q(["rejected",e].concat(g))});return this};return l})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(f,m){return function(k,q,l,h){var g=k&&"function"===typeof k.then,
e=g&&k instanceof m;if(g)e||(g=new f(k.cancel),k.then(g.resolve,g.reject,g.progress),k=g.promise);else return 1<arguments.length?q?q(k):k:(new f).resolve(k);return q||l||h?k.then(q,l,h):k}})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(f,m,k,q,l,h){function g(){for(var b=+new Date,d=0,n;d<a.length&&(n=a[d]);d++){var g=n.response,h=g.options;if(n.isCanceled&&
n.isCanceled()||n.isValid&&!n.isValid(g))a.splice(d--,1),e._onAction&&e._onAction();else if(n.isReady&&n.isReady(g))a.splice(d--,1),n.handleResponse(g),e._onAction&&e._onAction();else if(n.startTime&&n.startTime+(h.timeout||0)<b)a.splice(d--,1),n.cancel(new m("Timeout exceeded",g)),e._onAction&&e._onAction()}e._onInFlight&&e._onInFlight(n);a.length||(clearInterval(c),c=null)}function e(b){b.response.options.timeout&&(b.startTime=+new Date);b.isFulfilled()||(a.push(b),c||(c=setInterval(g,50)),b.response.options.sync&&
g())}var c=null,a=[];e.cancelAll=function(){try{q.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(b){}})}catch(b){}};l&&(h&&l.doc.attachEvent)&&h(l.global,"unload",function(){e.cancelAll()});return e})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(f,m,k,q,l,h,g,e){function c(a){return b(a)}function a(a){return a.data||a.text}f.deepCopy=
function(a,b){for(var c in b){var e=a[c],g=b[c];e!==g&&(e&&"object"===typeof e&&g&&"object"===typeof g?f.deepCopy(e,g):a[c]=g)}return a};f.deepCreate=function(a,b){b=b||{};var c=g.delegate(a),e,h;for(e in a)(h=a[e])&&"object"===typeof h&&(c[e]=f.deepCreate(h,b[e]));return f.deepCopy(c,b)};var b=Object.freeze||function(a){return a};f.deferred=function(d,n,r,h,s,l){var u=new q(function(a){n&&n(u,d);return!a||!(a instanceof m)&&!(a instanceof k)?new k("Request canceled",d):a});u.response=d;u.isValid=
r;u.isReady=h;u.handleResponse=s;r=u.then(c).otherwise(function(a){a.response=d;throw a;});f.notify&&r.then(g.hitch(f.notify,"emit","load"),g.hitch(f.notify,"emit","error"));h=r.then(a);s=new e;for(var z in h)h.hasOwnProperty(z)&&(s[z]=h[z]);s.response=r;b(s);l&&u.then(function(a){l.call(u,a)},function(a){l.call(u,d,a)});u.promise=s;u.then=s.then;return u};f.addCommonMethods=function(a,b){h.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,e){e=
g.delegate(e||{});e.method=b;return a(c,e)}})};f.parseArgs=function(a,b,c){var e=b.data,g=b.query;e&&!c&&"object"===typeof e&&(b.data=l.objectToQuery(e));g?("object"===typeof g&&(g=l.objectToQuery(g)),b.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(g="request.preventCache\x3d"+ +new Date);a&&g&&(a+=(~a.indexOf("?")?"\x26":"?")+g);return{url:a,options:b,getHeader:function(a){return null}}};f.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===
a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(f){return f("RequestError",function(f,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(f,m){return f("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(f,m,k,q,l){function h(a,b){var d=a.xhr;a.status=a.xhr.status;l("native-xhr2")&&c[a.options.handleAs]?
(a.data=d.response,"blob"===a.options.handleAs&&!l("native-xhr2-blob")&&(a.data=new Blob([a.data],{type:d.getResponseHeader("Content-Type")}))):(a.text=d.responseText,"xml"===a.options.handleAs&&(a.data=d.responseXML));if(!b)try{k(a)}catch(e){b=e}b?this.reject(b):q.checkStatus(d.status)?this.resolve(a):(b=new f("Unable to load "+a.url+" status: "+d.status,a),this.reject(b))}function g(a){return this.xhr.getResponseHeader(a)}function e(s,k,x){var w=q.parseArgs(s,q.deepCreate(t,k),l("native-formdata")&&
k&&k.data&&k.data instanceof FormData);s=w.url;k=w.options;var D,C=q.deferred(w,n,a,b,h,function(){D&&D()}),B=w.xhr=e._create();if(!B)return C.cancel(new f("XHR was not created")),x?C:C.promise;w.getHeader=g;d&&(D=d(B,C,w));var E=k.data,A=!k.sync,G=k.method;try{B.open(G,s,A,k.user||r,k.password||r);k.withCredentials&&(B.withCredentials=k.withCredentials);if(l("native-xhr2")){var M=c[k.handleAs]?k.handleAs:k.responseType;"blob"===M&&!l("native-xhr2-blob")&&(M="arraybuffer");M&&(B.responseType=M)}var F=
k.headers;s="application/x-www-form-urlencoded";if(F)for(var J in F)"content-type"===J.toLowerCase()?s=F[J]:F[J]&&B.setRequestHeader(J,F[J]);s&&!1!==s&&B.setRequestHeader("Content-Type",s);(!F||!("X-Requested-With"in F))&&B.setRequestHeader("X-Requested-With","XMLHttpRequest");q.notify&&q.notify.emit("send",w,C.promise.cancel);B.send(E)}catch(L){C.reject(L)}m(C);B=null;return x?C:C.promise}l.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});l.add("dojo-force-activex-xhr",function(){return l("activex")&&
!document.addEventListener&&"file:"===window.location.protocol});l.add("native-xhr2",function(){if(l("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});l.add("native-xhr2-blob",function(){if(l("native-xhr2")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===b}});l.add("native-formdata",function(){return"undefined"!==typeof FormData});var c=
{arraybuffer:1,blob:1,document:1},a,b,d,n;l("native-xhr2")?(a=function(a){return!this.isFulfilled()},n=function(a,b){b.xhr.abort()},d=function(a,b,d){function c(a){b.handleResponse(d)}function e(a){a=new f("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function n(a){a.lengthComputable&&(d.loaded=a.loaded,d.total=a.total,b.progress(d))}a.addEventListener("load",c,!1);a.addEventListener("error",e,!1);a.addEventListener("progress",n,!1);return function(){a.removeEventListener("load",
c,!1);a.removeEventListener("error",e,!1);a.removeEventListener("progress",n,!1);a=null}}):(a=function(a){return a.xhr.readyState},b=function(a){return 4===a.xhr.readyState},n=function(a,b){var d=b.xhr,c=typeof d.abort;("function"===c||"object"===c||"unknown"===c)&&d.abort()});var r,t={data:null,query:null,sync:!1,method:"GET"};e._create=function(){throw Error("XMLHTTP not available");};if(l("native-xhr")&&!l("dojo-force-activex-xhr"))e._create=function(){return new XMLHttpRequest};else if(l("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),
e._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(s){try{new ActiveXObject("Microsoft.XMLHTTP"),e._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(x){}}q.addCommonMethods(e);return e})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(f,m,k,q){function l(c){var a=e[c.options.handleAs];c.data=a?a(c):c.data||c.text;return c}q.add("activex","undefined"!==typeof ActiveXObject);q.add("dom-parser",
function(c){return"DOMParser"in c});var h;if(q("activex")){var g=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];h=function(c){var a=c.data;a&&(q("dom-qsa2.1")&&!a.querySelectorAll&&q("dom-parser"))&&(a=(new DOMParser).parseFromString(c.text,"application/xml"));if(!a||!a.documentElement){var b=c.text;k.some(g,function(d){try{var c=new ActiveXObject(d);c.async=!1;c.loadXML(b);a=c}catch(e){return!1}return!0})}return a}}var e={javascript:function(c){return m.eval(c.text||
"")},json:function(c){return f.parse(c.text||null)},xml:h};l.register=function(c,a){e[c]=a};return l})},"dojo/selector/_loader":function(){define(["../has","require"],function(f,m){var k=document.createElement("div");f.add("dom-qsa2.1",!!k.querySelectorAll);f.add("dom-qsa3",function(){try{return k.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==k.querySelectorAll(".TEST:empty").length}catch(f){}});var q;return{load:function(l,h,g,e){e=m;l="default"==l?f("config-selectorEngine")||"css3":l;l="css2"==
l||"lite"==l?"./lite":"css2.1"==l?f("dom-qsa2.1")?"./lite":"./acme":"css3"==l?f("dom-qsa3")?"./lite":"./acme":"acme"==l?"./acme":(e=h)&&l;if("?"==l.charAt(l.length-1)){l=l.substring(0,l.length-1);var c=!0}if(c&&(f("dom-compliant-qsa")||q))return g(q);e([l],function(a){"./lite"!=l&&(q=a);g(a)})}}})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(f,m){var k={};m.setObject("dojo.string",k);k.rep=function(f,l){if(0>=l||!f)return"";for(var h=[];;){l&1&&h.push(f);if(!(l>>=1))break;
f+=f}return h.join("")};k.pad=function(f,l,h,g){h||(h="0");f=String(f);l=k.rep(h,Math.ceil((l-f.length)/h.length));return g?f+l:l+f};k.substitute=function(k,l,h,g){g=g||f.global;h=h?m.hitch(g,h):function(e){return e};return k.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,c,a){e=m.getObject(c,!1,l);a&&(e=m.getObject(a,!1,g).call(g,e,c));return h(e,c).toString()})};k.trim=String.prototype.trim?m.trim:function(f){f=f.replace(/^\s+/,"");for(var l=f.length-1;0<=l;l--)if(/\S/.test(f.charAt(l))){f=
f.substring(0,l+1);break}return f};return k})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(f,m){var k={};m.setObject("dojo.regexp",k);k.escapeString=function(f,l){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(h){return l&&-1!=l.indexOf(h)?h:"\\"+h})};k.buildGroupRE=function(f,l,h){if(!(f instanceof Array))return l(f);for(var g=[],e=0;e<f.length;e++)g.push(l(f[e]));return k.group(g.join("|"),h)};k.group=function(f,l){return"("+(l?"?:":"")+f+")"};return k})},
"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(f,m,k,q,l,h,g,e,c){function a(a,b,d,c){return c.replace(/([a-z])\1*/ig,function(e){var r,h,f=e.charAt(0);e=e.length;var l=["abbr","wide","narrow"];switch(f){case "G":r=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":r=a.getFullYear();switch(e){case 1:break;case 2:if(!d.fullYear){r=String(r);r=r.substr(r.length-
2);break}default:h=!0}break;case "Q":case "q":r=Math.ceil((a.getMonth()+1)/3);h=!0;break;case "M":case "L":r=a.getMonth();3>e?(r+=1,h=!0):(f=["months","L"==f?"standAlone":"format",l[e-3]].join("-"),r=b[f][r]);break;case "w":r=n._getWeekOfYear(a,0);h=!0;break;case "d":r=a.getDate();h=!0;break;case "D":r=n._getDayOfYear(a);h=!0;break;case "e":case "c":if(r=a.getDay(),2>e){r=(r-q.getFirstDayOfWeek(d.locale)+8)%7;break}case "E":r=a.getDay();3>e?(r+=1,h=!0):(f=["days","c"==f?"standAlone":"format",l[e-
3]].join("-"),r=b[f][r]);break;case "a":f=12>a.getHours()?"am":"pm";r=d[f]||b["dayPeriods-format-wide-"+f];break;case "h":case "H":case "K":case "k":h=a.getHours();switch(f){case "h":r=h%12||12;break;case "H":r=h;break;case "K":r=h%12;break;case "k":r=h||24}h=!0;break;case "m":r=a.getMinutes();h=!0;break;case "s":r=a.getSeconds();h=!0;break;case "S":r=Math.round(a.getMilliseconds()*Math.pow(10,e-3));h=!0;break;case "v":case "z":if(r=n._getZone(a,!0,d))break;e=4;case "Z":f=n._getZone(a,!1,d);f=[0>=
f?"+":"-",g.pad(Math.floor(Math.abs(f)/60),2),g.pad(Math.abs(f)%60,2)];4==e&&(f.splice(0,0,"GMT"),f.splice(3,0,":"));r=f.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+c);}h&&(r=g.pad(r,e));return r})}function b(a,b,d,c){var e=function(a){return a};b=b||e;d=d||e;c=c||e;var n=a.match(/(''|[^'])+/g),g="'"==a.charAt(0);m.forEach(n,function(a,c){a?(n[c]=(g?d:b)(a.replace(/''/g,"'")),g=!g):n[c]=""});return c(n.join(""))}function d(a,b,d,c){c=h.escapeString(c);d.strict||
(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(c){var e;e=c.charAt(0);var n=c.length,g="",r="";d.strict?(1<n&&(g="0{"+(n-1)+"}"),2<n&&(r="0{"+(n-2)+"}")):(g="0?",r="0{0,2}");switch(e){case "y":e="\\d{2,4}";break;case "M":case "L":e=2<n?"\\S+?":"1[0-2]|"+g+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+g+"[1-9][0-9]|"+r+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+g+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+g+"[1-9]";break;case "E":case "e":case "c":e=".+?";break;
case "h":e="1[0-2]|"+g+"[1-9]";break;case "k":e="1[01]|"+g+"\\d";break;case "H":e="1\\d|2[0-3]|"+g+"\\d";break;case "K":e="1\\d|2[0-4]|"+g+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+n+"}";break;case "a":n=d.am||b["dayPeriods-format-wide-am"];g=d.pm||b["dayPeriods-format-wide-pm"];e=n+"|"+g;d.strict||(n!=n.toLowerCase()&&(e+="|"+n.toLowerCase()),g!=g.toLowerCase()&&(e+="|"+g.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=
".*"}a&&a.push(c);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var n={};f.setObject(c.id.replace(/\//g,"."),n);n._getZone=function(a,b,d){return b?k.getTimezoneName(a):a.getTimezoneOffset()};n.format=function(d,c){c=c||{};var e=l.normalizeLocale(c.locale),g=c.formatLength||"short",e=n._getGregorianBundle(e),r=[],h=f.hitch(this,a,d,e,c);if("year"==c.selector)return b(e["dateFormatItem-yyyy"]||"yyyy",h);var w;"date"!=c.selector&&(w=c.timePattern||e["timeFormat-"+g])&&r.push(b(w,h));"time"!=c.selector&&
(w=c.datePattern||e["dateFormat-"+g])&&r.push(b(w,h));return 1==r.length?r[0]:e["dateTimeFormat-"+g].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return r[b]})};n.regexp=function(a){return n._parseInfo(a).regexp};n._parseInfo=function(a){a=a||{};var c=l.normalizeLocale(a.locale),c=n._getGregorianBundle(c),e=a.formatLength||"short",g=a.datePattern||c["dateFormat-"+e],r=a.timePattern||c["timeFormat-"+e],e="date"==a.selector?g:"time"==a.selector?r:c["dateTimeFormat-"+e].replace(/\{(\d+)\}/g,
function(a,b){return[r,g][b]}),h=[];return{regexp:b(e,f.hitch(this,d,h,c,a)),tokens:h,bundle:c}};n.parse=function(a,b){var d=/[\u200E\u200F\u202A\u202E]/g,c=n._parseInfo(b),e=c.tokens,g=c.bundle,d=RegExp("^"+c.regexp.replace(d,"")+"$",c.strict?"":"i").exec(a&&a.replace(d,""));if(!d)return null;var r=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],f="",d=m.every(d,function(a,d){if(!d)return!0;var c=e[d-1],n=c.length,c=c.charAt(0);switch(c){case "y":if(2!=n&&b.strict)h[0]=a;else if(100>a)a=Number(a),
c=""+(new Date).getFullYear(),n=100*c.substring(0,2),c=Math.min(Number(c.substring(2,4))+20,99),h[0]=a<c?n+a:n-100+a;else{if(b.strict)return!1;h[0]=a}break;case "M":case "L":if(2<n){if(n=g["months-"+("L"==c?"standAlone":"format")+"-"+r[n-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),n=m.map(n,function(a){return a.replace(".","").toLowerCase()})),a=m.indexOf(n,a),-1==a)return!1}else a--;h[1]=a;break;case "E":case "e":case "c":n=g["days-"+("c"==c?"standAlone":"format")+"-"+r[n-3]].concat();
b.strict||(a=a.toLowerCase(),n=m.map(n,function(a){return a.toLowerCase()}));a=m.indexOf(n,a);if(-1==a)return!1;break;case "D":h[1]=0;case "d":h[2]=a;break;case "a":n=b.am||g["dayPeriods-format-wide-am"];c=b.pm||g["dayPeriods-format-wide-pm"];if(!b.strict){var l=/\./g;a=a.replace(l,"").toLowerCase();n=n.replace(l,"").toLowerCase();c=c.replace(l,"").toLowerCase()}if(b.strict&&a!=n&&a!=c)return!1;f=a==c?"p":a==n?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;h[3]=a;break;
case "m":h[4]=a;break;case "s":h[5]=a;break;case "S":h[6]=a}return!0}),c=+h[3];"p"===f&&12>c?h[3]=c+12:"a"===f&&12==c&&(h[3]=0);c=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);b.strict&&c.setFullYear(h[0]);var l=e.join(""),q=-1!=l.indexOf("d"),l=-1!=l.indexOf("M");if(!d||l&&c.getMonth()>h[1]||q&&c.getDate()>h[2])return null;if(l&&c.getMonth()<h[1]||q&&c.getDate()<h[2])c=k.add(c,"hour",1);return c};var r=[];n.addCustomFormats=function(a,b){r.push({pkg:a,name:b})};n._getGregorianBundle=function(a){var b=
{};m.forEach(r,function(d){d=l.getLocalization(d.pkg,d.name,a);b=f.mixin(b,d)},this);return b};n.addCustomFormats(c.id.replace(/\/date\/locale$/,".cldr"),"gregorian");n.getNames=function(a,b,d,c){var e;c=n._getGregorianBundle(c);a=[a,d,b];"standAlone"==d&&(d=a.join("-"),e=c[d],1==e[0]&&(e=void 0));a[1]="format";return(e||c[a.join("-")]).concat()};n.isWeekend=function(a,b){var d=q.getWeekend(b),c=(a||new Date).getDay();d.end<d.start&&(d.end+=7,c<d.start&&(c+=7));return c>=d.start&&c<=d.end};n._getDayOfYear=
function(a){return k.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};n._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var d=(new Date(a.getFullYear(),0,1)).getDay(),c=Math.floor((n._getDayOfYear(a)+(d-b+7)%7-1)/7);d==b&&c++;return c};return n})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(f,m){var k={};f.setObject("dojo.cldr.supplemental",k);k.getFirstDayOfWeek=function(f){f={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,
ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[k._region(f)];return void 0===f?1:f};k._region=function(f){f=m.normalizeLocale(f);f=f.split("-");var l=f[1];l?4==l.length&&(l=f[2]):l={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",
ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",
ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",
sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",
bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",
gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",
lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",
saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",
yap:"fm",yav:"cm",zza:"tr"}[f[0]];return l};k.getWeekend=function(f){var l=k._region(f);f={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[l];l={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[l];void 0===f&&(f=6);void 0===l&&(l=0);return{start:f,end:l}};return k})},"esri/_coremap":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/Deferred dojo/_base/lang dojo/_base/array dojo/_base/event dojo/_base/unload dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/sniff dijit/registry dojox/gfx/matrix esri/kernel esri/config esri/lang esri/Evented esri/fx esri/deferredUtils esri/tileUtils esri/PluginTarget esri/geometry/Point esri/geometry/ScreenPoint esri/geometry/Extent esri/geometry/Rect esri/geometry/mathUtils esri/geometry/scaleUtils esri/geometry/screenUtils esri/geometry/webMercatorUtils esri/layers/GraphicsLayer esri/layers/TileInfo esri/layers/LOD esri/layers/ArcGISTiledMapServiceLayer esri/layers/OpenStreetMapLayer esri/dijit/Popup dojo/uacss".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D,C,B,E,A,G,M,F,J,L,K,P,H,I,N,X,T,R,U){function V(a,b){var d=a.lods;d.sort(function(a,b){return a.scale>b.scale?-1:a.scale<b.scale?1:0});var c=[],d=g.filter(d,function(a){if(-1===aa(c,a.scale))return c.push(a.scale),!0}),e=b.lods=[],n;g.forEach(d,function(a,b){n=e[b]=new X(a);n.level=b});b.tileInfo=new N(ba(a,{lods:e}))}var W=P.toMapPoint,Q=P.toScreenPoint,O=q.connect,Z=q.disconnect,Y=h.hitch,S=t.set,aa=g.indexOf,ba=h.mixin,ca=0,$=y.defaults.map;
k=k([D,A],{declaredClass:"esri._CoreMap",resizeDelay:300,invalidExtent:"Map does not have a valid extent.",invalidGeometry:"Geometry (wkid: ${geometry}) cannot be converted to spatial reference of the map (wkid: ${map})",unknownBasemap:'Unable to find basemap definition for: "${basemapName}". Try one of these: ${list}',invalidBasemap:'Unable to add basemap: "${basemapName}".',unknownLayerType:'Unknown basemap layer type: "${type}" found in basemap definition for: "${basemapName}".',visible:!0,_eventMap:{"basemap-change":!0,
"extent-change":["extent","delta","levelChange","lod"],"layer-add":["layer"],"layer-add-result":["layer","error"],"layer-remove":["layer"],"layer-reorder":["layer","index"],"layer-resume":["layer"],"layer-suspend":["layer"],"layers-add-result":["layers"],"layers-removed":!0,"layers-reordered":["layerIds"],load:["map"],pan:["extent","delta"],"pan-end":["extent","delta"],"pan-start":["extent","screenPoint"],reposition:["x","y"],resize:["extent","width","height"],scale:["matrix","immediate"],"time-extent-change":["timeExtent"],
"before-unload":["map"],unload:["map"],"update-end":["error"],"update-start":!0,zoom:["extent","zoomFactor","anchor"],"zoom-end":["extent","zoomFactor","anchor","level"],"zoom-start":["extent","zoomFactor","anchor","level"],click:!0,"dbl-click":!0,"key-down":!0,"key-up":!0,"mouse-down":!0,"mouse-drag":!0,"mouse-drag-end":!0,"mouse-drag-start":!0,"mouse-move":!0,"mouse-out":!0,"mouse-over":!0,"mouse-up":!0,"mouse-wheel":!0,"basic-tap":!0,"double-tap":!0,"pinch-end":!0,"pinch-move":!0,"pinch-start":!0,
"processed-double-tap":!0,"processed-tap":!0,"swipe-end":!0,"swipe-move":!0,"swipe-start":!0,tap:!0,"two-finger-tap":!0},constructor:function(e,g){this.registerConnectEvents();ba(this,{_internalLayerIds:[],_layers:[],_layerDivs:[],_layerSize:0,_clickHandles:[],_connects:[],_zoomAnimDiv:null,_zoomAnim:null,_layersDiv:null,_firstLayerId:null,_delta:null,_cursor:null,_ratioW:1,_ratioH:1,_params:null,cursor:null,layerIds:[],graphicsLayerIds:[],graphics:null,loaded:!1,__panning:!1,__zooming:!1,__container:null,
root:null,__LOD:null,__tileInfo:null,__visibleRect:null,__visibleDelta:null,_rids:[]});var h=this.container=a.byId(e),f=this.id=b.get(h,"id")||x.getUniqueId(this.declaredClass);d.add(h,"map");var s=r.getContentBox(h),l=d.add,k=n.create;this.position=new M(0,0);this._reposition();var t=this.width=s.w||$.width,A=this.height=s.h||$.height;0===s.w&&S(h,"width",t+"px");0===s.h&&S(h,"height",A+"px");var C=this.root=k("div",{id:f+"_root",style:{width:t+"px",height:A+"px",direction:"ltr"}});l(C,"container");
s=this.__container=k("div",{id:f+"_container"},C);S(s,"position","absolute");l(s,"container");h.appendChild(C);h=this._params=ba({slider:!0,nav:!1,zoom:-1,minZoom:-1,maxZoom:-1,scale:-1,minScale:0,maxScale:0,showInfoWindowOnClick:!0,displayGraphicsOnPan:!0,wrapAround180:!0,fitExtent:!1,optimizePanAnimation:!0},g||{});this.wrapAround180=h.wrapAround180;this.optimizePanAnimation=h.optimizePanAnimation;w.isDefined(h.resizeDelay)&&(this.resizeDelay=h.resizeDelay);h.lods&&(V({rows:512,cols:512,dpi:96,
format:"JPEG",compressionQuality:75,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:h.lods},h),this.__tileInfo=h.tileInfo);this.extent=h.extent;this._extentUtil({mapCenter:h.center,targetLevel:h.zoom,targetScale:h.scale});this.__visibleRect=new J(0,0,t,A);this.__visibleDelta=new J(0,0,t,A);f=this._layersDiv=k("div",{id:f+"_layers"});l(f,"layersDiv");s.appendChild(f);this._zoomAnimDiv=k("div",{style:{position:"absolute"}});h.infoWindow?this.infoWindow=h.infoWindow:(l=this.infoWindow=new U(h.popupOptions,
k("div")),l.startup(),l._ootb=!0,S(l.domNode,"zIndex",40));this._zoomStartHandler=Y(this,this._zoomStartHandler);this._zoomingHandler=Y(this,this._zoomingHandler);this._zoomEndHandler=Y(this,this._zoomEndHandler);this._panningHandler=Y(this,this._panningHandler);this._panEndHandler=Y(this,this._panEndHandler);this._endTranslate=Y(this,this._endTranslate);c.addOnWindowUnload(this,this.destroy)},_cleanUp:function(){var a=this.infoWindow;a&&(a._ootb&&a.destroy?a.destroy():a.unsetMap(this),delete this.infoWindow);
Z(this._tsTimeExtentChange_connect);this.setInfoWindowOnClick(!1);n.destroy(this.root);this.root=null},_addLayer:function(a,b,d){var c=a.id=a.id||(a instanceof I?$.graphicsLayerNamePrefix:$.layerNamePrefix)+ca++;this._layers[c]=a;var e,n;if(b===this.layerIds||b===this.graphicsLayerIds)e=this._layerSize,this._layerSize++;a._isRefLayer="top"===d;d=!w.isDefined(d)||0>d||d>b.length||"top"===d?b.length:d;0===e&&(this._firstLayerId=c);if(!a._isRefLayer)for(;(n=this.getLayer(b[d-1]))&&n._isRefLayer;)d--;
b.splice(d,0,c);var g=Y(this,this._addLayerHandler),r=this;d=this._connects;n=function(){a.loaded?r._onLoadFix?(r._onLoadFix=!1,setTimeout(function(){g(a)},0)):g(a):(r[c+"_addtoken_load"]=O(a,"onLoad",r,"_addLayerHandler"),r[c+"_addtoken_err"]=O(a,"onError",r,function(d){g(a,d,b)}))};this.loaded||0===e||a.loaded&&-1===aa(this.graphicsLayerIds,c)?n():d.push(O(this,"onLoad",n));return a},_addLayerHandler:function(a,b,d){var c=this.id,e=a.id,n=aa(a instanceof I?this.graphicsLayerIds:this.layerIds,e),
g=n,r=!1,h=this._params;Z(this[e+"_addtoken_load"]);Z(this[e+"_addtoken_err"]);if(b)delete this._layers[e],-1!==n&&(d.splice(n,1),this.onLayerAddResult(a,b));else{-1===n&&(n=aa(this._internalLayerIds,e),g=20+n,r=!0);if(e===this._firstLayerId){b=a.spatialReference;if((d=this.extent&&this.extent.spatialReference)&&!d.equals(b)&&(a.tileInfo||!a.url))d=null;d=this.spatialReference=d||b;this.wrapAround180=this.wrapAround180&&d&&d._isWrappable()?!0:!1;a.tileInfo&&(this.__tileInfo?(b=this.__tileInfo.lods,
this.__tileInfo=ba({},a.tileInfo),this.__tileInfo.lods=b):(V(ba({},a.tileInfo),h),this.__tileInfo=h.tileInfo));if(this.wrapAround180){b=this.__tileInfo;d=d._getInfo();if(!b||Math.abs(d.origin[0]-b.origin.x)>d.dx)this.wrapAround180=!1;this.wrapAround180&&b&&E._addFrameInfo(b,d)}h.units=a.units;if((b=this.__tileInfo&&this.__tileInfo.lods)&&b.length){d=h.minScale;var n=h.maxScale,f=-1,s=-1,l=!1,w=!1,k;for(k=0;k<b.length;k++)0<d&&(!l&&d>=b[k].scale)&&(f=b[k].level,l=!0),0<n&&(!w&&n>=b[k].scale)&&(s=0<
k?b[k-1].level:-1,w=!0);-1===h.minZoom&&(h.minZoom=0===d?b[0].level:f);-1===h.maxZoom&&(h.maxZoom=0===n?b[b.length-1].level:s);for(k=0;k<b.length;k++)h.minZoom===b[k].level&&(h.minScale=b[k].scale),h.maxZoom===b[k].level&&(h.maxScale=b[k].scale)}else h.minZoom=h.maxZoom=h.zoom=-1}a instanceof I?(this._gc||(this._gc=new I._GraphicsContainer,this._gc._setMap(this,this._layersDiv).id=c+"_gc"),g=a._setMap(this,this._gc._surface),g.id=c+"_"+e,this._layerDivs[e]=g,this._reorderLayers(this.graphicsLayerIds),
h.showInfoWindowOnClick&&this._clickHandles.push(O(a,"onClick",this,"_gClickHandler"))):(g=a._setMap(this,this._layersDiv,g,this.__LOD),g.id=c+"_"+e,this._layerDivs[e]=g,this._reorderLayers(this.layerIds),!r&&-1!==a.declaredClass.indexOf("VETiledLayer")&&this._onBingLayerAdd(a));e===this._firstLayerId&&(this.graphics=new I({id:c+"_graphics",displayOnPan:h.displayGraphicsOnPan}),this._addLayer(this.graphics,this._internalLayerIds,20));if(a===this.graphics){d=this._layers[this._firstLayerId];c=h.zoom;
g=h.scale;b=h.center;d=d.initialExtent||d.fullExtent;this._firstLayerId=null;this.extent&&(this.extent=this._convertGeometry(this,this.extent));!this.extent&&d&&(b&&(b=this._convertGeometry(d,b)),b&&(d=d.centerAt(b)));if(b=this.extent||d&&new F(d.toJson()))-1<c?b=this.__getExtentForLevel(c,null,b).extent:0<g&&(b=K.getExtentForScale(this,g,b));if(!b)return;c=this._fixExtent(b,h.fitExtent);this.extent=c.extent;this.__LOD=c.lod;this.__setExtent(this.extent,null,null,h.fitExtent);this.loaded=!0;this.attr("data-loaded",
"");this.infoWindow.setMap(this);this.onLoad(this)}r||(this.onLayerAdd(a),this.onLayerAddResult(a));Z(this[e+"_addLayerHandler_connect"])}},_convertGeometry:function(a,b){var d=a&&a.spatialReference,c=b&&b.spatialReference;d&&(c&&!d.equals(c))&&(d._canProject(c)?d.isWebMercator()?b=H.geographicToWebMercator(b):4326===d.wkid&&(b=H.webMercatorToGeographic(b,!0)):b=null);return b},_reorderLayers:function(a){var b=this.onLayerReorder,d=n.place,c=this._layerDivs,e=this._layers,r=this._gc?this._gc._surface.getEventSource():
null;if(a===this.graphicsLayerIds)g.forEach(a,function(a,n){var g=c[a];g&&(d(g.getEventSource(),r,n),b(e[a],n))});else{var h=this.graphics,f=h?h.id:null,l=this._layersDiv,w;g.forEach(a,function(a,n){w=c[a];a!==f&&w&&(d(w,l,n),b(e[a],n))});r&&(r=9>s("ie")?r.parentNode:r,d(r,r.parentNode,a.length))}this.onLayersReordered([].concat(a))},_zoomStartHandler:function(){this.__zoomStart(this._zoomAnimDiv.startingExtent,this._zoomAnimDiv.anchor)},_zoomingHandler:function(a){var b=parseFloat(a.left),d=parseFloat(a.top);
a=new F(b,d-parseFloat(a.height),b+parseFloat(a.width),d,this.spatialReference);b=this.extent.getWidth()/a.getWidth();this.__zoom(a,b,this._zoomAnimDiv.anchor)},_zoomEndHandler:function(){var a=this._zoomAnimDiv,b=a.extent,d=this.extent.getWidth()/b.getWidth(),c=a.anchor,e=a.newLod,n=a.levelChange;a.extent=a.anchor=a.levelChange=a.startingExtent=a.newLod=this._delta=this._zoomAnim=null;this.__zoomEnd(b,d,c,e,n)},_panningHandler:function(a){if(isNaN(parseFloat(a.left))||isNaN(parseFloat(a.top))){var b=
Math.round,d=this._panAnim.node;a.left=-1*(this._delta.x-b(this.width/2))+"px";a.top=-1*(this._delta.y-b(this.height/2))+"px";t.set(d,"left",a.left);t.set(d,"top",a.top)}a=new M(parseFloat(a.left),parseFloat(a.top));b=this.toMap(a);this.onPan(this.extent.offset(b.x,b.y),a)},_panEndHandler:function(a){this.__panning=!1;var b=Math.round;a=new M(-b(parseFloat(a.style.left)),-b(parseFloat(a.style.top)));var b=a.x,d=a.y,c=this.__visibleRect,e=this.__visibleDelta;c.x+=-b;c.y+=-d;e.x+=-b;e.y+=-d;S(this._zoomAnimDiv,
{left:"0px",top:"0px"});var c=this.extent,e=this._ratioW,n=this._ratioH,c=new F(c.xmin+b/e,c.ymin-d/n,c.xmax+b/e,c.ymax-d/n,this.spatialReference);a.setX(-a.x);a.setY(-a.y);this._delta=this._panAnim=null;this._updateExtent(c);this.onPanEnd(c,a);this._fireExtChg([c,a,!1,this.__LOD])},_fixExtent:function(a,b){for(var d=this._reshapeExtent(a),c=1.25;!0===b&&(d.extent.getWidth()<a.getWidth()||d.extent.getHeight()<a.getHeight())&&0<d.lod.level&&3>=c;)d=this._reshapeExtent(a.expand(c)),c+=0.25;return d},
_getFrameWidth:function(){var a=-1,b=this.spatialReference._getInfo();this.__LOD?(b=this.__LOD._frameInfo)&&(a=b[3]):b&&(a=Math.round(2*b.valid[1]/(this.extent.getWidth()/this.width)));return a},_reshapeExtent:function(a){var b=a.getWidth(),d=a.getHeight(),c=b/d,e=this.width/this.height,n=0,g=0;this.width>this.height?b>d?e>c?n=d*e-b:g=b/e-d:n=d*e-b:this.width<this.height?b>d?g=b/e-d:b<d?e>c?n=d*e-b:g=b/e-d:g=b/e-d:b<d?n=d-b:b>d&&(g=b/e-d);n&&(a.xmin-=n/2,a.xmax+=n/2);g&&(a.ymin-=g/2,a.ymax+=g/2);
return this._getAdjustedExtent(a)},_getAdjustedExtent:function(a){if(this.__tileInfo)return E.getCandidateTileInfo(this,this.__tileInfo,a);var b=K.getScale(this,a),d=this.getMinScale(),c=this.getMaxScale(),e=!c||b>=c;d&&!(b<=d)?a=K.getExtentForScale(this,d,a):e||(a=K.getExtentForScale(this,c,a));return{extent:a}},_gClickHandler:function(a){var b=a.graphic,d=this.infoWindow;if(b._getEffInfoTemplate()&&d){e.stop(a);var c=b.geometry;a=c&&"point"===c.type?c:a.mapPoint;if(d.setFeatures)d.setFeatures([b]);
else{d.setTitle(b.getTitle());if((b=b.getContent())&&h.isString(b.id))(c=x.byId(b.id))&&(c.set&&/_PopupRenderer/.test(c.declaredClass))&&c.set("showTitle",!1);d.setContent(b)}d.show(a)}},_onBingLayerAdd:function(a){this["__"+a.id+"_vis_connect"]=q.connect(a,"onVisibilityChange",this,"_toggleBingLogo");this._toggleBingLogo(a.visible)},_onBingLayerRemove:function(a){q.disconnect(this["__"+a.id+"_vis_connect"]);delete this["__"+a.id+"_vis_connect"];a=g.some(this.layerIds,function(a){return(a=this._layers[a])&&
a.visible&&-1!==a.declaredClass.indexOf("VETiledLayer")},this);this._toggleBingLogo(a)},_toggleBingLogo:function(a){a&&!this._bingLogo?(a={left:this._mapParams&&this._mapParams.nav?"25px":""},6===s("ie")&&(a.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+f.toUrl("esri")+"/images/map/bing-logo-lg.png')"),a=this._bingLogo=n.create("div",{style:a},this.root),d.add(a,"bingLogo-lg")):!a&&this._bingLogo&&(n.destroy(this._bingLogo),delete this._bingLogo)},
__panStart:function(a,b){var d=this._zoomAnim,c=this._panAnim;if(d&&d._active)d.stop(),d._fire("onEnd",[d.node]);else if(c&&c._active){c.stop();this._panAnim=null;var c=c.curve.getValue(c._getStep()),d=Math.round(parseFloat(c.left)),c=Math.round(parseFloat(c.top)),e=this.navigationManager._dragOrigin;this.__pan(d,c);e&&(e.x-=d,e.y-=c);return}this.__panning=!0;this.onPanStart(this.extent,new M(a,b))},__pan:function(a,b){var d=this.extent,c=this._ratioW,e=this._ratioH;this.onPan(new F(d.xmin-a/c,d.ymin+
b/e,d.xmax-a/c,d.ymax+b/e,this.spatialReference),new M(a,b))},__panEnd:function(a,b){var d=this.__visibleRect,c=this.__visibleDelta;d.x+=a;d.y+=b;c.x+=a;c.y+=b;var d=new M(a,b),c=this.extent,e=this._ratioW,n=this._ratioH,c=new F(c.xmin-a/e,c.ymin+b/n,c.xmax-a/e,c.ymax+b/n,this.spatialReference);this.__panning=!1;this._updateExtent(c);this.onPanEnd(c,d);this._fireExtChg([c,d,!1,this.__LOD])},__zoomStart:function(a,b){this.__zooming=!0;this.onZoomStart(a,1,b,this.__LOD?this.__LOD.level:null)},__zoom:function(a,
b,d){this.onZoom(a,b,d)},__zoomEnd:function(a,b,d,c,e){S(this._layersDiv,{left:"0px",top:"0px"});this._delta=new M(0,0);this.__visibleRect.x=this.__visibleRect.y=0;a=new F(a);this.__LOD=c;this._ratioW=this.width/a.getWidth();this._ratioH=this.height/a.getHeight();var n=this._delta;this._delta=null;this.__zooming=!1;this._updateExtent(a,e);this.onZoomEnd(a,b,d,c?c.level:null);this._fireExtChg([a,n,e,c])},_extentUtil:function(a,b,d,c,e){var n=new l,g,r,f,s,k,t,A,C,q,u,m=this.width,x=this.height,B,D,
z;a&&(g=a.numLevels,r=a.targetLevel,B=w.isDefined(r),f=a.factor,s=a.mapAnchor,k=a.screenAnchor,t=a.mapCenter,D=a.levelOrFactor,A=a.targetScale,C=w.isDefined(A)&&0<A);b&&(q=b.dx,u=b.dy,t=b.mapCenter);h.isArray(t)&&(t=new G(t));var y=this._panAnim;b=(a=this._stopAnim())?a.divExtent:this.extent;var E=this.__tileInfo,J=this._params;if(!this.loaded){if(d)b&&(d=this._convertGeometry(b,d)),d&&(this.extent=d,J.zoom=J.scale=-1,J.center=null);else if(t||B||C){if(t)if(b){if(t=this._convertGeometry(b,t))this.extent=
b.centerAt(t),J.center=null}else J.center=t;B&&-1<r?(J.zoom=r,J.scale=-1):C&&(J.scale=A,J.zoom=-1)}n.resolve();return n}if(t&&(t=this._convertGeometry(this,t),!t)||s&&(s=this._convertGeometry(this,s),!s)||d&&(d=this._convertGeometry(this,d),!d))return n.reject(),n;y&&(s&&k)&&(s=W(this.extent,m,x,k));a&&(s&&k)&&(s=W(a.divExtent,m,x,k));B&&(E?(g=this.getMinZoom(),B=this.getMaxZoom(),r<g?r=g:r>B&&(r=B),g=r-(a?a.level:this.getLevel())):(g=0<r?-1:1,z=D?r:null));if(!d)if(w.isDefined(g))E?(m=a?a.level:this.getLevel(),
x=this.__getExtentForLevel(m+g,t,b).extent):(x=(a?a.end:this.extent).expand(z||(0<g?0.5*g:2*-g)),z&&t&&(x=x.centerAt(t))),x&&(t?d=x:(m=s||b.getCenter(),q=b.ymax-(x.getHeight()-b.getHeight())*(m.y-b.ymax)/b.getHeight(),m=b.xmin-(x.getWidth()-b.getWidth())*(m.x-b.xmin)/b.getWidth(),d=new F(m,q-x.getHeight(),m+x.getWidth(),q,this.spatialReference)));else if(C)d=K.getExtentForScale(this,A,b);else if(w.isDefined(f))d=b.expand(f);else if(q||u)a?(d=a.end,s=d.getCenter(),z=Q(d,m,x,s),z.x+=q,z.y+=u,z=W(d,
m,x,z),d=d.offset(z.x-s.x,z.y-s.y)):(q=new M(m/2+q,x/2+u),u=W(b,m,x,q),x=b.getWidth(),q=b.getHeight(),m=u.x-x/2,u=u.y-q/2,d=new F(m,u,m+x,u+q,this.spatialReference));d||(t?(b=a?a.end:b,x=b.getWidth(),q=b.getHeight(),m=t.x-x/2,u=t.y-q/2,d=new F(m,u,m+x,u+q,this.spatialReference)):a&&(d=a.end));d?(this._extentDfd&&-1===this._extentDfd.fired&&this._extentDfd.reject(),this._extentDfd=n,this.__setExtent(d,null,k,c,a,e)):n.reject();return n},__setExtent:function(a,b,d,c,e,n){try{if(this._firstLayerId)this.extent=
a;else{var g=!0,r=this.spatialReference,h=e?e.divExtent:this.extent,f=this._fixExtent(a,c||!1);a=f.extent;var s=a.getWidth(),l=a.getHeight(),w=Math.round;if(h)var k=w(1E6*h.getWidth()),t=w(1E6*s),A=w(1E6*h.getHeight()),q=w(1E6*l),g=k!==t||A!==q;var u,m,x=e&&e.rect,B=e&&e.divExtent;if($.zoomDuration&&g&&h){B=B||new F(h);x=x||{left:h.xmin,top:h.ymax,width:h.getWidth(),height:h.getHeight()};m={left:a.xmin,top:a.ymax,width:s,height:l};var D=new G(a.xmin,a.ymax,r),z=new G(a.xmin,a.ymin,r),y=new G(this.extent.xmin,
this.extent.ymax,r),E=new G(this.extent.xmin,this.extent.ymin,r);u=L.getLineIntersection(y,D,E,z,r);!u&&!e&&(g=!1)}this._ratioW=this.width/s;this._ratioH=this.height/l;var H=this._zoomAnimDiv;if(g)S(this._layersDiv,{left:"0px",top:"0px"}),b=new M(0,0),this.__visibleRect.x=this.__visibleRect.y=0,x&&m?(this._delta=b,H.id="_zAD",H.startingExtent=B,H.extent=a,H.levelChange=g,H.newLod=f.lod,H.anchor=d?d:!u&&e?e.anchor:Q(this.extent,this.width,this.height,u),this._zoomAnim=C.resize({node:H,start:x,end:m,
duration:$.zoomDuration,rate:$.zoomRate,beforeBegin:!e?this._zoomStartHandler:null,onAnimate:this._zoomingHandler,onEnd:this._zoomEndHandler}).play(),this._fireOnScale(this.extent.getWidth()/a.getWidth(),H.anchor)):(this._updateExtent(a,g),this._fireExtChg([this.extent,b,g,this.__LOD=f.lod]));else if(!this.__panning)if(!1===this.loaded||n)this._updateExtent(a,g),this._fireExtChg([this.extent,b,g,this.__LOD=f.lod]);else{this.__panning=!0;x=(new J(0,0,this.width,this.height,this.spatialReference)).getCenter();
x.x=w(x.x);x.y=w(x.y);var I=this._delta=this.toScreen(a.getCenter());this.optimizePanAnimation&&(Math.abs(x.x-I.x)>2*this.width||Math.abs(x.y-I.y)>2*this.height)?(b=new M(x.x-I.x,x.y-I.y),this.__panStart(x.x,x.y),this.__pan(b.x,b.y),this.__panEnd(b.x,b.y)):(this.onPanStart(this.extent,new M(0,0)),this._panAnim=C.slideTo({node:H,left:x.x-I.x,top:x.y-I.y,duration:$.panDuration,rate:$.panRate,onAnimate:this._panningHandler,onEnd:this._panEndHandler}),this._panAnim.play())}}}catch(N){console.error(N)}},
_fireOnScale:function(a,b,d){if("css-transforms"===this.navigationMode){var c=this.__visibleDelta;this.onScale(u.scaleAt(a,{x:-1*(this.width/2-(b.x-c.x)),y:-1*(this.height/2-(b.y-c.y))}),d)}},_stopAnim:function(){var a=this._zoomAnim,b=this._panAnim;if(a&&a._active){a.stop();var b=a.curve.getValue(a._getStep()),d=parseFloat(b.left),c=parseFloat(b.top),a=a.node;return{anchor:a.anchor,start:a.startingExtent,end:a.extent,level:a.newLod&&a.newLod.level,rect:b,divExtent:new F(d,c-parseFloat(b.height),
d+parseFloat(b.width),c,this.spatialReference)}}b&&b._active&&(b.stop(),b._fire("onEnd",[b.node]))},__getExtentForLevel:function(a,b,d){var c=this.__tileInfo,c=c&&c.lods;a=w.isDefined(a)?a:0;d=d||this.extent;b=b||d&&d.getCenter();if(c){if(b){d=this.getMinZoom();var e=this.getMaxZoom();a>e&&(a=e);a<d&&(a=d);a=c[a];c=this.width*a.resolution/2;d=this.height*a.resolution/2;return{extent:new F(b.x-c,b.y-d,b.x+c,b.y+d,b.spatialReference),lod:a}}}else if(d)return{extent:d.expand(!a||1>a?1:a).centerAt(b)}},
_jobs:0,_incr:function(){1===++this._jobs&&(this.updating=!0,this.attr("data-updating",""),this.onUpdateStart())},_decr:function(){var a=--this._jobs;a?0>a&&(this._jobs=0):(this.updating=!1,this.attr("data-updating"),this.onUpdateEnd())},_fireEvent:function(a,b){this[a]&&this[a].apply(this,b)},_updateExtent:function(a,b){this.extent=a;b&&this._setClipRect();var d=this.spatialReference;d&&(d.isWebMercator()?this.geographicExtent=H.webMercatorToGeographic(this._getAvailExtent(),!0):4326===d.wkid&&(this.geographicExtent=
new F(this._getAvailExtent().toJson())))},_fireExtChg:function(a){this.attr("data-zoom",this.getZoom());this.attr("data-scale",this.getScale());this._fireEvent("onExtentChange",a);if(a=this._extentDfd)delete this._extentDfd,a.resolve()},attr:function(a,b){var d=this.container;d&&(null==b?d.removeAttribute(a):d.setAttribute(a,b));return this},onUpdateStart:function(){},onUpdateEnd:function(){},onLoad:function(){this._setClipRect()},onBeforeUnload:function(){},onUnload:function(){},onExtentChange:function(a,
b,d){},onTimeExtentChange:function(){},onLayerAdd:function(){},onLayerAddResult:function(){},onLayersAddResult:function(){},onLayerRemove:function(){},onLayersRemoved:function(){},onLayerReorder:function(){},onLayersReordered:function(){},onLayerSuspend:function(){},onLayerResume:function(){},onPanStart:function(){},onPan:function(){},onPanEnd:function(){},onScale:function(){},onZoomStart:function(){},onZoom:function(){},onZoomEnd:function(){},onResize:function(){this._setClipRect()},onReposition:function(){},
destroy:function(){this._destroyed||(this.onBeforeUnload(this),this.removeAllLayers(),this._cleanUp(),this._gc&&this._gc._cleanUp(),this._destroyed=!0,this.onUnload(this))},setCursor:function(a){S(this.__container,"cursor",this.cursor=a)},setMapCursor:function(a){this.setCursor(this._cursor=a)},resetMapCursor:function(){this.setCursor(this._cursor)},setInfoWindow:function(a){var b=this.infoWindow;b&&b.unsetMap(this);this.infoWindow=a;this.loaded&&a&&a.setMap(this)},setInfoWindowOnClick:function(a){var b=
this._params;if(a){if(!b.showInfoWindowOnClick){var d=[this.graphics].concat(g.map(this.graphicsLayerIds,this.getLayer,this));g.map(d,function(a){a&&a.loaded&&this._clickHandles.push(O(a,"onClick",this,"_gClickHandler"))},this)}}else g.forEach(this._clickHandles,Z),this._clickHandles=[];b.showInfoWindowOnClick=a},getInfoWindowAnchor:function(a){return this.infoWindow&&this.infoWindow._getAnchor&&this.infoWindow._getAnchor(a)||"upperright"},toScreen:function(a,b){return Q(this.extent,this.width,this.height,
a,b)},toMap:function(a){return W(this.extent,this.width,this.height,a)},addLayer:function(a,b){a&&!this.getLayer(a.id)&&this._addLayer(a,a instanceof I?this.graphicsLayerIds:this.layerIds,b);return a},addLayers:function(a){var b=[],d=a.length,c,e,n=a.length;c=q.connect(this,"onLayerAddResult",function(e,n){-1!==g.indexOf(a,e)&&(d--,b.push({layer:e,success:!n,error:n}),d||(q.disconnect(c),this.onLayersAddResult(b)))});for(e=0;e<n;e++)this.addLayer(a[e]);return this},removeLayer:function(a,b){var d=
a.id,c=a instanceof I?this.graphicsLayerIds:this.layerIds,e=aa(c,d);0<=e&&(c.splice(e,1),a instanceof I?(Z(this["_gl_"+a.id+"_click_connect"]),a.loaded&&a._unsetMap(this,this._gc._surface)):a.loaded&&(a._unsetMap(this,this._layersDiv),-1!==a.declaredClass.indexOf("VETiledLayer")&&this._onBingLayerRemove(a)),delete this._layers[d],delete this._layerDivs[d],b||this._reorderLayers(c),this.onLayerRemove(a))},removeAllLayers:function(){var a=this.layerIds,b;for(b=a.length-1;0<=b;b--)this.removeLayer(this._layers[a[b]],
1);a=this.graphicsLayerIds;for(b=a.length-1;0<=b;b--)this.removeLayer(this._layers[a[b]],1);this.onLayersRemoved()},reorderLayer:function(a,b){h.isString(a)&&(m.deprecated(this.declaredClass+": Map.reorderLayer(/*String*/ id, /*Number*/ index) deprecated. Use Map.reorderLayer(/*Layer*/ layer, /*Number*/ index).",null,"v2.0"),a=this.getLayer(a));var d=a.id,c,e=a instanceof I?this.graphicsLayerIds:this.layerIds;0>b?b=0:b>=e.length&&(b=e.length-1);c=aa(e,d);-1===c||c===b||(e.splice(c,1),e.splice(b,0,
d),this._reorderLayers(e))},getLayer:function(a){return this._layers[a]},setExtent:function(a,b){a=new F(a.toJson());var d=a.getWidth(),c=a.getHeight();return 0===d&&0===c?this.centerAt(new G({x:a.xmin,y:a.ymin,spatialReference:a.spatialReference&&a.spatialReference.toJson()})):this._extentUtil(null,null,a,b)},centerAt:function(a){return this._extentUtil(null,{mapCenter:a})},centerAndZoom:function(a,b){return this._extentUtil({targetLevel:b,mapCenter:a,levelOrFactor:!0})},getScale:function(){return this.__LOD?
this.__LOD.scale:K.getScale(this)},getResolution:function(){return this.__LOD?this.__LOD.resolution:this.extent?this.extent.getWidth()/this.width:0},getResolutionInMeters:function(){return this.getResolution()*(K.getUnitValue(this.spatialReference)||20015077/180)},getMinScale:function(){return this._params.minScale},getMaxScale:function(){return this._params.maxScale},setScale:function(a){return this._extentUtil({targetScale:a})},getLayersVisibleAtScale:function(a){var b=[];(a=a||this.getScale())&&
g.forEach(this.layerIds.concat(this.graphicsLayerIds),function(d){d=this.getLayer(d);d.isVisibleAtScale(a)&&b.push(d)},this);return b},getNumLevels:function(){var a=this.getMinZoom(),b=this.getMaxZoom();return a===b&&0>a?0:b-a+1},getLevel:function(){return this.__LOD?this.__LOD.level:-1},setLevel:function(a){if(-1<a)return this._extentUtil({targetLevel:a})},getZoom:function(){return this.getLevel()},setZoom:function(a){return this.setLevel(a)},getMinZoom:function(){return this._params.minZoom},getMaxZoom:function(){return this._params.maxZoom},
setBasemap:function(a){var b;h.isObject(a)?(b=a,a=b.title):b=$.basemaps&&$.basemaps[a];if(b){this._basemapDfd&&-1===this._basemapDfd.fired&&this._basemapDfd.cancel();var d=[],c=[],e=0;g.forEach(b.baseMapLayers||b.layers,function(a){var b,n={id:a.id,displayLevels:a.displayLevels,opacity:w.isDefined(a.opacity)?a.opacity:null,visible:w.isDefined(a.visibility)?a.visibility:null};if(a.type)switch(a.type){case "OpenStreetMap":b=new R(n)}else{b=a.url;if("https:"===window.location.protocol&&(-1!==b.search(/^http\:\/\/server\.arcgisonline\.com/i)||
-1!==b.search(/^http\:\/\/services\.arcgisonline\.com/i)||-1!==b.search(/^http\:\/\/.+\.arcgis\.com/i)))b=b.replace(/http:/i,"https:");b=new T(b,n)}b&&(d.push(b),c.push(a),a.isReference||e++)},this);if(d.length&&e){var n={basemapName:a,infos:c,layers:d};if(this.loaded){var r=this,f=new l(B._dfdCanceller),s=function(a){f._pendingLayers--;a=g.indexOf(n.layers,this);if(-1<a&&(a=f._layerEvents[a]))q.disconnect(a[0]),q.disconnect(a[1]);0>=f._pendingLayers&&(delete f._layerEvents,delete r._basemapDfd,0>
f.fired&&f.callback(n))};this._basemapDfd=f;f._pendingLayers=0;f._layerEvents={};g.forEach(d,function(a,b){a&&(f._pendingLayers++,a.loaded?s(a):f._layerEvents[b]=[q.connect(a,"onLoad",a,s),q.connect(a,"onError",a,s)])});f.addCallback(h.hitch(this,this._basemapLoaded))}else this._basemapLoaded(n)}}else{a=[];for(var k in $.basemaps)a.push(k)}},_basemapLoaded:function(a){var b=a.layers,d=a.infos,c=0,e=!0,n;this.loaded&&(g.forEach(b,function(a,b){a.loaded&&(d[b].isReference||c++)}),e=c);e&&(this.basemapLayerIds&&
(n={basemapName:this._basemap,infos:$.basemaps&&$.basemaps[this._basemap]&&$.basemaps[this._basemap].baseMapLayers},n.basemapName||(g.forEach(this.basemapLayerIds,function(a){if(this.getLayer(a)instanceof R)return n.basemapName="osm",n.infos=$.basemaps&&$.basemaps.osm&&$.basemaps.osm.baseMapLayers,!1},this),n.basemapName||(n=null))),this._removeBasemap(),this._basemap=a.basemapName,this.basemapLayerIds=this._addBasemap(b,d),this.attr("data-basemap",this.getBasemap()),this.emit("basemap-change",{current:a,
previous:n}))},_addBasemap:function(a,b){var d=[],c=[],e=0;g.forEach(a,function(a,n){b[n].isReference?d.push(a):(this.addLayer(a,e++),c.push(a.id))},this);d.length&&g.forEach(d,function(a){this.addLayer(a,"top");c.push(a.id)},this);return c},_removeBasemap:function(){var a=this.basemapLayerIds,b;a&&a.length&&g.forEach(a,function(a){(b=this.getLayer(a))&&this.removeLayer(b)},this)},getBasemap:function(){return this._basemap||""},translate:function(a,b){a=a||0;b=b||0;if(!this._txTimer){this._tx=this._ty=
0;var d=this.toScreen(this.extent.getCenter());this.__panStart(d.x,d.y)}this._tx+=a;this._ty+=b;this.__pan(this._tx,this._ty);clearTimeout(this._txTimer);this._txTimer=setTimeout(this._endTranslate,150)},_endTranslate:function(){clearTimeout(this._txTimer);this._txTimer=null;var a=this._tx,b=this._ty;this._tx=this._ty=0;this.__panEnd(a,b)},setTimeExtent:function(a){a=(this.timeExtent=a)?new a.constructor(a.toJson()):null;this.onTimeExtentChange(a)},setTimeSlider:function(a){this.timeSlider&&(Z(this._tsTimeExtentChange_connect),
this.timeSlider=this._tsTimeExtentChange_connect=null);a&&(this.timeSlider=a,this.setTimeExtent(a.getCurrentTimeExtent()),this._tsTimeExtentChange_connect=O(a,"onTimeExtentChange",this,"setTimeExtent"))},setVisibility:function(a){if(this.visible!==a){this.visible=a;a||(this._display=this.container.style.display);this.container.style.display=a?this._display:"none";if(this.autoResize){var b=a?"resume":"pause";this._rszSignal[b]();this._oriSignal[b]()}a&&this.resize()}return this},resize:function(a){var b=
this,d=function(){clearTimeout(b._resizeT);b.reposition();b._resize()};clearTimeout(b._resizeT);!0===a?d():b._resizeT=setTimeout(d,b.resizeDelay)},_resize:function(){var a=this.width,b=this.height,d=r.getContentBox(this.container);if(!(a===d.w&&b===d.h)){var c=this._zoomAnim||this._panAnim;c&&(c.stop(),c._fire("onEnd",[c.node]));S(this.root,{width:(this.width=d.w)+"px",height:(this.height=d.h)+"px"});d=this.width;c=this.height;this.attribution&&this.attribution.domNode&&t.set(this.attribution.domNode,
"maxWidth",Math.floor(d*this._mapParams.attributionWidth)+"px");this.__visibleRect.update(this.__visibleRect.x,this.__visibleRect.y,d,c);this.__visibleDelta.update(this.__visibleDelta.x,this.__visibleDelta.y,d,c);var e=new J(this.extent),a=(new J(e.x,e.y,e.width*(d/a),e.height*(c/b),this.spatialReference)).getExtent();this.onResize(a,d,c);this._extentUtil(null,null,a,null,!0)}},reposition:function(){this._reposition();this.onReposition(this.position.x,this.position.y)},_reposition:function(){var a=
r.position(this.container,!0),b=r.getPadBorderExtents(this.container);this.position.update(a.x+b.l,a.y+b.t)},_setClipRect:function(){delete this._clip;var a=s("ie")?"rect(auto,auto,auto,auto)":null;if(this.wrapAround180){var b=this.width,d=this.height,c=this._getFrameWidth(),e=b-c;0<e&&(a=e/2,a="rect(0px,"+(a+c)+"px,"+d+"px,"+a+"px)",d=this.extent.getWidth(),b=d*(c/b),this._clip=[(d-b)/2,b])}S(this.__container,"clip",a)},_getAvailExtent:function(){var a=this.extent,b=this._clip;if(b){if(!a._clip){var d=
new J(a);d.width=b[1];d.x+=b[0];a._clip=d.getExtent()}return a._clip}return a},_fixedPan:function(a,b){return this._extentUtil(null,{dx:a,dy:b})},panUp:function(){return this._fixedPan(0,-0.75*this.height)},panUpperRight:function(){return this._fixedPan(0.75*this.width,-0.75*this.height)},panRight:function(){return this._fixedPan(0.75*this.width,0)},panLowerRight:function(){return this._fixedPan(0.75*this.width,0.75*this.height)},panDown:function(){return this._fixedPan(0,0.75*this.height)},panLowerLeft:function(){return this._fixedPan(-0.75*
this.width,0.75*this.height)},panLeft:function(){return this._fixedPan(-0.75*this.width,0)},panUpperLeft:function(){return this._fixedPan(-0.75*this.width,-0.75*this.height)},enableSnapping:function(a){a=a||{};if("esri.SnappingManager"===a.declaredClass)this.snappingManager=a;else{var b=ca++,d=this;this._rids&&this._rids.push(b);f(["esri/SnappingManager"],function(c){var e=d._rids?g.indexOf(d._rids,b):-1;-1!==e&&(d._rids.splice(e,1),d.snappingManager=new c(h.mixin({map:d},a)))})}return this.snappingManager},
disableSnapping:function(){this.snappingManager&&this.snappingManager.destroy();this.snappingManager=null}});s("extend-esri")&&(z._CoreMap=k);return k})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(f,m,k){var q=window,l={addOnWindowUnload:function(h,g){f.windowUnloaded||k(q,"unload",f.windowUnloaded=function(){});k(q,"unload",m.hitch(h,g))},addOnUnload:function(h,g){k(q,"beforeunload",m.hitch(h,g))}};f.addOnWindowUnload=l.addOnWindowUnload;f.addOnUnload=l.addOnUnload;
return l})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(f,m){var k=f.matrix={},q={};k._degToRad=function(f){return q[f]||(q[f]=Math.PI*f/180)};k._radToDeg=function(f){return 180*(f/Math.PI)};k.Matrix2D=function(f){if(f)if("number"==typeof f)this.xx=this.yy=f;else if(f instanceof Array){if(0<f.length){for(var h=k.normalize(f[0]),g=1;g<f.length;++g){var e=h,c=k.normalize(f[g]),h=new k.Matrix2D;h.xx=e.xx*c.xx+e.xy*c.yx;h.xy=e.xx*c.xy+e.xy*c.yy;h.yx=e.yx*c.xx+e.yy*c.yx;
h.yy=e.yx*c.xy+e.yy*c.yy;h.dx=e.xx*c.dx+e.xy*c.dy+e.dx;h.dy=e.yx*c.dx+e.yy*c.dy+e.dy}m.mixin(this,h)}}else m.mixin(this,f)};m.extend(k.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});m.mixin(k,{identity:new k.Matrix2D,flipX:new k.Matrix2D({xx:-1}),flipY:new k.Matrix2D({yy:-1}),flipXY:new k.Matrix2D({xx:-1,yy:-1}),translate:function(f,h){return 1<arguments.length?new k.Matrix2D({dx:f,dy:h}):new k.Matrix2D({dx:f.x,dy:f.y})},scale:function(f,h){return 1<arguments.length?new k.Matrix2D({xx:f,yy:h}):"number"==
typeof f?new k.Matrix2D({xx:f,yy:f}):new k.Matrix2D({xx:f.x,yy:f.y})},rotate:function(f){var h=Math.cos(f);f=Math.sin(f);return new k.Matrix2D({xx:h,xy:-f,yx:f,yy:h})},rotateg:function(f){return k.rotate(k._degToRad(f))},skewX:function(f){return new k.Matrix2D({xy:Math.tan(f)})},skewXg:function(f){return k.skewX(k._degToRad(f))},skewY:function(f){return new k.Matrix2D({yx:Math.tan(f)})},skewYg:function(f){return k.skewY(k._degToRad(f))},reflect:function(f,h){1==arguments.length&&(h=f.y,f=f.x);var g=
f*f,e=h*h,c=g+e,a=2*f*h/c;return new k.Matrix2D({xx:2*g/c-1,xy:a,yx:a,yy:2*e/c-1})},project:function(f,h){1==arguments.length&&(h=f.y,f=f.x);var g=f*f,e=h*h,c=g+e,a=f*h/c;return new k.Matrix2D({xx:g/c,xy:a,yx:a,yy:e/c})},normalize:function(f){return f instanceof k.Matrix2D?f:new k.Matrix2D(f)},isIdentity:function(f){return 1==f.xx&&0==f.xy&&0==f.yx&&1==f.yy&&0==f.dx&&0==f.dy},clone:function(f){var h=new k.Matrix2D,g;for(g in f)"number"==typeof f[g]&&("number"==typeof h[g]&&h[g]!=f[g])&&(h[g]=f[g]);
return h},invert:function(f){f=k.normalize(f);var h=f.xx*f.yy-f.xy*f.yx;return f=new k.Matrix2D({xx:f.yy/h,xy:-f.xy/h,yx:-f.yx/h,yy:f.xx/h,dx:(f.xy*f.dy-f.yy*f.dx)/h,dy:(f.yx*f.dx-f.xx*f.dy)/h})},_multiplyPoint:function(f,h,g){return{x:f.xx*h+f.xy*g+f.dx,y:f.yx*h+f.yy*g+f.dy}},multiplyPoint:function(f,h,g){f=k.normalize(f);return"number"==typeof h&&"number"==typeof g?k._multiplyPoint(f,h,g):k._multiplyPoint(f,h.x,h.y)},multiplyRectangle:function(f,h){var g=k.normalize(f);h=h||{x:0,y:0,width:0,height:0};
if(k.isIdentity(g))return{x:h.x,y:h.y,width:h.width,height:h.height};var e=k.multiplyPoint(g,h.x,h.y),c=k.multiplyPoint(g,h.x,h.y+h.height),a=k.multiplyPoint(g,h.x+h.width,h.y),b=k.multiplyPoint(g,h.x+h.width,h.y+h.height),g=Math.min(e.x,c.x,a.x,b.x),d=Math.min(e.y,c.y,a.y,b.y),n=Math.max(e.x,c.x,a.x,b.x),e=Math.max(e.y,c.y,a.y,b.y);return{x:g,y:d,width:n-g,height:e-d}},multiply:function(f){for(var h=k.normalize(f),g=1;g<arguments.length;++g){var e=h,c=k.normalize(arguments[g]),h=new k.Matrix2D;h.xx=
e.xx*c.xx+e.xy*c.yx;h.xy=e.xx*c.xy+e.xy*c.yy;h.yx=e.yx*c.xx+e.yy*c.yx;h.yy=e.yx*c.xy+e.yy*c.yy;h.dx=e.xx*c.dx+e.xy*c.dy+e.dx;h.dy=e.yx*c.dx+e.yy*c.dy+e.dy}return h},_sandwich:function(f,h,g){return k.multiply(k.translate(h,g),f,k.translate(-h,-g))},scaleAt:function(f,h,g,e){switch(arguments.length){case 4:return k._sandwich(k.scale(f,h),g,e);case 3:return"number"==typeof g?k._sandwich(k.scale(f),h,g):k._sandwich(k.scale(f,h),g.x,g.y)}return k._sandwich(k.scale(f),h.x,h.y)},rotateAt:function(f,h,g){return 2<
arguments.length?k._sandwich(k.rotate(f),h,g):k._sandwich(k.rotate(f),h.x,h.y)},rotategAt:function(f,h,g){return 2<arguments.length?k._sandwich(k.rotateg(f),h,g):k._sandwich(k.rotateg(f),h.x,h.y)},skewXAt:function(f,h,g){return 2<arguments.length?k._sandwich(k.skewX(f),h,g):k._sandwich(k.skewX(f),h.x,h.y)},skewXgAt:function(f,h,g){return 2<arguments.length?k._sandwich(k.skewXg(f),h,g):k._sandwich(k.skewXg(f),h.x,h.y)},skewYAt:function(f,h,g){return 2<arguments.length?k._sandwich(k.skewY(f),h,g):k._sandwich(k.skewY(f),
h.x,h.y)},skewYgAt:function(f,h,g){return 2<arguments.length?k._sandwich(k.skewYg(f),h,g):k._sandwich(k.skewYg(f),h.x,h.y)}});f.Matrix2D=k.Matrix2D;return k})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(f,m,k,q,l,h,g,e,c){var a=m.getObject("dojox.gfx",!0),b=a._base={};a._hasClass=function(a,b){var d=a.getAttribute("className");return d&&
0<=(" "+d+" ").indexOf(" "+b+" ")};a._addClass=function(a,b){var d=a.getAttribute("className")||"";if(!d||0>(" "+d+" ").indexOf(" "+b+" "))a.setAttribute("className",d+(d?" ":"")+b)};a._removeClass=function(a,b){var d=a.getAttribute("className");d&&a.setAttribute("className",d.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};b._getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;q("ie")&&(l.doc.documentElement.style.fontSize=
"100%");var d=e.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},l.body());for(b in a)d.style.fontSize=b,a[b]=16*Math.round(12*d.offsetHeight/16)/12/1E3;l.body().removeChild(d);return a};var d=null;b._getCachedFontMeasurements=function(a){if(a||!d)d=b._getFontMeasurements();return d};var n=null,r={};b._getTextBox=function(a,b,d){var g,f,h=arguments.length,k;n||(n=e.create("div",
{style:{position:"absolute",top:"-10000px",left:"0"}},l.body()));g=n;g.className="";f=g.style;f.borderWidth="0";f.margin="0";f.padding="0";f.outline="0";if(1<h&&b)for(k in b)k in r||(f[k]=b[k]);2<h&&d&&(g.className=d);g.innerHTML=a;return g.getBoundingClientRect?(g=g.getBoundingClientRect(),{l:g.left,t:g.top,w:g.width||g.right-g.left,h:g.height||g.bottom-g.top}):c.getMarginBox(g)};b._computeTextLocation=function(a,b,d,c){var e={};switch(a.align){case "end":e.x=a.x-b;break;case "middle":e.x=a.x-b/
2;break;default:e.x=a.x}e.y=a.y-d*(c?0.75:1);return e};b._computeTextBoundingBox=function(d){if(!a._base._isRendered(d))return{x:0,y:0,width:0,height:0};var c;c=d.getShape();var e=d.getFont()||a.defaultFont;d=d.getTextWidth();e=a.normalizedLength(e.size);c=b._computeTextLocation(c,d,e,!0);return{x:c.x,y:c.y,width:d,height:e}};b._isRendered=function(a){for(a=a.parent;a&&a.getParent;)a=a.parent;return null!==a};var t=0;b._getUniqueId=function(){var a;do a=f._scopeName+"xUnique"+ ++t;while(g.byId(a));
return a};b._fixMsTouchAction=function(a){a=a.rawNode;"undefined"!=typeof a.style.msTouchAction&&(a.style.msTouchAction="none")};m.mixin(a,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",
x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",
x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var b={};return function(d){var c=b[d];if(c)return new c;c=b[d]=new Function;c.prototype=a["default"+d];return new c}}(),normalizeColor:function(a){return a instanceof k?a:new k(a)},normalizeParameters:function(a,b){var d;if(b){var c={};for(d in a)d in b&&!(d in c)&&(a[d]=b[d])}return a},makeParameters:function(a,b){var d=null;if(!b)return m.delegate(a);
var c={};for(d in a)d in c||(c[d]=m.clone(d in b?b[d]:a[d]));return c},formatNumber:function(a,b){var d=a.toString();if(0<=d.indexOf("e"))d=a.toFixed(4);else{var c=d.indexOf(".");0<=c&&5<d.length-c&&(d=a.toFixed(4))}return 0>a?d:b?" "+d:d},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(b){var d=a.getDefault("Font");b=b.split(/\s+/);if(!(5>b.length)){d.style=b[0];d.variant=b[1];d.weight=b[2];var c=b[3].indexOf("/");d.size=0>c?
b[3]:b[3].substring(0,c);var e=4;0>c&&("/"==b[4]?e=6:"/"==b[4].charAt(0)&&(e=5));e<b.length&&(d.family=b.slice(e).join(" "))}return d},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return a._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(b){return b*a.px_in_pt()},px2pt:function(b){return b/a.px_in_pt()},normalizedLength:function(b){if(0===b.length)return 0;if(2<b.length){var d=a.px_in_pt(),c=parseFloat(b);switch(b.slice(-2)){case "px":return c;case "pt":return c*d;case "in":return 72*
c*d;case "pc":return 12*c*d;case "mm":return c*a.mm_in_pt*d;case "cm":return c*a.cm_in_pt*d}}return parseFloat(b)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(b){var d="string"==typeof b?a[b]:b;d&&(h.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath EsriPath Surface createSurface fixTarget".split(" "),function(b){a[b]=
d[b]}),"string"==typeof b?a.renderer=b:h.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(b){return a.renderer=a[b]&&a[b].Surface===a.Surface?b:null}))}});return a})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(f,m,k,q){var l=f.Color=function(f){f&&this.setColor(f)};l.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],
lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:q.transparentColor||[0,0,0,0]};m.extend(l,{r:255,g:255,b:255,a:1,_set:function(f,g,e,c){this.r=f;this.g=g;this.b=e;this.a=c},setColor:function(f){m.isString(f)?l.fromString(f,this):m.isArray(f)?l.fromArray(f,this):(this._set(f.r,f.g,f.b,f.a),f instanceof l||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,
this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(f){f=this[f].toString(16);return 2>f.length?"0"+f:f},this).join("")},toCss:function(f){var g=this.r+", "+this.g+", "+this.b;return(f?"rgba("+g+", "+this.a:"rgb("+g)+")"},toString:function(){return this.toCss(!0)}});l.blendColors=f.blendColors=function(f,g,e,c){var a=c||new l;k.forEach(["r","g","b","a"],function(b){a[b]=f[b]+(g[b]-f[b])*e;"a"!=b&&(a[b]=Math.round(a[b]))});return a.sanitize()};l.fromRgb=f.colorFromRgb=function(f,
g){var e=f.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return e&&l.fromArray(e[1].split(/\s*,\s*/),g)};l.fromHex=f.colorFromHex=function(f,g){var e=g||new l,c=4==f.length?4:8,a=(1<<c)-1;f=Number("0x"+f.substr(1));if(isNaN(f))return null;k.forEach(["b","g","r"],function(b){var d=f&a;f>>=c;e[b]=4==c?17*d:d});e.a=1;return e};l.fromArray=f.colorFromArray=function(f,g){var e=g||new l;e._set(Number(f[0]),Number(f[1]),Number(f[2]),Number(f[3]));isNaN(e.a)&&(e.a=1);return e.sanitize()};l.fromString=f.colorFromString=
function(f,g){var e=l.named[f];return e&&l.fromArray(e,g)||l.fromRgb(f,g)||l.fromHex(f,g)};return l})},"esri/Evented":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Evented dojo/on dojo/has esri/kernel".split(" "),function(f,m,k,q,l,h,g){f=f([q],{declaredClass:"esri.Evented",registerConnectEvents:function(){var e=this.constructor,c=this.constructor._meta.parents,a=[{}],b={},d,n,g=function(a,b){m.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var c=a[d];c._meta&&c._meta.parents&&
g(c._meta.parents,b);c.prototype._eventMap&&b.push(m.mixin({},c.prototype._eventMap))}return b};if(!e._onMap){g(c,a);a.push(this._eventMap);c=m.mixin.apply(this,a);for(d in this)/^on\w/.test(d)&&m.isFunction(this[d])&&(a=this._hyphenLower(d).toLowerCase(),c[a]||(b[a]={method:d}));for(n in c)d=this._onCamelCase(n),b[n]={method:d,argKeys:c[n]};e._onMap=b;return e._onMap}},on:function(e,c){if(-1<e.indexOf(",")){for(var a=e.split(/\s*,\s*/),b=a.length,d=[];b--;)d.push(this.on(a[b],c));d.remove=function(){for(var a=
0;a<d.length;a++)d[a].remove()};return d}var a=this.constructor._onMap||this.registerConnectEvents(),b="string"==typeof e&&e.toLowerCase(),n=this._onCamelCase(b),g=a&&a[b];return(n=g&&g.method||this[n]&&m.isFunction(this[n])&&n)?g&&m.isArray(g.argKeys)?(a=this._onArr2Obj(c,a[b].argKeys),k.after(this,n,a,!0)):k.after(this,n,c,!0):this.inherited(arguments)},emit:function(e,c){var a,b,d,n,g=e.toLowerCase();n=this._onCamelCase(e);var f=this.constructor._onMap||this.registerConnectEvents();n=(d=f&&f[g]&&
f[g].method||m.isFunction(this[n])&&n)&&this[d];d&&(f&&f[g])&&this._onObj2Arr(function(){b=Array.prototype.slice.call(arguments)},f[g].argKeys)(c);c=c||{};c.target||(c.target=this);n&&(a=b&&b.length?b:[c],a=n.apply(this,a));this.inherited(arguments,[e,c]);return a},_onObj2Arr:function(e,c){if(c){var a=this;return function(b){var d,n=[],g=c.length;for(d=0;d<g;d++)n[d]=b[c[d]];e.apply(a,n)}}return e},_onArr2Obj:function(e,c){if(c){var a=this;return function(){var b,d={},n=arguments.length;for(b=0;b<
n;b++)d[c[b]]=arguments[b];d.target||(d.target=a);e(d)}}return e},_hyphenLower:function(e){return e.replace(/^on/,"").replace(/[A-Z](?=[a-z])/g,function(c,a){return(a?"-":"")+c.toLowerCase()})},_onCamelCase:function(e){return"on"+e.substr(0,1).toUpperCase()+e.substr(1).replace(/\-([a-z])/g,function(c,a){return a.toUpperCase()})}});h("extend-esri")&&(g.Evented=f);return f})},"esri/fx":function(){define("dojo/_base/connect dojo/_base/fx dojo/_base/lang dojo/dom dojo/dom-geometry dojo/dom-style dojo/fx dojo/has esri/kernel".split(" "),
function(f,m,k,q,l,h,g,e,c){var a={animateRange:function(a){var d=a.range;return new m.Animation(k.mixin({curve:new m._Line(d.start,d.end)},a))},resize:function(a){var d=a.node=q.byId(a.node),c=a.start,e=a.end;c||(c=l.getMarginBox(d),d=l.getPadBorderExtents(d),c=a.start={left:c.l+d.l,top:c.t+d.t,width:c.w-d.w,height:c.h-d.h});e||(e=a.anchor?a.anchor:{x:c.left,y:c.top},d=a.size,e=a.end={left:c.left-(d.width-c.width)*(e.x-c.left)/c.width,top:c.top-(d.height-c.height)*(e.y-c.top)/c.height,width:d.width,
height:d.height});return m.animateProperty(k.mixin({properties:{left:{start:c.left,end:e.left},top:{start:c.top,end:e.top},width:{start:c.width,end:e.width},height:{start:c.height,end:e.height}}},a))},slideTo:function(a){var d=a.node=q.byId(a.node),c=h.getComputedStyle,e=null,g=null,s=function(){return function(){var a="absolute"==d.style.position?"absolute":"relative";e="absolute"==a?d.offsetTop:parseInt(c(d).top)||0;g="absolute"==a?d.offsetLeft:parseInt(c(d).left)||0;"absolute"!=a&&"relative"!=
a&&(a=l.position(d,!0),e=a.y,g=a.x,d.style.position="absolute",d.style.top=e+"px",d.style.left=g+"px")}}();s();a=m.animateProperty(k.mixin({properties:{top:{start:e,end:a.top||0},left:{start:g,end:a.left||0}}},a));f.connect(a,"beforeBegin",a,s);return a},flash:function(a){a=k.mixin({end:"#f00",duration:500,count:1},a);a.duration/=2*a.count;var d=q.byId(a.node),c=a.start;c||(c=h.getComputedStyle(d).backgroundColor);var e=a.end,f=[],s=a.count,d={node:d,duration:a.duration};for(a=0;a<s;a++)f.push(m.animateProperty(k.mixin({properties:{backgroundColor:{start:c,
end:e}}},d))),f.push(m.animateProperty(k.mixin({properties:{backgroundColor:{start:e,end:c}}},d)));return g.chain(f)}};e("extend-esri")&&k.mixin(k.getObject("fx",!0,c),a);return a})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(f,m,k,q,l,h,g,e,c){var a=k.mixin,b={},d=b._Line=function(a,b){this.start=a;this.end=b};d.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var n=b.Animation=
function(b){a(this,b);k.isArray(this.curve)&&(this.curve=new d(this.curve[0],this.curve[1]))};n.prototype=new q;k.extend(n,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var d=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,d);else try{this[a].apply(this,d)}catch(c){console.error("exception in animation handler for:",a),console.error(c)}return this},play:function(a,b){this._delayTimer&&
this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var d=a||this.delay,c=k.hitch(this,"_play",b);if(0<d)return this._delayTimer=setTimeout(c,d),this;c();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());
this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();
if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():
(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var r=0,t=null,s={run:function(){}};k.extend(n,{_startTimer:function(){this._timer||(this._timer=h.after(s,"run",k.hitch(this,"_cycle"),!0),
r++);t||(t=setInterval(k.hitch(s,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,r--);0>=r&&(clearInterval(t),t=null,r=0)}});var x=g("ie")?function(a){var b=a.style;!b.width.length&&"auto"==c.get(a,"width")&&(b.width="auto")}:function(){};b._fade=function(d){d.node=e.byId(d.node);var g=a({properties:{}},d);d=g.properties.opacity={};d.start=!("start"in g)?function(){return+c.get(g.node,"opacity")||0}:g.start;d.end=g.end;d=b.animateProperty(g);h.after(d,
"beforeBegin",k.partial(x,g.node),!0);return d};b.fadeIn=function(d){return b._fade(a({end:1},d))};b.fadeOut=function(d){return b._fade(a({end:0},d))};b._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var b in a){var d=a[b];d.start instanceof l&&(d.tempColor=new l)}};u.prototype.getValue=function(a){var b={},d;for(d in this._properties){var c=this._properties[d],e=c.start;e instanceof l?b[d]=l.blendColors(e,c.end,a,c.tempColor).toCss():k.isArray(e)||
(b[d]=(c.end-e)*a+e+("opacity"!=d?c.units||"px":0))}return b};b.animateProperty=function(b){var d=b.node=e.byId(b.node);b.easing||(b.easing=f._defaultEasing);b=new n(b);h.after(b,"beforeBegin",k.hitch(b,function(){var b={},e;for(e in this.properties){if("width"==e||"height"==e)this.node.display="block";var g=this.properties[e];k.isFunction(g)&&(g=g(d));g=b[e]=a({},k.isObject(g)?g:{end:g});k.isFunction(g.start)&&(g.start=g.start(d));k.isFunction(g.end)&&(g.end=g.end(d));var n=0<=e.toLowerCase().indexOf("color"),
r=function(a,b){var d={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==d)return d;d=c.get(a,b);return"opacity"==b?+d:n?d:parseFloat(d)};"end"in g?"start"in g||(g.start=r(d,e)):g.end=r(d,e);n?(g.start=new l(g.start),g.end=new l(g.end)):g.start="opacity"==e?+g.start:parseFloat(g.start)}this.curve=new u(b)}),!0);h.after(b,"onAnimate",k.hitch(c,"set",b.node),!0);return b};b.anim=function(a,d,c,e,g,r){return b.animateProperty({node:a,duration:c||n.prototype.duration,properties:d,easing:e,onEnd:g}).play(r||
0)};a(f,b);f._Animation=n;return b})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(f,m,k,q,l,h,g,e,c,a,b){k.isAsync||a(0,function(){b(["./fx/Toggler"])});k=k.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var d=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;q.forEach(this._animations,
function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};d.prototype=new m;f.extend(d,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=l.after(this._current,"onAnimate",f.hitch(this,"_onAnimate"),!0),this._onEndCtx=l.after(this._current,
"onEnd",f.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var d=l.after(this._current,"beforeBegin",f.hitch(this,function(){this._fire("beforeBegin")}),!0),c=l.after(this._current,"onBegin",f.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),e=l.after(this._current,"onPlay",f.hitch(this,function(a){this._fire("onPlay",arguments);d.remove();c.remove();
e.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=l.after(this._current,"onAnimate",f.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=l.after(this._current,"onEnd",f.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=l.after(this._current,"onPause",f.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},
gotoPercent:function(a,b){this.pause();var d=this.duration*a;this._current=null;q.some(this._animations,function(a){if(a.duration<=d)return this._current=a,!0;d-=a.duration;return!1});this._current&&this._current.gotoPercent(d/this._current.duration,b);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=l.after(this._current,"onStop",f.hitch(this,function(a){this._fire("onStop",
arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});f.extend(d,a);k.chain=function(a){return new d(a)};var n=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;q.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(l.after(a,
"onEnd",f.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new h.Animation({curve:[0,1],duration:this.duration});var b=this;q.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){b._connects.push(l.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};f.extend(n,{_doAction:function(a,b){q.forEach(this._animations,function(d){d[a].apply(d,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,
b){var d=this._pseudoAnimation;d[a].apply(d,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var d=this.duration*a;q.forEach(this._animations,function(a){a.gotoPercent(a.duration<d?1:d/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",
arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){q.forEach(this._connects,function(a){a.remove()})}});f.extend(n,a);k.combine=function(a){return new n(a)};k.wipeIn=function(a){var b=a.node=g.byId(a.node),d=b.style,c;a=h.animateProperty(f.mixin({properties:{height:{start:function(){c=d.overflow;d.overflow="hidden";if("hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",1;var a=e.get(b,"height");return Math.max(a,
1)},end:function(){return b.scrollHeight}}}},a));var n=function(){d.height="auto";d.overflow=c};l.after(a,"onStop",n,!0);l.after(a,"onEnd",n,!0);return a};k.wipeOut=function(a){var b=(a.node=g.byId(a.node)).style,d;a=h.animateProperty(f.mixin({properties:{height:{end:1}}},a));l.after(a,"beforeBegin",function(){d=b.overflow;b.overflow="hidden";b.display=""},!0);var c=function(){b.overflow=d;b.height="auto";b.display="none"};l.after(a,"onStop",c,!0);l.after(a,"onEnd",c,!0);return a};k.slideTo=function(a){var b=
null,d=null,n=function(a){return function(){var g=e.getComputedStyle(a),n=g.position;b="absolute"==n?a.offsetTop:parseInt(g.top)||0;d="absolute"==n?a.offsetLeft:parseInt(g.left)||0;"absolute"!=n&&"relative"!=n&&(g=c.position(a,!0),b=g.y,d=g.x,a.style.position="absolute",a.style.top=b+"px",a.style.left=d+"px")}}(a.node=g.byId(a.node));n();a=h.animateProperty(f.mixin({properties:{top:a.top||0,left:a.left||0}},a));l.after(a,"beforeBegin",n,!0);return a};return k})},"dojo/ready":function(){define(["./_base/kernel",
"./has","require","./domReady","./_base/lang"],function(f,m,k,q,l){var h=0,g=[],e=0;m=function(){h=1;f._postLoad=f.config.afterOnLoad=!0;c()};var c=function(){if(!e){for(e=1;h&&(!q||0==q._Q.length)&&(k.idle?k.idle():1)&&g.length;){var a=g.shift();try{a()}catch(b){if(b.info=b.message,k.signal)k.signal("error",b);else throw b;}}e=0}};k.on&&k.on("idle",c);q&&(q._onQEmpty=c);var a=f.ready=f.addOnLoad=function(a,b,e){var h=l._toArray(arguments);"number"!=typeof a?(e=b,b=a,a=1E3):h.shift();e=e?l.hitch.apply(f,
h):function(){b()};e.priority=a;for(h=0;h<g.length&&a>=g[h].priority;h++);g.splice(h,0,e);c()},b=f.config.addOnLoad;if(b)a[l.isArray(b)?"apply":"call"](f,b);f.config.parseOnLoad&&!f.isAsync&&a(99,function(){f.parser||(f.deprecated("Add explicit require(['dojo/parser']);","","2.0"),k(["dojo/parser"]))});q?q(m):m();return a})},"dojo/domReady":function(){define(["./has"],function(f){function m(a){c.push(a);e&&k()}function k(){if(!a){for(a=!0;c.length;)try{c.shift()(l)}catch(b){}a=!1;m._onQEmpty()}}var q=
this,l=document,h={loaded:1,complete:1},g="string"!=typeof l.readyState,e=!!h[l.readyState],c=[],a;m.load=function(a,b,d){m(d)};m._Q=c;m._onQEmpty=function(){};g&&(l.readyState="loading");if(!e){var b=[],d=function(a){a=a||q.event;e||"readystatechange"==a.type&&!h[l.readyState]||(g&&(l.readyState="complete"),e=1,k())},n=function(a,b){a.addEventListener(b,d,!1);c.push(function(){a.removeEventListener(b,d,!1)})};if(!f("dom-addeventlistener")){var n=function(a,b){b="on"+b;a.attachEvent(b,d);c.push(function(){a.detachEvent(b,
d)})},r=l.createElement("div");try{r.doScroll&&null===q.frameElement&&b.push(function(){try{return r.doScroll("left"),1}catch(a){}})}catch(t){}}n(l,"DOMContentLoaded");n(q,"load");"onreadystatechange"in l?n(l,"readystatechange"):g||b.push(function(){return h[l.readyState]});if(b.length){var s=function(){if(!e){for(var a=b.length;a--;)if(b[a]()){d("poller");return}setTimeout(s,30)}};s()}}return m})},"esri/deferredUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel"],function(f,m,k){var q=
{_dfdCanceller:function(f){f.canceled=!0;var h=f._pendingDfd;-1===f.fired&&(h&&-1===h.fired)&&h.cancel();f._pendingDfd=null},_fixDfd:function(f){var h=f.then;f.then=function(g,e,c){if(g){var a=g;g=function(b){return b&&b._argsArray?a.apply(null,b):a(b)}}return h.call(this,g,e,c)};return f},_resDfd:function(f,h,g){var e=h.length;1===e?g?f.errback(h[0]):f.callback(h[0]):1<e?(h._argsArray=!0,f.callback(h)):f.callback()}};m("extend-esri")&&f.mixin(k,q);return q})},"esri/tileUtils":function(){define(["dojo/_base/array",
"dojo/has","esri/kernel","esri/geometry/Point","esri/geometry/Extent"],function(f,m,k,q,l){var h={_addFrameInfo:function(g,e){var c,a,b=2*e.origin[1],d=e.origin[0],n=g.origin.x,r=g.width,h;f.forEach(g.lods,function(e){c=Math.round(b/e.resolution);a=Math.ceil(c/r);h=Math.floor((d-n)/(r*e.resolution));e._frameInfo||(e._frameInfo=[a,h,h+a-1,c])})},getContainingTileCoords:function(g,e,c){var a=g.origin;c=c.resolution;return{row:Math.floor((a.y-e.y)/(g.height*c)),col:Math.floor((e.x-a.x)/(g.width*c))}},
getCandidateTileInfo:function(g,e,c){var a;a=g.width;for(var b=g.height,d=c.xmax-c.xmin,n=c.ymax-c.ymin,f=g.__tileInfo===e,h=f?g.getMinZoom():-1,f=f?g.getMaxZoom():-1,s=-1,k=e.lods,m=Math.abs,z,y,w,f=-1<f?f:k.length-1,h=-1<h?h:0;h<=f;h++)if(y=k[h])if(w=d>n?m(n-b*y.resolution):m(d-a*y.resolution),0>s||w<=s)z=y,s=w;else break;a=z;z=a.resolution;b=(c.xmin+c.xmax)/2;d=(c.ymin+c.ymax)/2;n=g.width/2*z;z*=g.height/2;b=new l(b-n,d-z,b+n,d+z,c.spatialReference);c=new q(b.xmin,b.ymax,c.spatialReference);f=
a.resolution;n=e.width;d=e.height;e=e.origin;g=g.__visibleDelta;z=Math.floor;k=n*f;m=d*f;f=z((e.y-c.y)/m);s=z((c.x-e.x)/k);h=e.y-f*m;e=z(Math.abs((c.x-(e.x+s*k))*n/k))+g.x;g=z(Math.abs((c.y-h)*d/m))+g.y;return{tile:{point:c,coords:{row:f,col:s},offsets:{x:e,y:g}},lod:a,extent:b}},getTileExtent:function(g,e,c,a){var b=g.origin;e=g.lods[e].resolution;var d=g.width,n=g.height;return new l(a*e*d+b.x,b.y-(c+1)*e*n,(a+1)*e*d+b.x,b.y-c*e*n,g.spatialReference)}};m("extend-esri")&&(k.TileUtils=h);return h})},
"esri/geometry/Point":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/lang esri/SpatialReference esri/geometry/Geometry".split(" "),function(f,m,k,q,l,h,g){function e(b,d){89.99999<d?d=89.99999:-89.99999>d&&(d=-89.99999);var c=d*n;return[b*n*a,a/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))]}function c(c,e,g){c=c/a*d;if(g)return e=b/2-2*Math.atan(Math.exp(-1*e/a)),[c,e*d];g=c-360*Math.floor((c+180)/360);e=b/2-2*Math.atan(Math.exp(-1*e/a));return[g,e*d]}var a=6378137,
b=3.141592653589793,d=57.29577951308232,n=0.017453292519943,r={type:"point",x:0,y:0};f=f(g,{declaredClass:"esri.geometry.Point",constructor:function(a,b,d){m.mixin(this,r);m.isArray(a)?(this.x=a[0],this.y=a[1],this.spatialReference=b):m.isObject(a)?(m.mixin(this,a),l.isDefined(this.latitude)&&(this.y=this.latitude),l.isDefined(this.longitude)&&(this.x=this.longitude),this.spatialReference&&(this.spatialReference=new h(this.spatialReference))):(this.x=a,this.y=b,this.spatialReference=d);this.verifySR()},
offset:function(a,b){return new this.constructor(this.x+a,this.y+b,this.spatialReference)},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setLongitude:function(a){var b=this.spatialReference;b&&(b._isWebMercator()?this.x=e(a,this.y)[0]:4326===b.wkid&&(this.x=a));return this},setLatitude:function(a){var b=this.spatialReference;b&&(b._isWebMercator()?this.y=e(this.x,a)[1]:4326===b.wkid&&(this.y=a));return this},getLongitude:function(){var a=this.spatialReference,b;a&&
(a._isWebMercator()?b=c(this.x,this.y)[0]:4326===a.wkid&&(b=this.x));return b},getLatitude:function(){var a=this.spatialReference,b;a&&(a._isWebMercator()?b=c(this.x,this.y)[1]:4326===a.wkid&&(b=this.y));return b},update:function(a,b){this.x=a;this.y=b;return this},normalize:function(){var a=this.x,b=this.spatialReference;if(b){var d=b._getInfo();if(d){var c=d.valid[0],e=d.valid[1],d=2*e;a>e?(c=Math.ceil(Math.abs(a-e)/d),a-=c*d):a<c&&(c=Math.ceil(Math.abs(a-c)/d),a+=c*d)}}return new this.constructor(a,
this.y,b)},toJson:function(){var a={x:this.x,y:this.y},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});f.lngLatToXY=e;f.xyToLngLat=c;f.defaultProps=r;k("extend-esri")&&(m.setObject("geometry.Point",f,q),q.geometry.defaultPoint=r);return f})},"esri/SpatialReference":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has esri/kernel esri/lang".split(" "),function(f,m,k,q,l,h){var g=[-2.0037508342788905E7,2.0037508342788905E7],e=[-2.0037508342787E7,2.0037508342787E7];
f=f(null,{declaredClass:"esri.SpatialReference",constructor:function(c){c&&(k.isObject(c)?k.mixin(this,c):k.isString(c)?this.wkt=c:this.wkid=c)},wkid:null,wkt:null,_info:{102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:g,origin:e,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:g,origin:e,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:g,origin:e,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:g,origin:e,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",${Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}},_isWebMercator:function(){return-1!==m.indexOf([102113,102100,3857,3785],this.wkid)},_isWrappable:function(){return-1!==m.indexOf([102113,102100,3857,3785,4326],this.wkid)},_getInfo:function(){return this.wkid?this._info[this.wkid]:null},_canProject:function(c){var a=!1;c&&(a=this.isWebMercator()&&4326===c.wkid||c.isWebMercator()&&4326===this.wkid);return a},isWebMercator:function(){return this._isWebMercator()},equals:function(c){var a=!1;c&&(this===c&&
(a=!0),this.wkid||c.wkid?a=this.wkid===c.wkid||this.isWebMercator()&&c.isWebMercator()||this.wkid===c.latestWkid||c.wkid===this.latestWkid:this.wkt&&c.wkt&&(a=this.wkt.toUpperCase()===c.wkt.toUpperCase()));return a},toJson:function(){var c=null,a=h.isDefined;a(this.wkid)?c={wkid:this.wkid}:a(this.wkt)&&(c={wkt:this.wkt});c&&a(this.latestWkid)&&(c.latestWkid=this.latestWkid);return c}});q("extend-esri")&&(l.SpatialReference=f);return f})},"esri/geometry/Geometry":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","esri/kernel","esri/SpatialReference"],function(f,m,k,q,l){f=f(null,{declaredClass:"esri.geometry.Geometry",spatialReference:null,type:null,setSpatialReference:function(f){this.spatialReference=f;return this},verifySR:function(){this.spatialReference||this.setSpatialReference(new l(4326))},getExtent:function(){return null}});k("extend-esri")&&m.setObject("geometry.Geometry",f,q);return f})},"esri/geometry/Extent":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has esri/kernel esri/lang esri/SpatialReference esri/geometry/Geometry esri/geometry/Point esri/geometry/webMercatorUtils esri/geometry/mathUtils".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b){var d={type:"extent",xmin:0,ymin:0,xmax:0,ymax:0},n=f(e,{declaredClass:"esri.geometry.Extent",constructor:function(a,b,c,e,n){k.mixin(this,d);k.isObject(a)?(k.mixin(this,a),this.spatialReference&&(this.spatialReference=new g(this.spatialReference))):this.update(a,b,c,e,n);this.verifySR()},getWidth:function(){return Math.abs(this.xmax-this.xmin)},getHeight:function(){return Math.abs(this.ymax-this.ymin)},getCenter:function(){return new c((this.xmin+this.xmax)/2,(this.ymin+
this.ymax)/2,this.spatialReference)},centerAt:function(a){var b=this.getCenter(),d=a.x-b.x;a=a.y-b.y;return new n(this.xmin+d,this.ymin+a,this.xmax+d,this.ymax+a,this.spatialReference)},update:function(a,b,d,c,e){this.xmin=a;this.ymin=b;this.xmax=d;this.ymax=c;this.spatialReference=e;return this},offset:function(a,b){return new n(this.xmin+a,this.ymin+b,this.xmax+a,this.ymax+b,this.spatialReference)},expand:function(a){var b=(1-a)/2;a=this.getWidth()*b;b*=this.getHeight();return new n(this.xmin+a,
this.ymin+b,this.xmax-a,this.ymax-b,this.spatialReference)},intersects:function(b){var d=b.type,c=this.spatialReference,e=b.spatialReference;c&&(e&&!c.equals(e)&&c._canProject(e))&&(b=c.isWebMercator()?a.geographicToWebMercator(b):a.webMercatorToGeographic(b,!0));switch(d){case "point":return this.contains(b);case "multipoint":return this._intersectsMultipoint(b);case "extent":return this._intersectsExtent(b);case "polygon":return this._intersectsPolygon(b);case "polyline":return this._intersectsPolyline(b)}},
_intersectsMultipoint:function(a){var b=a.points.length,d;for(d=0;d<b;d++)if(this.contains(a.getPoint(d)))return!0;return!1},_intersectsExtent:function(a){var b,d,c,e,g=!1;this.xmin<=a.xmin?(b=a.xmin,this.xmax<b?g=!0:c=Math.min(this.xmax,a.xmax)-b):(b=this.xmin,a.xmax<b?g=!0:c=Math.min(this.xmax,a.xmax)-b);this.ymin<=a.ymin?(d=a.ymin,this.ymax<d?g=!0:e=Math.min(this.ymax,a.ymax)-d):(d=this.ymin,a.ymax<d?g=!0:e=Math.min(this.ymax,a.ymax)-d);return g?null:new n(b,d,b+c,d+e,this.spatialReference)},_intersectsPolygon:function(a){var b=
[this.xmin,this.ymax],d=[this.xmax,this.ymax],e=[this.xmin,this.ymin],g=[this.xmax,this.ymin],n=[b,d,e,g],b=[[e,b],[b,d],[d,g],[g,e]],e=a.rings,g=e.length,f,h=new c(0,0,this.spatialReference);f=n.length;for(d=0;d<f;d++)if(h.update(n[d][0],n[d][1]),a.contains(h))return!0;h.setSpatialReference(a.spatialReference);for(var k,l,d=0;d<g;d++)if(n=e[d],f=n.length){k=n[0];h.update(k[0],k[1]);if(this.contains(h))return!0;for(a=1;a<f;a++){l=n[a];h.update(l[0],l[1]);if(this.contains(h)||this._intersectsLine([k,
l],b))return!0;k=l}}return!1},_intersectsPolyline:function(a){var b=[[[this.xmin,this.ymin],[this.xmin,this.ymax]],[[this.xmin,this.ymax],[this.xmax,this.ymax]],[[this.xmax,this.ymax],[this.xmax,this.ymin]],[[this.xmax,this.ymin],[this.xmin,this.ymin]]],d,e=a.paths,g=e.length,n,f,h,k,l=new c(0,0,a.spatialReference);for(a=0;a<g;a++)if(n=e[a],f=n.length){h=n[0];l.update(h[0],h[1]);if(this.contains(l))return!0;for(d=1;d<f;d++){k=n[d];l.update(k[0],k[1]);if(this.contains(l)||this._intersectsLine([h,k],
b))return!0;h=k}}return!1},_intersectsLine:function(a,d){var c=b._getLineIntersection2,e,g=d.length;for(e=0;e<g;e++)if(c(a,d[e]))return!0;return!1},contains:function(a){if(!a)return!1;var b=a.type;if("point"===b){var d=this.spatialReference,e=a.spatialReference,b=a.x;a=a.y;d&&(e&&!d.equals(e)&&d._canProject(e))&&(a=d.isWebMercator()?c.lngLatToXY(b,a):c.xyToLngLat(b,a,!0),b=a[0],a=a[1]);return b>=this.xmin&&b<=this.xmax&&a>=this.ymin&&a<=this.ymax}return"extent"===b?this._containsExtent(a):!1},_containsExtent:function(a){var b=
a.xmin,d=a.ymin,e=a.xmax,g=a.ymax,n=a.spatialReference;a=new c(b,d,n);b=new c(b,g,n);g=new c(e,g,n);d=new c(e,d,n);return this.contains(a)&&this.contains(b)&&this.contains(g)&&this.contains(d)?!0:!1},union:function(a){return new n(Math.min(this.xmin,a.xmin),Math.min(this.ymin,a.ymin),Math.max(this.xmax,a.xmax),Math.max(this.ymax,a.ymax),this.spatialReference)},getExtent:function(){var a=this.spatialReference;return new n(this.xmin,this.ymin,this.xmax,this.ymax,a&&new g(a.toJson()))},_shiftCM:function(b){if(!this._shifted){var d=
new n(this.toJson()),c=d.spatialReference;if(b=b||c._getInfo()){var e=this._getCM(b);if(e){var g=c._isWebMercator()?a.webMercatorToGeographic(e):e;d.xmin-=e.x;d.xmax-=e.x;c._isWebMercator()||(g.x=this._normalizeX(g.x,b).x);d.spatialReference.wkt=h.substitute({Central_Meridian:g.x},4326===c.wkid?b.altTemplate:b.wkTemplate);d.spatialReference.wkid=null;delete d.spatialReference.wkid}}this._shifted=d}return this._shifted},_getCM:function(a){var b,d=a.valid[0];a=a.valid[1];var c=this.xmin,e=this.xmax;
if(!(c>=d&&c<=a)||!(e>=d&&e<=a))b=this.getCenter();return b},_normalize:function(a,b,d){var c=new n(this.toJson()),e=c.spatialReference;if(e&&(d=d||e._getInfo())){var g=m.map(this._getParts(d),function(a){return a.extent});return 2<g.length?a?this._shiftCM(d):c.update(d.valid[0],c.ymin,d.valid[1],c.ymax,e):2===g.length?a?this._shiftCM(d):b?g:{rings:m.map(g,function(a){return[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]}),spatialReference:e}:g[0]||c}return c},_getParts:function(a){if(!this._parts){var b=
this.xmin,d=this.xmax,c=this.ymin,e=this.ymax,g=this.spatialReference,f=this.getWidth(),h=b,k=d,l=0,q=0,m=[],A,G;a=a||g._getInfo();A=a.valid[0];G=a.valid[1];q=this._normalizeX(b,a);b=q.x;l=q.frameId;q=this._normalizeX(d,a);d=q.x;q=q.frameId;a=b===d&&0<f;if(f>2*G){f=new n(h<k?b:d,c,G,e,g);b=new n(A,c,h<k?d:b,e,g);G=new n(0,c,G,e,g);c=new n(A,c,0,e,g);g=[];A=[];f.contains(G)&&g.push(l);f.contains(c)&&A.push(l);b.contains(G)&&g.push(q);b.contains(c)&&A.push(q);for(e=l+1;e<q;e++)g.push(e),A.push(e);m.push({extent:f,
frameIds:[l]},{extent:b,frameIds:[q]},{extent:G,frameIds:g},{extent:c,frameIds:A})}else b>d||a?m.push({extent:new n(b,c,G,e,g),frameIds:[l]},{extent:new n(A,c,d,e,g),frameIds:[q]}):m.push({extent:new n(b,c,d,e,g),frameIds:[l]});this._parts=m}return this._parts},_normalizeX:function(a,b){var d=0,c=b.valid[0],e=b.valid[1],g=2*e;a>e?(d=Math.ceil(Math.abs(a-e)/g),a-=d*g):a<c&&(d=Math.ceil(Math.abs(a-c)/g),a+=d*g,d=-d);return{x:a,frameId:d}},toJson:function(){var a={xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,
ymax:this.ymax},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});n.defaultProps=d;q("extend-esri")&&(k.setObject("geometry.Extent",n,l),l.geometry.defaultExtent=d);return n})},"esri/geometry/webMercatorUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has esri/kernel esri/SpatialReference esri/geometry/Point".split(" "),function(f,m,k,q,l,h){function g(c,a,b,d){if("point"===c.type){var e=a(c.x,c.y,d);return new c.constructor(e[0],e[1],new l(b))}if("extent"===c.type){var e=
a(c.xmin,c.ymin,d),g=a(c.xmax,c.ymax,d);return new c.constructor(e[0],e[1],g[0],g[1],new l(b))}if("polyline"===c.type||"polygon"===c.type){var e="polyline"===c.type,h=[],k;f.forEach(e?c.paths:c.rings,function(b){h.push(k=[]);f.forEach(b,function(b){k.push(a(b[0],b[1],d))})});return e?new c.constructor({paths:h,spatialReference:b}):new c.constructor({rings:h,spatialReference:b})}if("multipoint"===c.type){var q=[];f.forEach(c.points,function(b){q.push(a(b[0],b[1],d))});return new c.constructor({points:q,
spatialReference:b})}}var e={lngLatToXY:h.lngLatToXY,xyToLngLat:h.xyToLngLat,geographicToWebMercator:function(c){return g(c,h.lngLatToXY,{wkid:102100})},webMercatorToGeographic:function(c,a){return g(c,h.xyToLngLat,{wkid:4326},a)}};k("extend-esri")&&m.mixin(m.getObject("geometry",!0,q),e);return e})},"esri/geometry/mathUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel","esri/geometry/Point"],function(f,m,k,q){function l(c,a,b){return c instanceof q?new q(c.x+b*(a.x-c.x),c.y+b*(a.y-
c.y)):[c[0]+b*(a[0]-c[0]),c[1]+b*(a[1]-c[1])]}function h(c,a){return 1E-8>Math.abs(c-a)}function g(c,a,b,d){var e,g=h(c[0],a[0])?1E10:(c[1]-a[1])/(c[0]-a[0]);e=h(b[0],d[0])?1E10:(b[1]-d[1])/(b[0]-d[0]);var f=c[1]-g*c[0],k=b[1]-e*b[0];if(h(g,e)){if(h(f,k)){if(h(c[0],a[0]))if(Math.min(c[1],a[1])<Math.max(b[1],d[1])||Math.max(c[1],a[1])>Math.min(b[1],d[1]))e=(c[1]+a[1]+b[1]+d[1]-Math.min(c[1],a[1],b[1],d[1])-Math.max(c[1],a[1],b[1],d[1]))/2,c=(e-f)/g;else return null;else if(Math.min(c[0],a[0])<Math.max(b[0],
d[0])||Math.max(c[0],a[0])>Math.min(b[0],d[0]))c=(c[0]+a[0]+b[0]+d[0]-Math.min(c[0],a[0],b[0],d[0])-Math.max(c[0],a[0],b[0],d[0]))/2,e=g*c+f;else return null;return[c,e]}return null}h(g,1E10)?(c=c[0],e=e*c+k):(c=h(e,1E10)?b[0]:-(f-k)/(g-e),e=g*c+f);return[c,e]}var e={getLength:function(c,a){var b=a.x-c.x,d=a.y-c.y;return Math.sqrt(b*b+d*d)},_getLength:function(c,a){var b=a[0]-c[0],d=a[1]-c[1];return Math.sqrt(b*b+d*d)},getPointOnLine:l,getMidpoint:function(c,a){return l(c,a,0.5)},_equals:h,_getLineIntersection:g,
getLineIntersection:function(c,a,b,d,e){(c=g([c.x,c.y],[a.x,a.y],[b.x,b.y],[d.x,d.y]))&&(c=new q(c[0],c[1],e));return c},_getLineIntersection2:function(c,a){var b=c[0],d=c[1],e=a[0],g=a[1],f=b[0],b=b[1],h=d[0],d=d[1],k=e[0],l=e[1],e=g[0]-k,k=f-k,q=h-f,g=g[1]-l,l=b-l,m=d-b,w=g*q-e*m;if(0===w)return!1;e=(e*l-g*k)/w;k=(q*l-m*k)/w;return 0<=e&&1>=e&&0<=k&&1>=k?[f+e*(h-f),b+e*(d-b)]:!1},_pointLineDistance:function(c,a){var b=a[0],d=a[1],e=b[0],g=b[1],b=c[0],f=c[1],h=d[0]-e,k=d[1]-g,l=b-e,q=f-g,d=Math.sqrt,
m=Math.pow,w=d(m(h,2)+m(k,2)),l=(l*h+q*k)/(w*w),g=g+l*k;return d(m(b-(e+l*h),2)+m(f-g,2))}};m("extend-esri")&&f.mixin(f.getObject("geometry",!0,k),e);return e})},"esri/PluginTarget":function(){define("require dojo/aspect dojo/_base/array dojo/_base/lang dojo/Deferred dojo/when".split(" "),function(f,m,k,q,l,h){function g(){m.after(this.constructor._meta,"ctor",this._pluginsHandler,!0);this._plugins={}}g.prototype={addPlugin:function(e,c){var a=this,b=this._plugins,d=new l;try{f([e],function(g){e in
b||(b[e]=g,h(g.add(a,c),function(){var b={id:g.declaredId||e.replace(/\//g,",")};a.emit("plugin-add",b);d.resolve(b)},function(a){d.reject(a)}))})}catch(g){d.reject(g)}return d.promise},removePlugin:function(e){if(e in this._plugins){var c=this._plugins[e];c.remove(this);delete this._plugins[e];this.emit("plugin-remove",{id:c.declaredId||e.replace(/\//g,",")})}},_pluginsHandler:function(){var e=this;k.some(arguments,function(c){if(c.plugins&&c.plugins instanceof Array){c=c.plugins;for(var a,b,d=0;d<
c.length;d++)a=c[d],b=a instanceof Object?a.id:a,e.addPlugin(b,a.options);return!0}})}};return g})},"esri/geometry/ScreenPoint":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/geometry/Point"],function(f,m,k,q,l){f=f(l,{declaredClass:"esri.geometry.ScreenPoint",verifySR:function(){}});k("extend-esri")&&m.setObject("geometry.ScreenPoint",f,q);return f})},"esri/geometry/Rect":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base esri/kernel esri/SpatialReference esri/geometry/Geometry esri/geometry/Point esri/geometry/Extent".split(" "),
function(f,m,k,q,l,h,g,e,c){function a(a){return new c(parseFloat(a.x),parseFloat(a.y)-parseFloat(a.height),parseFloat(a.x)+parseFloat(a.width),parseFloat(a.y),a.spatialReference)}var b=f(g,{declaredClass:"esri.geometry.Rect",constructor:function(a,b,c,e,g){m.mixin(this,q.defaultRect);m.isObject(a)&&"extent"===a.type&&(b=a.ymax,c=a.getWidth(),e=a.getHeight(),g=a.spatialReference,a=a.xmin);m.isObject(a)?(m.mixin(this,a),this.spatialReference&&(this.spatialReference=new h(this.spatialReference))):(this.x=
a,this.y=b,this.width=c,this.height=e,this.spatialReference=g);this.verifySR()},getCenter:function(){return new e(this.x+this.width/2,this.y+this.height/2,this.spatialReference)},offset:function(a,c){return new b(this.x+a,this.y+c,this.width,this.height,this.spatialReference)},intersects:function(a){return a.x+a.width<=this.x||a.y+a.height<=this.y||a.y>=this.y+this.height||a.x>=this.x+this.width?!1:!0},getExtent:function(){return a(this)},update:function(a,b,c,e,g){this.x=a;this.y=b;this.width=c;
this.height=e;this.spatialReference=g;return this}});k("extend-esri")&&(m.setObject("geometry.Rect",b,l),l.geometry._rectToExtent=a,l.geometry._extentToRect=function(a){return new b(a)});return b})},"esri/geometry/scaleUtils":function(){define("dojo/_base/lang dojo/has esri/kernel esri/config esri/lang esri/WKIDUnitConversion".split(" "),function(f,m,k,q,l,h){function g(d,e,g){return d&&e?d.getWidth()/e*(g||a)*c*b.screenDPI:0}function e(e,g,n,f,h){return e.expand(f*g/(((h?n:d.values[d[n]])||a)*c*
b.screenDPI)/e.getWidth())}var c=39.37,a=20015077/180,b=q.defaults,d=h,n={getUnitValue:function(a){var b,c,e;a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?e=d.values[d[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=/UNIT\[([^\]]+)\]\]$/i.exec(c))&&a[1]&&(e=parseFloat(a[1].split(",")[1]));return e},getScale:function(a,b,d){var c,e,f;1<arguments.length&&l.isDefined(b)&&!b.declaredClass?(c=a,e=b,b=null,f=n.getUnitValue(d)):(c=b||a.extent,e=a.width,f=n.getUnitValue(c&&
c.spatialReference));return g(c,e,f)},getExtentForScale:function(a,b,d){return e(d||a.extent,a.width,n.getUnitValue(a.spatialReference),b,!0)}};m("extend-esri")&&(f.mixin(f.getObject("geometry",!0,k),n),k.geometry._getScale=g,k.geometry._getExtentForScale=e);return n})},"esri/WKIDUnitConversion":function(){define(["dojo/has","esri/kernel"],function(f,m){var k={values:[1,0.3048,0.3048006096012192,0.3047972654,0.9143917962,0.201166195164,0.9143984146160287,0.3047994715386762,20.11676512155263,20.11678249437587,
0.9143985307444408,0.91439523,0.3047997101815088,20.116756,5E4,15E4],2E3:0,2001:0,2002:0,2003:0,2004:0,2005:0,2006:0,2007:0,2008:0,2009:0,2010:0,2011:0,2012:0,2013:0,2014:0,2015:0,2016:0,2017:0,2018:0,2019:0,2020:0,2021:0,2022:0,2023:0,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0,2030:0,2031:0,2032:0,2033:0,2034:0,2035:0,2036:0,2037:0,2038:0,2039:0,2040:0,2041:0,2042:0,2043:0,2044:0,2045:0,2056:0,2057:0,2058:0,2059:0,2060:0,2061:0,2062:0,2063:0,2064:0,2065:0,2066:5,2067:0,2068:0,2069:0,2070:0,2071:0,
2072:0,2073:0,2074:0,2075:0,2076:0,2077:0,2078:0,2079:0,2080:0,2081:0,2082:0,2083:0,2084:0,2085:0,2086:0,2087:0,2088:0,2089:0,2090:0,2091:0,2092:0,2093:0,2094:0,2095:0,2096:0,2097:0,2098:0,2099:0,2100:0,2101:0,2102:0,2103:0,2104:0,2105:0,2106:0,2107:0,2108:0,2109:0,2110:0,2111:0,2112:0,2113:0,2114:0,2115:0,2116:0,2117:0,2118:0,2119:0,2120:0,2121:0,2122:0,2123:0,2124:0,2125:0,2126:0,2127:0,2128:0,2129:0,2130:0,2131:0,2132:0,2133:0,2134:0,2135:0,2136:12,2137:0,2138:0,2139:0,2140:0,2141:0,2142:0,2143:0,
2144:0,2145:0,2146:0,2147:0,2148:0,2149:0,2150:0,2151:0,2152:0,2153:0,2154:0,2155:2,2157:0,2158:0,2159:12,2160:12,2161:0,2162:0,2163:0,2164:0,2165:0,2166:0,2167:0,2168:0,2169:0,2170:0,2172:0,2173:0,2174:0,2175:0,2176:0,2177:0,2178:0,2179:0,2180:0,2181:0,2182:0,2183:0,2184:0,2185:0,2186:0,2187:0,2188:0,2189:0,2190:0,2191:0,2192:0,2193:0,2195:0,2196:0,2197:0,2198:0,2200:0,2201:0,2202:0,2203:0,2204:2,2205:0,2206:0,2207:0,2208:0,2209:0,2210:0,2211:0,2212:0,2213:0,2214:0,2215:0,2216:0,2217:0,2219:0,2220:0,
2222:1,2223:1,2224:1,2225:2,2226:2,2227:2,2228:2,2229:2,2230:2,2231:2,2232:2,2233:2,2234:2,2235:2,2236:2,2237:2,2238:2,2239:2,2240:2,2241:2,2242:2,2243:2,2244:2,2245:2,2246:2,2247:2,2248:2,2249:2,2250:2,2251:1,2252:1,2253:1,2254:2,2255:2,2256:1,2257:2,2258:2,2259:2,2260:2,2261:2,2262:2,2263:2,2264:2,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2274:2,2275:2,2276:2,2277:2,2278:2,2279:2,2280:1,2281:1,2282:1,2283:2,2284:2,2285:2,2286:2,2287:2,2288:2,2289:2,2290:0,2291:0,2292:0,2294:0,
2295:0,2308:0,2309:0,2310:0,2311:0,2312:0,2313:0,2314:3,2315:0,2316:0,2317:0,2318:0,2319:0,2320:0,2321:0,2322:0,2323:0,2324:0,2325:0,2326:0,2327:0,2328:0,2329:0,2330:0,2331:0,2332:0,2333:0,2334:0,2335:0,2336:0,2337:0,2338:0,2339:0,2340:0,2341:0,2342:0,2343:0,2344:0,2345:0,2346:0,2347:0,2348:0,2349:0,2350:0,2351:0,2352:0,2353:0,2354:0,2355:0,2356:0,2357:0,2358:0,2359:0,2360:0,2361:0,2362:0,2363:0,2364:0,2365:0,2366:0,2367:0,2368:0,2369:0,2370:0,2371:0,2372:0,2373:0,2374:0,2375:0,2376:0,2377:0,2378:0,
2379:0,2380:0,2381:0,2382:0,2383:0,2384:0,2385:0,2386:0,2387:0,2388:0,2389:0,2390:0,2391:0,2392:0,2393:0,2394:0,2395:0,2396:0,2397:0,2398:0,2399:0,2400:0,2401:0,2402:0,2403:0,2404:0,2405:0,2406:0,2407:0,2408:0,2409:0,2410:0,2411:0,2412:0,2413:0,2414:0,2415:0,2416:0,2417:0,2418:0,2419:0,2420:0,2421:0,2422:0,2423:0,2424:0,2425:0,2426:0,2427:0,2428:0,2429:0,2430:0,2431:0,2432:0,2433:0,2434:0,2435:0,2436:0,2437:0,2438:0,2439:0,2440:0,2441:0,2442:0,2443:0,2444:0,2445:0,2446:0,2447:0,2448:0,2449:0,2450:0,
2451:0,2452:0,2453:0,2454:0,2455:0,2456:0,2457:0,2458:0,2459:0,2460:0,2461:0,2462:0,2523:0,2524:0,2525:0,2526:0,2527:0,2528:0,2529:0,2530:0,2531:0,2532:0,2533:0,2534:0,2535:0,2536:0,2537:0,2538:0,2539:0,2540:0,2541:0,2542:0,2543:0,2544:0,2545:0,2546:0,2547:0,2548:0,2549:0,2550:0,2551:0,2552:0,2553:0,2554:0,2555:0,2556:0,2557:0,2558:0,2559:0,2560:0,2561:0,2562:0,2563:0,2564:0,2565:0,2566:0,2567:0,2568:0,2569:0,2570:0,2571:0,2572:0,2573:0,2574:0,2575:0,2576:0,2577:0,2578:0,2579:0,2580:0,2581:0,2582:0,
2583:0,2584:0,2585:0,2586:0,2587:0,2588:0,2589:0,2590:0,2591:0,2592:0,2593:0,2594:0,2595:0,2596:0,2597:0,2598:0,2599:0,2600:0,2601:0,2602:0,2603:0,2604:0,2605:0,2606:0,2607:0,2608:0,2609:0,2610:0,2611:0,2612:0,2613:0,2614:0,2615:0,2616:0,2617:0,2618:0,2619:0,2620:0,2621:0,2622:0,2623:0,2624:0,2625:0,2626:0,2627:0,2628:0,2629:0,2630:0,2631:0,2632:0,2633:0,2634:0,2635:0,2636:0,2637:0,2638:0,2639:0,2640:0,2641:0,2642:0,2643:0,2644:0,2645:0,2646:0,2647:0,2648:0,2649:0,2650:0,2651:0,2652:0,2653:0,2654:0,
2655:0,2656:0,2657:0,2658:0,2659:0,2660:0,2661:0,2662:0,2663:0,2664:0,2665:0,2666:0,2667:0,2668:0,2669:0,2670:0,2671:0,2672:0,2673:0,2674:0,2675:0,2676:0,2677:0,2678:0,2679:0,2680:0,2681:0,2682:0,2683:0,2684:0,2685:0,2686:0,2687:0,2688:0,2689:0,2690:0,2691:0,2692:0,2693:0,2694:0,2695:0,2696:0,2697:0,2698:0,2699:0,2700:0,2701:0,2702:0,2703:0,2704:0,2705:0,2706:0,2707:0,2708:0,2709:0,2710:0,2711:0,2712:0,2713:0,2714:0,2715:0,2716:0,2717:0,2718:0,2719:0,2720:0,2721:0,2722:0,2723:0,2724:0,2725:0,2726:0,
2727:0,2728:0,2729:0,2730:0,2731:0,2732:0,2733:0,2734:0,2735:0,2736:0,2737:0,2738:0,2739:0,2740:0,2741:0,2742:0,2743:0,2744:0,2745:0,2746:0,2747:0,2748:0,2749:0,2750:0,2751:0,2752:0,2753:0,2754:0,2755:0,2756:0,2757:0,2758:0,2759:0,2760:0,2761:0,2762:0,2763:0,2764:0,2765:0,2766:0,2767:0,2768:0,2769:0,2770:0,2771:0,2772:0,2773:0,2774:0,2775:0,2776:0,2777:0,2778:0,2779:0,2780:0,2781:0,2782:0,2783:0,2784:0,2785:0,2786:0,2787:0,2788:0,2789:0,2790:0,2791:0,2792:0,2793:0,2794:0,2795:0,2796:0,2797:0,2798:0,
2799:0,2800:0,2801:0,2802:0,2803:0,2804:0,2805:0,2806:0,2807:0,2808:0,2809:0,2810:0,2811:0,2812:0,2813:0,2814:0,2815:0,2816:0,2817:0,2818:0,2819:0,2820:0,2821:0,2822:0,2823:0,2824:0,2825:0,2826:0,2827:0,2828:0,2829:0,2830:0,2831:0,2832:0,2833:0,2834:0,2835:0,2836:0,2837:0,2838:0,2839:0,2840:0,2841:0,2842:0,2843:0,2844:0,2845:0,2846:0,2847:0,2848:0,2849:0,2850:0,2851:0,2852:0,2853:0,2854:0,2855:0,2856:0,2857:0,2858:0,2859:0,2860:0,2861:0,2862:0,2863:0,2864:0,2865:0,2866:0,2867:1,2868:1,2869:1,2870:2,
2871:2,2872:2,2873:2,2874:2,2875:2,2876:2,2877:2,2878:2,2879:2,2880:2,2881:2,2882:2,2883:2,2884:2,2885:2,2886:2,2887:2,2888:2,2891:2,2892:2,2893:2,2894:2,2895:2,2896:1,2897:1,2898:1,2899:2,2900:2,2901:1,2902:2,2903:2,2904:2,2905:2,2906:2,2907:2,2908:2,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2915:2,2916:2,2917:2,2918:2,2919:2,2920:2,2921:1,2922:1,2923:1,2924:2,2925:2,2926:2,2927:2,2928:2,2929:2,2930:2,2931:0,2932:0,2933:0,2934:0,2935:0,2936:0,2937:0,2938:0,2939:0,2940:0,2941:0,2942:0,2943:0,2944:0,
2945:0,2946:0,2947:0,2948:0,2949:0,2950:0,2951:0,2952:0,2953:0,2954:0,2955:0,2956:0,2957:0,2958:0,2959:0,2960:0,2961:0,2962:0,2964:2,2965:2,2966:2,2967:2,2968:2,2969:0,2970:0,2971:0,2972:0,2973:0,2975:0,2976:0,2977:0,2978:0,2979:0,2980:0,2981:0,2982:0,2983:0,2984:0,2985:0,2986:0,2987:0,2988:0,2989:0,2990:0,2991:0,2992:1,2993:0,2994:1,2995:0,2996:0,2997:0,2998:0,2999:0,3E3:0,3001:0,3002:0,3003:0,3004:0,3005:0,3006:0,3007:0,3008:0,3009:0,3010:0,3011:0,3012:0,3013:0,3014:0,3015:0,3016:0,3017:0,3018:0,
3019:0,3020:0,3021:0,3022:0,3023:0,3024:0,3025:0,3026:0,3027:0,3028:0,3029:0,3030:0,3031:0,3032:0,3033:0,3034:0,3035:0,3036:0,3037:0,3038:0,3039:0,3040:0,3041:0,3042:0,3043:0,3044:0,3045:0,3046:0,3047:0,3048:0,3049:0,3050:0,3051:0,3054:0,3055:0,3056:0,3057:0,3058:0,3059:0,3060:0,3061:0,3062:0,3063:0,3064:0,3065:0,3066:0,3067:0,3068:0,3069:0,3070:0,3071:0,3072:0,3073:0,3074:0,3075:0,3076:0,3077:0,3078:0,3079:0,3080:1,3081:0,3082:0,3083:0,3084:0,3085:0,3086:0,3087:0,3088:0,3089:2,3090:0,3091:2,3092:0,
3093:0,3094:0,3095:0,3096:0,3097:0,3098:0,3099:0,3100:0,3101:0,3102:2,3106:0,3107:0,3108:0,3109:0,3110:0,3111:0,3112:0,3113:0,3114:0,3115:0,3116:0,3117:0,3118:0,3119:0,3120:0,3121:0,3122:0,3123:0,3124:0,3125:0,3126:0,3127:0,3128:0,3129:0,3130:0,3131:0,3132:0,3133:0,3134:0,3135:0,3136:0,3137:0,3138:0,3141:0,3142:0,3146:0,3147:0,3148:0,3149:0,3150:0,3151:0,3153:0,3154:0,3155:0,3156:0,3157:0,3158:0,3159:0,3160:0,3161:0,3162:0,3163:0,3164:0,3165:0,3166:0,3167:13,3168:0,3169:0,3170:0,3171:0,3172:0,3174:0,
3175:0,3176:0,3177:0,3178:0,3179:0,3180:0,3181:0,3182:0,3183:0,3184:0,3185:0,3186:0,3187:0,3188:0,3189:0,3190:0,3191:0,3192:0,3193:0,3194:0,3195:0,3196:0,3197:0,3198:0,3199:0,3200:0,3201:0,3202:0,3203:0,3294:0,3295:0,3296:0,3297:0,3298:0,3299:0,3300:0,3301:0,3302:0,3303:0,3304:0,3305:0,3306:0,3307:0,3308:0,3309:0,3310:0,3311:0,3312:0,3313:0,3314:0,3315:0,3316:0,3317:0,3318:0,3319:0,3320:0,3321:0,3322:0,3323:0,3324:0,3325:0,3326:0,3327:0,3328:0,3329:0,3330:0,3331:0,3332:0,3333:0,3334:0,3335:0,3336:0,
3337:0,3338:0,3339:0,3340:0,3341:0,3342:0,3343:0,3344:0,3345:0,3346:0,3347:0,3348:0,3349:0,3350:0,3351:0,3352:0,3353:0,3354:0,3355:0,3356:0,3357:0,3358:0,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3367:0,3368:0,3369:0,3370:0,3371:0,3372:0,3373:0,3374:0,3375:0,3376:0,3377:0,3378:0,3379:0,3380:0,3381:0,3382:0,3383:0,3384:0,3385:0,3386:0,3387:0,3388:0,3389:0,3390:0,3391:0,3392:0,3393:0,3394:0,3395:0,3396:0,3397:0,3398:0,3399:0,3400:0,3401:0,3402:0,3403:0,3404:2,3405:0,3406:0,3407:3,3408:0,
3409:0,3410:0,3411:0,3412:0,3413:0,3414:0,3415:0,3416:0,3417:2,3418:2,3419:2,3420:2,3421:2,3422:2,3423:2,3424:2,3425:2,3426:2,3427:2,3428:2,3429:2,3430:2,3431:2,3432:2,3433:2,3434:2,3435:2,3436:2,3437:2,3438:2,3439:0,3440:0,3441:2,3442:2,3443:2,3444:2,3445:2,3446:2,3447:0,3448:0,3449:0,3450:0,3451:2,3452:2,3453:2,3454:2,3455:2,3456:2,3457:2,3458:2,3459:2,3460:0,3461:0,3462:0,3463:0,3464:0,3465:0,3466:0,3467:0,3468:0,3469:0,3470:0,3471:0,3472:0,3473:0,3474:0,3475:0,3476:0,3477:0,3478:0,3479:1,3480:0,
3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,
3553:2,3554:0,3555:0,3556:0,3557:0,3558:0,3559:0,3560:2,3561:2,3562:2,3563:2,3564:2,3565:2,3566:2,3567:2,3568:2,3569:2,3570:2,3571:0,3572:0,3573:0,3574:0,3575:0,3576:0,3577:0,3578:0,3579:0,3580:0,3581:0,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3594:0,3595:0,3596:0,3597:0,3598:2,3599:0,3600:2,3601:0,3602:0,3603:0,3604:0,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,
3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3637:0,3638:0,3639:0,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3665:0,3666:0,3667:0,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3693:0,3694:0,3695:0,3696:2,
3697:0,3698:2,3699:0,3700:2,3701:0,3702:0,3703:0,3704:0,3705:0,3706:0,3707:0,3708:0,3709:0,3710:0,3711:0,3712:0,3713:0,3714:0,3715:0,3716:0,3717:0,3718:0,3719:0,3720:0,3721:0,3722:0,3723:0,3724:0,3725:0,3726:0,3727:0,3728:2,3729:2,3730:2,3731:2,3732:2,3733:2,3734:2,3735:2,3736:2,3737:2,3738:2,3739:2,3740:0,3741:0,3742:0,3743:0,3744:0,3745:0,3746:0,3747:0,3748:0,3749:0,3750:0,3751:0,3753:2,3754:2,3755:2,3756:2,3757:2,3758:2,3759:2,3760:2,3761:0,3762:0,3763:0,3764:0,3765:0,3766:0,3767:0,3768:0,3769:0,
3770:0,3771:0,3772:0,3773:0,3775:0,3776:0,3777:0,3779:0,3780:0,3781:0,3783:0,3784:0,3785:0,3788:0,3789:0,3790:0,3791:0,3793:0,3794:0,3797:0,3798:0,3799:0,3800:0,3801:0,3802:0,3812:0,3814:0,3815:0,3816:0,3825:0,3826:0,3827:0,3828:0,3829:0,3832:0,3833:0,3834:0,3835:0,3836:0,3837:0,3838:0,3839:0,3840:0,3841:0,3844:0,3845:0,3846:0,3847:0,3848:0,3849:0,3850:0,3851:0,3852:0,3854:0,3857:0,3873:0,3874:0,3875:0,3876:0,3877:0,3878:0,3879:0,3880:0,3881:0,3882:0,3883:0,3884:0,3885:0,3890:0,3891:0,3892:0,3893:0,
3907:0,3908:0,3909:0,3910:0,3911:0,3912:0,3920:0,3942:0,3943:0,3944:0,3945:0,3946:0,3947:0,3948:0,3949:0,3950:0,3968:0,3969:0,3970:0,3973:0,3974:0,3975:0,3976:0,3978:0,3979:0,3986:0,3987:0,3988:0,3989:0,3991:2,3992:2,3994:0,3995:0,3996:0,3997:0,4026:0,4037:0,4038:0,4048:0,4049:0,4050:0,4051:0,4056:0,4057:0,4058:0,4059:0,4060:0,4061:0,4062:0,4063:0,4071:0,4082:0,4083:0,4093:0,4094:0,4095:0,4096:0,4217:2,4399:2,4400:2,4401:2,4402:2,4403:2,4404:2,4405:2,4406:2,4407:2,4408:2,4409:2,4410:2,4411:2,4412:2,
4413:2,4414:0,4415:0,4417:0,4418:2,4419:2,4420:2,4421:2,4422:2,4423:2,4424:2,4425:2,4426:2,4427:2,4428:2,4429:2,4430:2,4431:2,4432:2,4433:2,4434:0,4437:0,4438:2,4439:2,4455:2,4456:2,4457:2,4462:0,4467:0,4471:0,4474:0,4484:0,4485:0,4486:0,4487:0,4488:0,4489:0,4491:0,4492:0,4493:0,4494:0,4495:0,4496:0,4497:0,4498:0,4499:0,4500:0,4501:0,4502:0,4503:0,4504:0,4505:0,4506:0,4507:0,4508:0,4509:0,4510:0,4511:0,4512:0,4513:0,4514:0,4515:0,4516:0,4517:0,4518:0,4519:0,4520:0,4521:0,4522:0,4523:0,4524:0,4525:0,
4526:0,4527:0,4528:0,4529:0,4530:0,4531:0,4532:0,4533:0,4534:0,4535:0,4536:0,4537:0,4538:0,4539:0,4540:0,4541:0,4542:0,4543:0,4544:0,4545:0,4546:0,4547:0,4548:0,4549:0,4550:0,4551:0,4552:0,4553:0,4554:0,4559:0,4568:0,4569:0,4570:0,4571:0,4572:0,4573:0,4574:0,4575:0,4576:0,4577:0,4578:0,4579:0,4580:0,4581:0,4582:0,4583:0,4584:0,4585:0,4586:0,4587:0,4588:0,4589:0,4647:0,4652:0,4653:0,4654:0,4655:0,4656:0,4766:0,4767:0,4768:0,4769:0,4770:0,4771:0,4772:0,4773:0,4774:0,4775:0,4776:0,4777:0,4778:0,4779:0,
4780:0,4781:0,4782:0,4783:0,4784:0,4785:0,4786:0,4787:0,4788:0,4789:0,4790:0,4791:0,4792:0,4793:0,4794:0,4795:0,4796:0,4797:0,4798:0,4799:0,4800:0,4822:0,4826:0,4839:0,5014:0,5015:0,5016:0,5018:0,5048:0,5069:0,5070:0,5071:0,5072:0,5105:0,5106:0,5107:0,5108:0,5109:0,5110:0,5111:0,5112:0,5113:0,5114:0,5115:0,5116:0,5117:0,5118:0,5119:0,5120:0,5121:0,5122:0,5123:0,5124:0,5125:0,5126:0,5127:0,5128:0,5129:0,5130:0,5167:0,5168:0,5173:0,5174:0,5175:0,5176:0,5177:0,5178:0,5179:0,5180:0,5181:0,5182:0,5183:0,
5184:0,5185:0,5186:0,5187:0,5188:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5253:0,5254:0,5255:0,5256:0,5257:0,5258:0,5259:0,5266:0,5269:0,5270:0,5271:0,5272:0,5273:0,5274:0,5275:0,5292:0,5293:0,5294:0,5295:0,5296:0,5297:0,5298:0,5299:0,5300:0,5301:0,5302:0,5303:0,5304:0,5305:0,5306:0,5307:0,5308:0,5309:0,5310:0,5311:0,5316:0,5320:0,5321:0,5325:0,5329:0,5330:0,5331:0,5337:0,5343:0,5344:0,5345:0,5346:0,5347:0,5348:0,5349:0,5355:0,5356:0,5357:0,5361:0,5362:0,5367:0,5382:0,5383:0,5387:0,5388:0,5389:0,
5396:0,5456:0,5457:0,5459:0,5460:0,5461:0,5462:0,5463:0,5469:0,5472:4,5479:0,5480:0,5481:0,5482:0,5490:0,5513:0,5514:0,5518:0,5519:0,5520:0,5523:0,5530:0,5531:0,5532:0,5533:0,5534:0,5535:0,5536:0,5537:0,5538:0,5539:0,5550:0,5551:0,5552:0,5559:0,5562:0,5563:0,5564:0,5565:0,5566:0,5567:0,5568:0,5569:0,5570:0,5571:0,5572:0,5573:0,5574:0,5575:0,5576:0,5577:0,5578:0,5579:0,5580:0,5581:0,5582:0,5583:0,5588:1,5589:3,5596:0,5623:2,5624:2,5625:2,5627:0,5629:0,5631:0,5632:0,5633:0,5634:0,5635:0,5636:0,5637:0,
5638:0,5639:0,5641:0,5643:0,5644:0,5646:2,5649:0,5650:0,5651:0,5652:0,5653:0,5654:2,5655:2,5659:0,5663:0,5664:0,5665:0,5666:0,5667:0,5668:0,5669:0,5670:0,5671:0,5672:0,5673:0,5674:0,5675:0,5676:0,5677:0,5678:0,5679:0,5680:0,5682:0,5683:0,5684:0,5685:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5875:0,5876:0,5877:0,5879:0,5880:0,5887:0,5890:0,5921:0,5922:0,5923:0,5924:0,5925:0,5926:0,5927:0,5928:0,5929:0,5930:0,5931:0,5932:0,5933:0,5934:0,5935:0,5936:0,5937:0,5938:0,5939:0,5940:0,6050:0,
6051:0,6052:0,6053:0,6054:0,6055:0,6056:0,6057:0,6058:0,6059:0,6060:0,6061:0,6062:0,6063:0,6064:0,6065:0,6066:0,6067:0,6068:0,6069:0,6070:0,6071:0,6072:0,6073:0,6074:0,6075:0,6076:0,6077:0,6078:0,6079:0,6080:0,6081:0,6082:0,6083:0,6084:0,6085:0,6086:0,6087:0,6088:0,6089:0,6090:0,6091:0,6092:0,6093:0,6094:0,6095:0,6096:0,6097:0,6098:0,6099:0,6100:0,6101:0,6102:0,6103:0,6104:0,6105:0,6106:0,6107:0,6108:0,6109:0,6110:0,6111:0,6112:0,6113:0,6114:0,6115:0,6116:0,6117:0,6118:0,6119:0,6120:0,6121:0,6122:0,
6123:0,6124:0,6125:0,6128:1,6129:1,6141:1,6210:0,6211:0,6244:0,6245:0,6246:0,6247:0,6248:0,6249:0,6250:0,6251:0,6252:0,6253:0,6254:0,6255:0,6256:0,6257:0,6258:0,6259:0,6260:0,6261:0,6262:0,6263:0,6264:0,6265:0,6266:0,6267:0,6268:0,6269:0,6270:0,6271:0,6272:0,6273:0,6274:0,6275:0,6316:0,6328:0,6329:0,6330:0,6331:0,6332:0,6333:0,6334:0,6335:0,6336:0,6337:0,6338:0,6339:0,6340:0,6341:0,6342:0,6343:0,6344:0,6345:0,6346:0,6347:0,6348:0,6350:0,6351:0,6352:0,6353:0,6354:0,6391:1,20002:0,20003:0,20004:0,20005:0,
20006:0,20007:0,20008:0,20009:0,20010:0,20011:0,20012:0,20013:0,20014:0,20015:0,20016:0,20017:0,20018:0,20019:0,20020:0,20021:0,20022:0,20023:0,20024:0,20025:0,20026:0,20027:0,20028:0,20029:0,20030:0,20031:0,20032:0,20062:0,20063:0,20064:0,20065:0,20066:0,20067:0,20068:0,20069:0,20070:0,20071:0,20072:0,20073:0,20074:0,20075:0,20076:0,20077:0,20078:0,20079:0,20080:0,20081:0,20082:0,20083:0,20084:0,20085:0,20086:0,20087:0,20088:0,20089:0,20090:0,20091:0,20092:0,20135:0,20136:0,20137:0,20138:0,20248:0,
20249:0,20250:0,20251:0,20252:0,20253:0,20254:0,20255:0,20256:0,20257:0,20258:0,20348:0,20349:0,20350:0,20351:0,20352:0,20353:0,20354:0,20355:0,20356:0,20357:0,20358:0,20436:0,20437:0,20438:0,20439:0,20440:0,20499:0,20538:0,20539:0,20790:0,20791:0,20822:0,20823:0,20824:0,20934:0,20935:0,20936:0,21035:0,21036:0,21037:0,21095:0,21096:0,21097:0,21148:0,21149:0,21150:0,21291:0,21292:0,21413:0,21414:0,21415:0,21416:0,21417:0,21418:0,21419:0,21420:0,21421:0,21422:0,21423:0,21473:0,21474:0,21475:0,21476:0,
21477:0,21478:0,21479:0,21480:0,21481:0,21482:0,21483:0,21500:0,21780:0,21781:0,21782:0,21817:0,21818:0,21891:0,21892:0,21893:0,21894:0,21896:0,21897:0,21898:0,21899:0,22032:0,22033:0,22091:0,22092:0,22171:0,22172:0,22173:0,22174:0,22175:0,22176:0,22177:0,22181:0,22182:0,22183:0,22184:0,22185:0,22186:0,22187:0,22191:0,22192:0,22193:0,22194:0,22195:0,22196:0,22197:0,22234:0,22235:0,22236:0,22332:0,22391:0,22392:0,22521:0,22522:0,22523:0,22524:0,22525:0,22700:0,22770:0,22780:0,22832:0,22991:0,22992:0,
22993:0,22994:0,23028:0,23029:0,23030:0,23031:0,23032:0,23033:0,23034:0,23035:0,23036:0,23037:0,23038:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,23830:0,23831:0,23832:0,23833:0,23834:0,23835:0,23836:0,23837:0,23838:0,23839:0,23840:0,23841:0,23842:0,23843:0,23844:0,23845:0,23846:0,23847:0,23848:0,23849:0,23850:0,23851:0,23852:0,23853:0,23866:0,23867:0,23868:0,23869:0,23870:0,23871:0,23872:0,23877:0,23878:0,23879:0,23880:0,23881:0,23882:0,23883:0,23884:0,23886:0,23887:0,23888:0,23889:0,23890:0,
23891:0,23892:0,23893:0,23894:0,23946:0,23947:0,23948:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24311:0,24312:0,24313:0,24342:0,24343:0,24344:0,24345:0,24346:0,24347:0,24370:10,24371:10,24372:10,24373:10,24374:10,24375:0,24376:0,24377:0,24378:0,24379:0,24380:0,24381:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,24718:0,24719:0,24720:0,24721:0,24817:0,24818:0,24819:0,24820:0,24821:0,24877:0,24878:0,24879:0,24880:0,24881:0,24882:0,24891:0,24892:0,24893:0,25E3:0,25231:0,25391:0,
25392:0,25393:0,25394:0,25395:0,25828:0,25829:0,25830:0,25831:0,25832:0,25833:0,25834:0,25835:0,25836:0,25837:0,25838:0,25884:0,25932:0,26191:0,26192:0,26193:0,26194:0,26195:0,26237:0,26331:0,26332:0,26391:0,26392:0,26393:0,26432:0,26591:0,26592:0,26632:0,26692:0,26701:0,26702:0,26703:0,26704:0,26705:0,26706:0,26707:0,26708:0,26709:0,26710:0,26711:0,26712:0,26713:0,26714:0,26715:0,26716:0,26717:0,26718:0,26719:0,26720:0,26721:0,26722:0,26729:2,26730:2,26731:2,26732:2,26733:2,26734:2,26735:2,26736:2,
26737:2,26738:2,26739:2,26740:2,26741:2,26742:2,26743:2,26744:2,26745:2,26746:2,26747:2,26748:2,26749:2,26750:2,26751:2,26752:2,26753:2,26754:2,26755:2,26756:2,26757:2,26758:2,26759:2,26760:2,26761:2,26762:2,26763:2,26764:2,26765:2,26766:2,26767:2,26768:2,26769:2,26770:2,26771:2,26772:2,26773:2,26774:2,26775:2,26776:2,26777:2,26778:2,26779:2,26780:2,26781:2,26782:2,26783:2,26784:2,26785:2,26786:2,26787:2,26788:2,26789:2,26790:2,26791:2,26792:2,26793:2,26794:2,26795:2,26796:2,26797:2,26798:2,26799:2,
26801:2,26802:2,26803:2,26811:2,26812:2,26813:2,26847:2,26848:2,26849:2,26850:2,26851:2,26852:2,26853:2,26854:2,26855:2,26856:2,26857:2,26858:2,26859:2,26860:2,26861:2,26862:2,26863:2,26864:2,26865:2,26866:2,26867:2,26868:2,26869:2,26870:2,26891:0,26892:0,26893:0,26894:0,26895:0,26896:0,26897:0,26898:0,26899:0,26901:0,26902:0,26903:0,26904:0,26905:0,26906:0,26907:0,26908:0,26909:0,26910:0,26911:0,26912:0,26913:0,26914:0,26915:0,26916:0,26917:0,26918:0,26919:0,26920:0,26921:0,26922:0,26923:0,26929:0,
26930:0,26931:0,26932:0,26933:0,26934:0,26935:0,26936:0,26937:0,26938:0,26939:0,26940:0,26941:0,26942:0,26943:0,26944:0,26945:0,26946:0,26948:0,26949:0,26950:0,26951:0,26952:0,26953:0,26954:0,26955:0,26956:0,26957:0,26958:0,26959:0,26960:0,26961:0,26962:0,26963:0,26964:0,26965:0,26966:0,26967:0,26968:0,26969:0,26970:0,26971:0,26972:0,26973:0,26974:0,26975:0,26976:0,26977:0,26978:0,26979:0,26980:0,26981:0,26982:0,26983:0,26984:0,26985:0,26986:0,26987:0,26988:0,26989:0,26990:0,26991:0,26992:0,26993:0,
26994:0,26995:0,26996:0,26997:0,26998:0,27037:0,27038:0,27039:0,27040:0,27120:0,27200:0,27205:0,27206:0,27207:0,27208:0,27209:0,27210:0,27211:0,27212:0,27213:0,27214:0,27215:0,27216:0,27217:0,27218:0,27219:0,27220:0,27221:0,27222:0,27223:0,27224:0,27225:0,27226:0,27227:0,27228:0,27229:0,27230:0,27231:0,27232:0,27258:0,27259:0,27260:0,27291:6,27292:6,27391:0,27392:0,27393:0,27394:0,27395:0,27396:0,27397:0,27398:0,27429:0,27492:0,27493:0,27500:0,27561:0,27562:0,27563:0,27564:0,27571:0,27572:0,27573:0,
27574:0,27581:0,27582:0,27583:0,27584:0,27591:0,27592:0,27593:0,27594:0,27700:0,28191:0,28192:0,28193:0,28232:0,28348:0,28349:0,28350:0,28351:0,28352:0,28353:0,28354:0,28355:0,28356:0,28357:0,28358:0,28402:0,28403:0,28404:0,28405:0,28406:0,28407:0,28408:0,28409:0,28410:0,28411:0,28412:0,28413:0,28414:0,28415:0,28416:0,28417:0,28418:0,28419:0,28420:0,28421:0,28422:0,28423:0,28424:0,28425:0,28426:0,28427:0,28428:0,28429:0,28430:0,28431:0,28432:0,28462:0,28463:0,28464:0,28465:0,28466:0,28467:0,28468:0,
28469:0,28470:0,28471:0,28472:0,28473:0,28474:0,28475:0,28476:0,28477:0,28478:0,28479:0,28480:0,28481:0,28482:0,28483:0,28484:0,28485:0,28486:0,28487:0,28488:0,28489:0,28490:0,28491:0,28492:0,28600:0,28991:0,28992:0,29100:0,29101:0,29118:0,29119:0,29120:0,29121:0,29122:0,29168:0,29169:0,29170:0,29171:0,29172:0,29177:0,29178:0,29179:0,29180:0,29181:0,29182:0,29183:0,29184:0,29185:0,29187:0,29188:0,29189:0,29190:0,29191:0,29192:0,29193:0,29194:0,29195:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,
29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29900:0,29901:0,29902:0,29903:0,30161:0,30162:0,30163:0,30164:0,30165:0,30166:0,30167:0,30168:0,30169:0,30170:0,30171:0,30172:0,30173:0,30174:0,30175:0,30176:0,30177:0,30178:0,30179:0,30200:5,30339:0,30340:0,30491:0,30492:0,30493:0,30494:0,30591:0,30592:0,30729:0,30730:0,30731:0,30732:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31251:0,31252:0,31253:0,31254:0,31255:0,31256:0,31257:0,31258:0,31259:0,31265:0,31266:0,31267:0,
31268:0,31275:0,31276:0,31277:0,31278:0,31279:0,31281:0,31282:0,31283:0,31284:0,31285:0,31286:0,31287:0,31288:0,31289:0,31290:0,31291:0,31292:0,31293:0,31294:0,31295:0,31296:0,31297:0,31370:0,31461:0,31462:0,31463:0,31464:0,31465:0,31466:0,31467:0,31468:0,31469:0,31491:0,31492:0,31493:0,31494:0,31495:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,31917:0,31918:0,31919:0,31920:0,31921:0,31922:0,31965:0,31966:0,31967:0,31968:0,31969:0,31970:0,31971:0,31972:0,31973:0,31974:0,31975:0,
31976:0,31977:0,31978:0,31979:0,31980:0,31981:0,31982:0,31983:0,31984:0,31985:0,31986:0,31987:0,31988:0,31989:0,31990:0,31991:0,31992:0,31993:0,31994:0,31995:0,31996:0,31997:0,31998:0,31999:0,32E3:0,32001:2,32002:2,32003:2,32005:2,32006:2,32007:2,32008:2,32009:2,32010:2,32011:2,32012:2,32013:2,32014:2,32015:2,32016:2,32017:2,32018:2,32019:2,32020:2,32021:2,32022:2,32023:2,32024:2,32025:2,32026:2,32027:2,32028:2,32029:2,32030:2,32031:2,32033:2,32034:2,32035:2,32036:2,32037:2,32038:2,32039:2,32040:2,
32041:2,32042:2,32043:2,32044:2,32045:2,32046:2,32047:2,32048:2,32049:2,32050:2,32051:2,32052:2,32053:2,32054:2,32055:2,32056:2,32057:2,32058:2,32059:2,32060:2,32061:0,32062:0,32064:2,32065:2,32066:2,32067:2,32074:2,32075:2,32076:2,32077:2,32081:0,32082:0,32083:0,32084:0,32085:0,32086:0,32098:0,32099:2,32100:0,32104:0,32107:0,32108:0,32109:0,32110:0,32111:0,32112:0,32113:0,32114:0,32115:0,32116:0,32117:0,32118:0,32119:0,32120:0,32121:0,32122:0,32123:0,32124:0,32125:0,32126:0,32127:0,32128:0,32129:0,
32130:0,32133:0,32134:0,32135:0,32136:0,32137:0,32138:0,32139:0,32140:0,32141:0,32142:0,32143:0,32144:0,32145:0,32146:0,32147:0,32148:0,32149:0,32150:0,32151:0,32152:0,32153:0,32154:0,32155:0,32156:0,32157:0,32158:0,32161:0,32164:2,32165:2,32166:2,32167:2,32180:0,32181:0,32182:0,32183:0,32184:0,32185:0,32186:0,32187:0,32188:0,32189:0,32190:0,32191:0,32192:0,32193:0,32194:0,32195:0,32196:0,32197:0,32198:0,32199:0,32201:0,32202:0,32203:0,32204:0,32205:0,32206:0,32207:0,32208:0,32209:0,32210:0,32211:0,
32212:0,32213:0,32214:0,32215:0,32216:0,32217:0,32218:0,32219:0,32220:0,32221:0,32222:0,32223:0,32224:0,32225:0,32226:0,32227:0,32228:0,32229:0,32230:0,32231:0,32232:0,32233:0,32234:0,32235:0,32236:0,32237:0,32238:0,32239:0,32240:0,32241:0,32242:0,32243:0,32244:0,32245:0,32246:0,32247:0,32248:0,32249:0,32250:0,32251:0,32252:0,32253:0,32254:0,32255:0,32256:0,32257:0,32258:0,32259:0,32260:0,32301:0,32302:0,32303:0,32304:0,32305:0,32306:0,32307:0,32308:0,32309:0,32310:0,32311:0,32312:0,32313:0,32314:0,
32315:0,32316:0,32317:0,32318:0,32319:0,32320:0,32321:0,32322:0,32323:0,32324:0,32325:0,32326:0,32327:0,32328:0,32329:0,32330:0,32331:0,32332:0,32333:0,32334:0,32335:0,32336:0,32337:0,32338:0,32339:0,32340:0,32341:0,32342:0,32343:0,32344:0,32345:0,32346:0,32347:0,32348:0,32349:0,32350:0,32351:0,32352:0,32353:0,32354:0,32355:0,32356:0,32357:0,32358:0,32359:0,32360:0,32601:0,32602:0,32603:0,32604:0,32605:0,32606:0,32607:0,32608:0,32609:0,32610:0,32611:0,32612:0,32613:0,32614:0,32615:0,32616:0,32617:0,
32618:0,32619:0,32620:0,32621:0,32622:0,32623:0,32624:0,32625:0,32626:0,32627:0,32628:0,32629:0,32630:0,32631:0,32632:0,32633:0,32634:0,32635:0,32636:0,32637:0,32638:0,32639:0,32640:0,32641:0,32642:0,32643:0,32644:0,32645:0,32646:0,32647:0,32648:0,32649:0,32650:0,32651:0,32652:0,32653:0,32654:0,32655:0,32656:0,32657:0,32658:0,32659:0,32660:0,32661:0,32662:0,32664:2,32665:2,32666:2,32667:2,32701:0,32702:0,32703:0,32704:0,32705:0,32706:0,32707:0,32708:0,32709:0,32710:0,32711:0,32712:0,32713:0,32714:0,
32715:0,32716:0,32717:0,32718:0,32719:0,32720:0,32721:0,32722:0,32723:0,32724:0,32725:0,32726:0,32727:0,32728:0,32729:0,32730:0,32731:0,32732:0,32733:0,32734:0,32735:0,32736:0,32737:0,32738:0,32739:0,32740:0,32741:0,32742:0,32743:0,32744:0,32745:0,32746:0,32747:0,32748:0,32749:0,32750:0,32751:0,32752:0,32753:0,32754:0,32755:0,32756:0,32757:0,32758:0,32759:0,32760:0,32761:0,32766:0,53001:0,53002:0,53003:0,53004:0,53008:0,53009:0,53010:0,53011:0,53012:0,53013:0,53014:0,53015:0,53016:0,53017:0,53018:0,
53019:0,53021:0,53022:0,53023:0,53024:0,53025:0,53026:0,53027:0,53028:0,53029:0,53030:0,53031:0,53032:0,53034:0,53042:0,53043:0,53044:0,53045:0,53046:0,53048:0,53049:0,54001:0,54002:0,54003:0,54004:0,54008:0,54009:0,54010:0,54011:0,54012:0,54013:0,54014:0,54015:0,54016:0,54017:0,54018:0,54019:0,54021:0,54022:0,54023:0,54024:0,54025:0,54026:0,54027:0,54028:0,54029:0,54030:0,54031:0,54032:0,54034:0,54042:0,54043:0,54044:0,54045:0,54046:0,54048:0,54049:0,54050:0,54051:0,54052:0,54053:0,65061:2,65062:2,
65161:0,65163:0,102001:0,102002:0,102003:0,102004:0,102005:0,102006:0,102007:0,102008:0,102009:0,102010:0,102011:0,102012:0,102013:0,102014:0,102015:0,102016:0,102017:0,102018:0,102019:0,102020:0,102021:0,102022:0,102023:0,102024:0,102025:0,102026:0,102027:0,102028:0,102029:0,102030:0,102031:0,102032:0,102033:0,102034:0,102035:0,102036:0,102037:0,102038:0,102039:0,102040:0,102041:2,102042:0,102043:0,102044:0,102045:0,102046:0,102047:0,102048:0,102049:0,102050:0,102051:0,102052:0,102053:0,102054:0,
102055:0,102056:0,102057:0,102058:0,102059:0,102060:0,102061:0,102062:0,102063:0,102064:11,102065:0,102066:0,102067:0,102068:14,102069:15,102070:0,102071:0,102072:0,102073:0,102074:0,102075:0,102076:0,102077:0,102078:0,102079:0,102080:0,102081:0,102082:0,102083:0,102084:0,102085:0,102086:0,102087:0,102088:0,102089:0,102090:0,102091:0,102092:0,102093:0,102094:0,102095:0,102096:0,102097:0,102098:0,102099:0,102100:0,102101:0,102102:0,102103:0,102104:0,102105:0,102106:0,102107:0,102108:0,102109:0,102110:0,
102111:0,102112:0,102113:0,102114:0,102115:0,102116:0,102117:0,102118:2,102119:1,102120:2,102121:2,102122:0,102123:0,102124:0,102125:0,102126:0,102127:0,102128:0,102129:0,102130:0,102131:0,102132:0,102133:0,102134:0,102135:0,102136:0,102137:0,102138:0,102139:0,102140:0,102141:0,102142:0,102143:0,102144:0,102145:0,102146:0,102147:0,102148:0,102149:0,102150:0,102151:0,102152:0,102153:0,102154:0,102155:0,102156:0,102157:0,102158:0,102159:0,102160:0,102161:0,102162:0,102163:0,102164:0,102165:0,102166:0,
102167:0,102168:0,102169:0,102170:0,102171:0,102172:0,102173:0,102174:0,102175:0,102176:0,102177:0,102178:0,102179:0,102180:0,102181:0,102182:0,102183:0,102184:0,102185:0,102186:0,102187:0,102188:0,102189:0,102190:0,102191:0,102192:0,102193:0,102194:0,102195:0,102196:0,102197:0,102198:0,102199:0,102200:0,102201:0,102202:0,102203:0,102204:0,102205:0,102206:0,102207:0,102208:0,102209:0,102210:0,102211:0,102212:0,102213:0,102214:0,102215:0,102216:0,102217:2,102218:0,102219:2,102220:2,102221:0,102222:0,
102223:0,102224:0,102225:0,102226:0,102227:0,102228:0,102229:0,102230:0,102231:0,102232:0,102233:0,102234:0,102235:0,102236:0,102237:0,102238:0,102239:0,102240:0,102241:0,102242:0,102243:0,102244:0,102245:0,102246:0,102247:0,102248:0,102249:0,102250:0,102251:0,102252:0,102253:0,102254:0,102255:0,102256:0,102257:0,102258:0,102259:0,102260:0,102261:0,102262:0,102263:0,102264:0,102265:0,102266:0,102267:0,102268:0,102269:0,102270:0,102271:0,102272:0,102273:0,102274:0,102275:0,102276:0,102277:0,102278:0,
102279:0,102280:0,102281:0,102282:0,102283:0,102284:0,102285:0,102286:0,102287:0,102288:0,102289:0,102290:0,102291:0,102292:0,102293:0,102294:0,102295:0,102296:0,102297:0,102298:0,102299:0,102300:0,102301:0,102302:0,102303:0,102304:0,102305:0,102306:0,102307:0,102308:0,102309:0,102310:0,102311:0,102312:0,102313:0,102314:0,102315:0,102316:0,102317:0,102318:0,102319:0,102320:0,102321:0,102322:0,102323:0,102324:0,102325:0,102326:0,102327:0,102328:0,102329:0,102330:0,102331:0,102332:0,102333:0,102334:0,
102335:0,102336:0,102337:0,102338:0,102339:0,102340:0,102341:0,102342:0,102343:0,102344:0,102345:0,102346:0,102347:0,102348:0,102349:0,102350:0,102351:0,102352:0,102353:0,102354:0,102355:0,102356:0,102357:0,102358:0,102359:0,102360:0,102361:0,102362:0,102363:0,102364:0,102365:0,102366:0,102367:0,102368:0,102369:0,102370:0,102371:0,102372:0,102373:0,102374:0,102375:0,102376:0,102377:0,102378:1,102379:1,102380:0,102381:1,102382:0,102383:0,102384:0,102385:0,102386:0,102387:0,102388:0,102389:2,102390:2,
102391:2,102392:2,102393:2,102394:2,102395:2,102396:2,102397:2,102398:2,102401:0,102402:0,102403:0,102404:0,102405:0,102406:0,102407:0,102408:0,102409:0,102410:0,102411:0,102412:0,102413:0,102414:0,102415:0,102416:0,102417:0,102418:0,102419:0,102420:0,102421:0,102422:0,102423:0,102424:0,102425:0,102426:0,102427:0,102428:0,102429:0,102430:0,102431:0,102432:0,102433:0,102434:0,102435:0,102436:0,102437:0,102438:0,102439:0,102440:0,102441:0,102442:0,102443:0,102444:0,102445:2,102446:2,102447:2,102450:0,
102451:0,102452:0,102461:2,102462:2,102463:2,102464:2,102465:2,102466:2,102467:2,102468:2,102469:0,102470:0,102471:0,102472:0,102473:0,102474:0,102475:0,102476:0,102477:0,102478:0,102479:0,102480:0,102481:0,102482:0,102483:0,102484:0,102485:0,102486:0,102487:0,102488:0,102489:0,102490:0,102491:0,102492:0,102493:0,102494:0,102495:0,102496:0,102500:1,102501:1,102502:1,102503:1,102504:1,102505:1,102506:1,102507:1,102508:1,102509:1,102510:1,102511:1,102512:1,102513:1,102514:1,102515:1,102516:1,102517:1,
102518:1,102519:1,102520:0,102521:0,102522:0,102523:0,102524:0,102525:2,102526:2,102527:2,102528:2,102529:2,102530:0,102531:0,102532:0,102533:0,102534:0,102535:0,102536:0,102537:0,102538:0,102539:0,102540:0,102541:0,102542:0,102543:0,102544:0,102545:0,102546:0,102547:0,102548:0,102549:0,102570:0,102571:0,102572:0,102573:0,102574:0,102575:0,102576:0,102577:0,102578:0,102579:0,102580:0,102581:0,102582:0,102583:0,102584:0,102585:0,102586:0,102587:0,102588:0,102589:2,102590:0,102591:0,102592:0,102593:0,
102594:0,102595:0,102596:0,102597:0,102598:0,102599:2,102600:2,102601:0,102602:0,102603:0,102604:2,102605:0,102606:0,102607:0,102608:0,102609:0,102610:0,102611:0,102612:0,102613:0,102614:0,102615:0,102616:0,102617:0,102618:0,102619:0,102620:0,102621:0,102622:0,102623:0,102624:0,102625:0,102626:0,102627:0,102628:0,102629:2,102630:2,102631:2,102632:2,102633:2,102634:2,102635:2,102636:2,102637:2,102638:2,102639:2,102640:2,102641:2,102642:2,102643:2,102644:2,102645:2,102646:2,102647:0,102648:2,102649:2,
102650:2,102651:2,102652:2,102653:2,102654:2,102655:2,102656:2,102657:2,102658:2,102659:2,102660:2,102661:2,102662:2,102663:2,102664:2,102665:2,102666:2,102667:2,102668:2,102669:2,102670:2,102671:2,102672:2,102673:2,102674:2,102675:2,102676:2,102677:2,102678:2,102679:2,102680:2,102681:2,102682:2,102683:2,102684:2,102685:2,102686:2,102687:2,102688:2,102689:2,102690:2,102691:2,102692:2,102693:2,102694:2,102695:2,102696:2,102697:2,102698:2,102699:2,102700:2,102701:0,102702:0,102703:0,102704:2,102705:2,
102707:2,102708:2,102709:2,102710:2,102711:2,102712:2,102713:2,102714:2,102715:2,102716:2,102717:2,102718:2,102719:2,102720:2,102721:2,102722:2,102723:2,102724:2,102725:2,102726:2,102727:2,102728:2,102729:2,102730:2,102733:2,102734:2,102735:2,102736:2,102737:2,102738:2,102739:2,102740:2,102741:2,102742:2,102743:2,102744:2,102745:2,102746:2,102747:2,102748:2,102749:2,102750:2,102751:2,102752:2,102753:2,102754:2,102755:2,102756:2,102757:2,102758:2,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,
102767:0,102768:0,102769:0,102770:0,102771:0,102772:0,102773:0,102774:0,102775:0,102776:0,102777:0,102778:0,102779:0,102780:0,102781:0,102782:0,102783:0,102784:0,102785:0,102786:0,102787:0,102788:0,102789:0,102790:0,102791:0,102792:0,102793:0,102794:0,102795:0,102796:0,102797:0,102798:0,102962:0,102963:0,102964:0,102965:0,102966:0,102967:0,102968:0,102969:0,102970:1,102971:0,102972:0,102973:0,102974:2,102975:0,102976:0,102977:0,102978:0,102979:0,102980:0,102981:0,102982:0,102983:0,102984:0,102985:0,
102986:0,102987:0,102988:0,102989:0,102990:1,102991:1,102992:1,102993:0,102994:0,102995:2,102996:2,102997:0,102998:0,102999:0,103E3:0,103001:0,103002:0,103003:2,103004:2,103005:2,103006:2,103007:2,103008:2,103009:0,103010:0,103011:0,103012:2,103013:2,103014:2,103015:0,103016:2,103017:0,103018:2,103019:0,103020:0,103021:0,103022:2,103023:2,103024:2,103025:0,103026:0,103027:2,103028:2,103029:0,103030:0,103031:0,103032:2,103033:2,103034:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,
103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103065:0,103066:0,103067:0,103068:0,103069:2,103070:0,103071:0,103072:2,103073:2,103074:0,103075:0,103076:0,103077:1,103078:1,103079:1,103080:0,103081:0,103082:0,103083:2,103084:2,103085:2,103086:0,103087:0,103088:2,103089:2,103090:0,103091:0,103092:0,103093:0,103094:1,103095:0,103096:2,103097:0,
103098:0,103099:0,103100:2,103101:2,103102:2,103103:0,103104:2,103105:0,103106:2,103107:0,103108:0,103109:0,103110:2,103111:2,103112:2,103113:0,103114:0,103115:0,103116:0,103117:2,103118:2,103119:2,103120:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103153:0,
103154:0,103155:0,103156:0,103157:0,103158:2,103159:2,103160:2,103161:2,103162:2,103163:0,103164:0,103165:0,103166:1,103167:1,103168:1,103169:2,103170:2,103171:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103186:0,103187:0,103188:0,103189:2,103190:2,103191:2,103192:0,103193:0,103194:0,103195:0,103196:2,103197:2,103198:2,103199:2,103200:0,103201:0,103202:0,103203:0,103204:0,103205:0,103206:0,103207:0,103208:0,103209:0,
103210:0,103211:0,103212:0,103213:0,103214:0,103215:0,103216:0,103217:0,103218:0,103219:0,103220:0,103221:0,103222:0,103223:0,103224:0,103225:1,103226:1,103227:1,103228:0,103229:0,103230:2,103231:2,103232:0,103233:0,103234:0,103235:0,103236:0,103237:0,103238:2,103239:2,103240:2,103241:2,103242:2,103243:2,103244:0,103245:0,103246:0,103247:2,103248:2,103249:2,103250:0,103251:2,103252:0,103253:2,103254:0,103255:0,103256:0,103257:2,103258:2,103259:2,103260:0,103261:0,103262:2,103263:2,103264:0,103265:0,
103266:0,103267:2,103268:2,103269:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103300:0,103301:0,103302:0,103303:0,103304:0,103305:0,103306:0,103307:0,103308:0,103309:0,103310:0,103311:0,103312:0,103313:0,103314:0,103315:0,103316:0,103317:0,103318:0,103319:0,103320:0,103321:0,
103322:0,103323:0,103324:0,103325:0,103326:0,103327:0,103328:0,103329:0,103330:0,103331:0,103332:0,103333:0,103334:0,103335:0,103336:0,103337:0,103338:0,103339:0,103340:0,103341:0,103342:0,103343:0,103344:0,103345:0,103346:0,103347:0,103348:0,103349:0,103350:0,103351:0,103352:0,103353:0,103354:0,103355:0,103356:0,103357:0,103358:0,103359:0,103360:0,103361:0,103362:0,103363:0,103364:0,103365:0,103366:0,103367:0,103368:0,103369:0,103370:0,103371:0,103372:0,103373:0,103374:0,103375:0,103376:2,103377:0,
103378:0,103379:2,103380:2,103381:0,103382:0,103383:0,103384:1,103385:1,103386:1,103387:0,103388:0,103389:0,103390:2,103391:2,103392:2,103393:0,103394:0,103395:2,103396:2,103397:0,103398:0,103399:0,103400:2,103401:2,103402:2,103403:2,103404:2,103405:2,103406:2,103407:2,103408:2,103409:2,103410:2,103411:2,103412:2,103413:2,103414:2,103415:2,103416:2,103417:2,103418:2,103419:2,103420:2,103421:2,103422:2,103423:2,103424:2,103425:2,103426:2,103427:2,103428:2,103429:2,103430:2,103431:2,103432:2,103433:2,
103434:2,103435:2,103436:2,103437:2,103438:2,103439:2,103440:2,103441:2,103442:2,103443:2,103444:2,103445:2,103446:2,103447:2,103448:2,103449:2,103450:2,103451:2,103452:2,103453:2,103454:2,103455:2,103456:2,103457:2,103458:2,103459:2,103460:2,103461:2,103462:2,103463:2,103464:2,103465:2,103466:2,103467:2,103468:2,103469:2,103470:2,103471:2,103472:0,103473:1,103474:0,103475:2,103476:0,103477:0,103478:0,103479:2,103480:2,103481:2,103482:0,103483:2,103484:0,103485:2,103486:0,103487:0,103488:0,103489:2,
103490:2,103491:2,103492:0,103493:0,103494:0,103495:0,103496:2,103497:2,103498:2,103499:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103528:0,103529:0,103530:0,103531:0,103532:0,103533:0,103534:0,103535:0,103536:0,103537:0,103538:0,103539:0,103540:0,103541:0,103542:0,103543:0,103544:2,103545:2,
103546:2,103547:2,103548:2,103549:0,103550:0,103551:0,103552:1,103553:1,103554:1,103555:2,103556:2,103557:2,103558:0,103559:0,103560:0,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103571:0,103572:0,103573:0,103574:2,103575:2,103576:2,103577:0,103578:0,103579:0,103580:0,103581:2,103582:2,103583:2,103584:0,103585:2,103600:0,103601:0,103602:0,103603:0,103604:0,103605:0,103606:0,103607:0,103608:0,103609:0,103610:0,103611:0,103612:0,103613:0,103614:0,103615:0,
103616:0,103617:0,103618:0,103619:0,103620:0,103621:0,103622:0,103623:0,103624:0,103625:0,103626:0,103627:0,103628:0,103629:0,103630:0,103631:0,103632:0,103633:0,103634:0,103635:0,103636:0,103637:0,103638:0,103639:0,103640:0,103641:0,103642:0,103643:0,103644:0,103645:0,103646:0,103647:0,103648:0,103649:0,103650:0,103651:0,103652:0,103653:0,103654:0,103655:0,103656:0,103657:0,103658:0,103659:0,103660:0,103661:0,103662:0,103663:0,103664:0,103665:0,103666:0,103667:0,103668:0,103669:0,103670:0,103671:0,
103672:0,103673:0,103674:0,103675:0,103676:0,103677:0,103678:0,103679:0,103680:0,103681:0,103682:0,103683:0,103684:0,103685:0,103686:0,103687:0,103688:0,103689:0,103690:0,103691:0,103692:0,103693:0,103694:0,103695:2,103700:2,103701:2,103702:2,103703:2,103704:2,103705:2,103706:2,103707:2,103708:2,103709:2,103710:2,103711:2,103712:2,103713:2,103714:2,103715:2,103716:2,103717:2,103718:2,103719:2,103720:2,103721:2,103722:2,103723:2,103724:2,103725:2,103726:2,103727:2,103728:2,103729:2,103730:2,103731:2,
103732:2,103733:2,103734:2,103735:2,103736:2,103737:2,103738:2,103739:2,103740:2,103741:2,103742:2,103743:2,103744:2,103745:2,103746:2,103747:2,103748:2,103749:2,103750:2,103751:2,103752:2,103753:2,103754:2,103755:2,103756:2,103757:2,103758:2,103759:2,103760:2,103761:2,103762:2,103763:2,103764:2,103765:2,103766:2,103767:2,103768:2,103769:2,103770:2,103771:2,103772:2,103773:2,103774:2,103775:2,103776:2,103777:2,103778:2,103779:2,103780:2,103781:2,103782:2,103783:2,103784:2,103785:2,103786:2,103787:2,
103788:2,103789:2,103790:2,103791:2,103792:2,103793:2,103794:0,103795:0,103796:0,103797:0,103798:0,103799:0,103800:0,103801:0,103802:0,103803:0,103804:0,103805:0,103806:0,103807:0,103808:0,103809:0,103810:0,103811:0,103812:0,103813:0,103814:0,103815:0,103816:0,103817:0,103818:0,103819:0,103820:0,103821:0,103822:0,103823:0,103824:0,103825:0,103826:0,103827:0,103828:0,103829:0,103830:0,103831:0,103832:0,103833:0,103834:0,103835:0,103836:0,103837:0,103838:0,103839:0,103840:0,103841:0,103842:0,103843:0,
103844:0,103845:0,103846:0,103847:0,103848:0,103849:0,103850:0,103851:0,103852:0,103853:0,103854:0,103855:0,103856:0,103857:0,103858:0,103859:0,103860:0,103861:0,103862:0,103863:0,103864:0,103865:0,103866:0,103867:0,103868:0,103869:0,103870:0,103871:0,103900:2,103901:2,103902:2,103903:2,103904:2,103905:2,103906:2,103907:2,103908:2,103909:2,103910:2,103911:2,103912:2,103913:2,103914:2,103915:2,103916:2,103917:2,103918:2,103919:2,103920:2,103921:2,103922:2,103923:2,103924:2,103925:2,103926:2,103927:2,
103928:2,103929:2,103930:2,103931:2,103932:2,103933:2,103934:2,103935:2,103936:2,103937:2,103938:2,103939:2,103940:2,103941:2,103942:2,103943:2,103944:2,103945:2,103946:2,103947:2,103948:2,103949:2,103950:2,103951:2,103952:2,103953:2,103954:2,103955:2,103956:2,103957:2,103958:2,103959:2,103960:2,103961:2,103962:2,103963:2,103964:2,103965:2,103966:2,103967:2,103968:2,103969:2,103970:2,103971:2};f("extend-esri")&&(m.WKIDUnitConversion=k);return k})},"esri/geometry/screenUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/sniff esri/kernel esri/geometry/Point esri/geometry/ScreenPoint esri/geometry/Polyline esri/geometry/Polygon esri/geometry/Multipoint esri/geometry/Extent".split(" "),
function(f,m,k,q,l,h,g,e,c,a){var b=function(){return 9>k("ie")?function(a,b,d,c,e,g,f,h,w){var k=[],l=Math.round,q,m=f.length,A,G,M,F,J,L;for(q=0;q<m;q++)if(A=f[q],F=h?h(A[0][0],A[0][1],w):A[0],1<(M=A.length)){J=l((F[0]-a)*d+e);L=l((b-F[1])*c+g);F=h?h(A[1][0],A[1][1],w):A[1];G=l((F[0]-a)*d+e);F=l((b-F[1])*c+g);k.push("M",J+","+L,"L",G+","+F);for(G=2;G<M;G++)F=h?h(A[G][0],A[G][1],w):A[G],J=l((F[0]-a)*d+e),L=l((b-F[1])*c+g),k.push(J+","+L)}else J=l((F[0]-a)*d+e),L=l((b-F[1])*c+g),k.push("M",J+","+
L);return k}:function(a,b,d,c,e,g,f,h,w){var k=[],l,q,m,A,G,M,F=Math.round;l=0;for(m=f?f.length:0;l<m;l++){G=f[l];k.push("M");q=0;for(A=G?G.length:0;q<A;q++)M=h?h(G[q][0],G[q][1],w):G[q],k.push(F((M[0]-a)*d+e)+","+F((b-M[1])*c+g))}return k}}(),d={toScreenPoint:function(a,b,d,c,e){var g=a.spatialReference,f=c.spatialReference,k=c.x;c=c.y;g&&(f&&!g.equals(f)&&g._canProject(f))&&(g=g.isWebMercator()?l.lngLatToXY(k,c):l.xyToLngLat(k,c,!0),k=g[0],c=g[1]);k=(k-a.xmin)*(b/a.getWidth());c=(a.ymax-c)*(d/a.getHeight());
e||(k=Math.round(k),c=Math.round(c));return new h(k,c)},toScreenGeometry:function(b,d,h,k){var q=b.xmin,m=b.ymax,z=d/b.getWidth(),y=h/b.getHeight(),w=f.forEach,D=Math.round;if(k instanceof l)return new l(D((k.x-q)*z),D((m-k.y)*y));if(k instanceof c){b=new c;var C=b.points;w(k.points,function(a,b){C[b]=[D((a[0]-q)*z),D((m-a[1])*y)]});return b}if(k instanceof a)return new a(D((k.xmin-q)*z),D((m-k.ymin)*y),D((k.xmax-q)*z),D((m-k.ymax)*z));if(k instanceof g){b=new g;var B=b.paths,E;w(k.paths,function(a,
b){E=B[b]=[];w(a,function(a,b){E[b]=[D((a[0]-q)*z),D((m-a[1])*y)]})});return b}if(k instanceof e){b=new e;var A=b.rings,G;w(k.rings,function(a,b){G=A[b]=[];w(a,function(a,b){G[b]=[D((a[0]-q)*z),D((m-a[1])*y)]})});return b}},_toScreenPath:function(a,d,c,e,f,h){var k=e instanceof g,q=a.spatialReference,w=e.spatialReference,m,C;q&&(w&&!q.equals(w)&&q._canProject(w))&&(q.isWebMercator()?m=l.lngLatToXY:(m=l.xyToLngLat,C=!0));return b(a.xmin,a.ymax,d/a.getWidth(),c/a.getHeight(),f,h,k?e.paths:e.rings,m,
C)},toMapPoint:function(a,b,d,c){return new l(a.xmin+c.x/(b/a.getWidth()),a.ymax-c.y/(d/a.getHeight()),a.spatialReference)},toMapGeometry:function(b,d,h,k){var q=b.xmin,m=b.ymax,z=b.spatialReference,y=d/b.getWidth(),w=h/b.getHeight(),D=f.forEach;if(k instanceof l)return new l(q+k.x/y,m-k.y/w,z);if(k instanceof c){b=new c(z);var C=b.points;D(k.points,function(a,b){C[b]=[q+a[0]/y,m-a[1]/w]});return b}if(k instanceof a)return new a(q+k.xmin/y,m-k.ymin/w,q+k.xmax/y,m-k.ymax/w,z);if(k instanceof g){b=
new g(z);var B=b.paths,E;D(k.paths,function(a,b){E=B[b]=[];D(a,function(a,b){E[b]=[q+a[0]/y,m-a[1]/w]})});return b}if(k instanceof e){b=new e(z);var A=b.rings,G;D(k.rings,function(a,b){G=A[b]=[];D(a,function(a,b){G[b]=[q+a[0]/y,m-a[1]/w]})});return b}}};k("extend-esri")&&m.mixin(m.getObject("geometry",!0,q),d);return d})},"esri/geometry/Polyline":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has esri/kernel esri/lang esri/SpatialReference esri/geometry/Geometry esri/geometry/Point esri/geometry/Extent".split(" "),
function(f,m,k,q,l,h,g,e,c,a){var b={type:"polyline",paths:null};f=f(e,{declaredClass:"esri.geometry.Polyline",constructor:function(a){k.mixin(this,b);this.paths=[];this._path=0;a&&(k.isArray(a)?this.paths=k.isArray(a[0][0])?a:[a]:a.paths?k.mixin(this,a):this.spatialReference=a,this.spatialReference&&(this.spatialReference=new g(this.spatialReference)));this.verifySR()},_extent:null,addPath:function(a){this._extent=null;this._path=this.paths.length;this.paths[this._path]=[];k.isArray(a[0])?m.forEach(a,
this._addPointArr,this):m.forEach(a,this._addPoint,this);return this},_addPointArr:function(a){this.paths[this._path].push(a)},_addPoint:function(a){this.paths[this._path].push([a.x,a.y])},_insertPoints:function(a,b){this._extent=null;this._path=b;this.paths[this._path]||(this.paths[this._path]=[]);m.forEach(a,this._addPoint,this)},_validateInputs:function(a,b){return null!==a&&void 0!==a&&(0>a||a>=this.paths.length)||null!==b&&void 0!==a&&(0>b||b>=this.paths[a].length)?!1:!0},getPoint:function(a,
b){if(this._validateInputs(a,b))return new c(this.paths[a][b],this.spatialReference)},setPoint:function(a,b,c){if(this._validateInputs(a,b))return this._extent=null,this.paths[a][b]=[c.x,c.y],this},insertPoint:function(a,b,c){if(this._validateInputs(a)&&h.isDefined(b)&&0<=b&&b<=this.paths[a].length)return this._extent=null,this.paths[a].splice(b,0,[c.x,c.y]),this},removePath:function(a){if(this._validateInputs(a,null)){this._extent=null;a=this.paths.splice(a,1)[0];var b,e=a.length,g=this.spatialReference;
for(b=0;b<e;b++)a[b]=new c(a[b],g);return a}},removePoint:function(a,b){if(this._validateInputs(a,b))return this._extent=null,new c(this.paths[a].splice(b,1)[0],this.spatialReference)},getExtent:function(){var b;if(this._extent)return b=new a(this._extent),b._partwise=this._partwise,b;b=this.paths;var c=b.length;if(c&&b[0].length){var e,g,f,h,k,l,q,w,m=h=b[0][0][0],C=k=b[0][0][1],B=Math.min,E=Math.max,A=this.spatialReference,G=[],M,F,J,L;for(l=0;l<c;l++){e=b[l];M=F=e[0]&&e[0][0];J=L=e[0]&&e[0][1];
w=e.length;for(q=0;q<w;q++)g=e[q],f=g[0],g=g[1],m=B(m,f),C=B(C,g),h=E(h,f),k=E(k,g),M=B(M,f),J=B(J,g),F=E(F,f),L=E(L,g);G.push(new a({xmin:M,ymin:J,xmax:F,ymax:L,spatialReference:A?A.toJson():null}))}this._extent={xmin:m,ymin:C,xmax:h,ymax:k,spatialReference:A?A.toJson():null};this._partwise=1<G.length?G:null;b=new a(this._extent);b._partwise=this._partwise;return b}},toJson:function(){var a={paths:k.clone(this.paths)},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});f.defaultProps=
b;q("extend-esri")&&(k.setObject("geometry.Polyline",f,l),l.geometry.defaultPolyline=b);return f})},"esri/geometry/Polygon":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has esri/kernel esri/lang esri/SpatialReference esri/geometry/Geometry esri/geometry/Point esri/geometry/Extent esri/geometry/mathUtils".split(" "),function(f,m,k,q,l,h,g,e,c,a,b){var d={type:"polygon",rings:null},n=f(e,{declaredClass:"esri.geometry.Polygon",constructor:function(a){k.mixin(this,d);this.rings=
[];this._ring=0;a&&(k.isArray(a)?this.rings=k.isArray(a[0][0])?a:[a]:a.rings?k.mixin(this,a):this.spatialReference=a,this.spatialReference&&(this.spatialReference=new g(this.spatialReference)));this.verifySR()},_extent:null,addRing:function(a){this._extent=this._centroid=null;this._ring=this.rings.length;this.rings[this._ring]=[];k.isArray(a[0])?m.forEach(a,this._addPointArr,this):m.forEach(a,this._addPoint,this);return this},_addPointArr:function(a){this.rings[this._ring].push(a)},_addPoint:function(a){this.rings[this._ring].push([a.x,
a.y])},_insertPoints:function(a,b){this._extent=this._centroid=null;this._ring=b;this.rings[this._ring]||(this.rings[this._ring]=[]);m.forEach(a,this._addPoint,this)},_validateInputs:function(a,b){return null!==a&&void 0!==a&&(0>a||a>=this.rings.length)||null!==b&&void 0!==a&&(0>b||b>=this.rings[a].length)?!1:!0},getPoint:function(a,b){if(this._validateInputs(a,b))return new c(this.rings[a][b],this.spatialReference)},setPoint:function(a,b,d){if(this._validateInputs(a,b))return this._extent=this._centroid=
null,this.rings[a][b]=[d.x,d.y],this},insertPoint:function(a,b,d){if(this._validateInputs(a)&&h.isDefined(b)&&0<=b&&b<=this.rings[a].length)return this._extent=this._centroid=null,this.rings[a].splice(b,0,[d.x,d.y]),this},removeRing:function(a){if(this._validateInputs(a,null)){this._extent=this._centroid=null;a=this.rings.splice(a,1)[0];var b,d=a.length,e=this.spatialReference;for(b=0;b<d;b++)a[b]=new c(a[b],e);return a}},removePoint:function(a,b){if(this._validateInputs(a,b))return this._extent=
this._centroid=null,new c(this.rings[a].splice(b,1)[0],this.spatialReference)},getExtent:function(){var b;if(this._extent)return b=new a(this._extent),b._partwise=this._partwise,b;b=this.rings;var d=b.length;if(d&&b[0].length){var c,e,g,n,f,h,k,l,q=n=b[0][0][0],m=f=b[0][0][1],A=Math.min,G=Math.max,M=this.spatialReference,F=[],J,L,K,P;for(h=0;h<d;h++){c=b[h];J=L=c[0]&&c[0][0];K=P=c[0]&&c[0][1];l=c.length;for(k=0;k<l;k++)e=c[k],g=e[0],e=e[1],q=A(q,g),m=A(m,e),n=G(n,g),f=G(f,e),J=A(J,g),K=A(K,e),L=G(L,
g),P=G(P,e);F.push(new a({xmin:J,ymin:K,xmax:L,ymax:P,spatialReference:M?M.toJson():null}))}this._extent={xmin:q,ymin:m,xmax:n,ymax:f,spatialReference:M?M.toJson():null};this._partwise=1<F.length?F:null;b=new a(this._extent);b._partwise=this._partwise;return b}},contains:function(a){var b=this.rings,d,e=!1,g,n,f,h,k,l,q=b.length;d=this.spatialReference;g=a.spatialReference;var m=a.x;a=a.y;d&&(g&&!d.equals(g)&&d._canProject(g))&&(a=d.isWebMercator()?c.lngLatToXY(m,a):c.xyToLngLat(m,a,!0),m=a[0],a=
a[1]);for(l=0;l<q;l++){d=b[l];f=d.length;for(k=h=0;k<f;k++)if(h++,h===f&&(h=0),g=d[k],n=d[h],(g[1]<a&&n[1]>=a||n[1]<a&&g[1]>=a)&&g[0]+(a-g[1])/(n[1]-g[1])*(n[0]-g[0])<m)e=!e}return e},getCentroid:function(){if(null!=this._centroid)return this._centroid;var a,b,d,e,g=[],n,f;m.forEach(this.rings,function(c){a=b=d=0;m.forEach(c,function(e,g){g<c.length-1&&(n=c[g+1],f=e[0]*n[1]-n[0]*e[1],a+=(e[0]+n[0])*f,b+=(e[1]+n[1])*f,d+=f)});0<d&&(d*=-1);g.push([a,b,d/2])});g.sort(function(a,b){return a[2]-b[2]});
e=6*g[0][2];return this._centroid=new c(g[0][0]/e,g[0][1]/e,this.spatialReference)},isClockwise:function(a){var b=0,d,c=a.length,e=k.isArray(a[0])?function(a,b){return a[0]*b[1]-b[0]*a[1]}:function(a,b){return a.x*b.y-b.x*a.y};for(d=0;d<c;d++)b+=e(a[d],a[(d+1)%c]);return 0>=b/2},isSelfIntersecting:function(a){a=a||this;var d,c,e,g,n,f,h,k=a.rings.length,l;for(e=0;e<k;e++){for(d=0;d<a.rings[e].length-1;d++){n=[[a.rings[e][d][0],a.rings[e][d][1]],[a.rings[e][d+1][0],a.rings[e][d+1][1]]];for(c=e+1;c<
k;c++)for(g=0;g<a.rings[c].length-1;g++)if(f=[[a.rings[c][g][0],a.rings[c][g][1]],[a.rings[c][g+1][0],a.rings[c][g+1][1]]],(h=b._getLineIntersection2(n,f))&&!(h[0]===n[0][0]&&h[1]===n[0][1]||h[0]===f[0][0]&&h[1]===f[0][1]||h[0]===n[1][0]&&h[1]===n[1][1]||h[0]===f[1][0]&&h[1]===f[1][1]))return!0}g=a.rings[e].length;if(!(4>=g))for(d=0;d<g-3;d++){l=g-1;0===d&&(l=g-2);n=[[a.rings[e][d][0],a.rings[e][d][1]],[a.rings[e][d+1][0],a.rings[e][d+1][1]]];for(c=d+2;c<l;c++)if(f=[[a.rings[e][c][0],a.rings[e][c][1]],
[a.rings[e][c+1][0],a.rings[e][c+1][1]]],(h=b._getLineIntersection2(n,f))&&!(h[0]===n[0][0]&&h[1]===n[0][1]||h[0]===f[0][0]&&h[1]===f[0][1]||h[0]===n[1][0]&&h[1]===n[1][1]||h[0]===f[1][0]&&h[1]===f[1][1]))return!0}}return!1},toJson:function(){var a={rings:k.clone(this.rings)},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});n.defaultProps=d;n.createEllipse=function(a){var b=a.center.x,d=a.center.y,c=a.longAxis,e=a.shortAxis,g=a.numberOfPoints,f=a.map,h,k,l;a=[];var q=2*Math.PI/
g;for(k=0;k<g;k++)h=Math.cos(k*q),l=Math.sin(k*q),h=f.toMap({x:c*h+b,y:e*l+d}),a.push(h);a.push(a[0]);b=new n(f.spatialReference);b.addRing(a);return b};n.createCircle=function(a){return n.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,map:a.map})};q("extend-esri")&&(k.setObject("geometry.Polygon",n,l),l.geometry.defaultPolygon=d,l.geometry.createEllipse=n.createEllipse,l.geometry.createCircle=n.createCircle,l.geometry.isClockwise=n.prototype.isClockwise,
l.geometry.polygonSelfIntersecting=n.prototype.isSelfIntersecting);return n})},"esri/geometry/Multipoint":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/SpatialReference esri/geometry/Geometry esri/geometry/Point esri/geometry/Extent".split(" "),function(f,m,k,q,l,h,g,e){var c={type:"multipoint",points:null};f=f(h,{declaredClass:"esri.geometry.Multipoint",constructor:function(a){m.mixin(this,c);this.points=[];a&&(a.points?m.mixin(this,a):this.spatialReference=a,this.spatialReference&&
(this.spatialReference=new l(this.spatialReference)));this.verifySR()},_extent:null,addPoint:function(a){this._extent=null;m.isArray(a)?this.points.push(a):this.points.push([a.x,a.y]);return this},removePoint:function(a){if(this._validateInputs(a))return this._extent=null,new g(this.points.splice(a,1)[0],this.spatialReference)},getExtent:function(){if(this._extent)return new e(this._extent);var a=this.points,b=a.length;if(b){var d=a[0],c,g,f=c=d[0],h=g=d[1],k=Math.min,l=Math.max,q=this.spatialReference,
m,w;for(w=0;w<b;w++)d=a[w],m=d[0],d=d[1],f=k(f,m),h=k(h,d),c=l(c,m),g=l(g,d);this._extent={xmin:f,ymin:h,xmax:c,ymax:g,spatialReference:q?q.toJson():null};return new e(this._extent)}},_validateInputs:function(a){return null===a||0>a||a>=this.points.length?!1:!0},getPoint:function(a){if(this._validateInputs(a))return a=this.points[a],new g(a[0],a[1],this.spatialReference)},setPoint:function(a,b){if(this._validateInputs(a))return this._extent=null,this.points[a]=[b.x,b.y],this},toJson:function(){var a=
{points:m.clone(this.points)},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});f.defaultProps=c;k("extend-esri")&&(m.setObject("geometry.Multipoint",f,q),q.geometry.defaultMultipoint=c);return f})},"esri/layers/GraphicsLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-construct dojo/dom-style dojox/gfx dojox/gfx/matrix esri/kernel esri/lang esri/sniff esri/domUtils esri/layers/layer esri/symbols/MarkerSymbol esri/symbols/SimpleMarkerSymbol esri/geometry/Point esri/geometry/ScreenPoint esri/geometry/Extent esri/geometry/mathUtils esri/geometry/screenUtils esri/PluginTarget".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D){var C,B=-1!==e.renderer.toLowerCase().indexOf("svg"),E=-1!==e.renderer.toLowerCase().indexOf("canvas"),A=9>d("ie"),G=d("esri-touch"),M=f(null,{declaredClass:"esri.layers._GraphicsContainer",_setMap:function(a,b){var d,c=this._connects=[];this._map=a;E?(d=h.create("div",{style:"overflow: visible; position: absolute;"},b),this._surface={getEventSource:function(){return d}},c.push(m.connect(d,"onmousedown",this,this._canvasDownHandler)),c.push(m.connect(d,
"onmouseup",this,this._canvasUpHandler)),c.push(m.connect(d,"onclick",this,this._canvasClickHandler)),C.prototype._canvas=!0):(d=(this._surface=e.createSurface(b,a.width,a.height)).getEventSource(),g.set(d=A?d.parentNode:d,{overflow:"visible",position:"absolute"}));c.push(m.connect(a,"onResize",this,"_onResizeHandler"));return d},_onResizeHandler:function(a,b,d){a=this._surface.getEventSource();var c=this._map,e;A&&g.set(a=a.parentNode,{width:b+"px",height:d+"px",clip:"rect(0px "+b+"px "+d+"px 0px)"});
l.set(a,"width",b);l.set(a,"height",d);this._surface.declaredClass||q.forEach(a.childNodes,function(a){l.set(a,"width",b);l.set(a,"height",d)});c.loaded&&(c.graphics.suspended||(c.graphics._resized=!0),q.forEach(c.graphicsLayerIds,function(a){e=c.getLayer(a);e.suspended||(e._resized=!0)}))},_cleanUp:function(){q.forEach(this._connects,m.disconnect,m);this._map=this._surface=null},_processEvent:function(a){var b=this._map;a.screenPoint=new u(a.pageX-b.position.x,a.pageY-b.position.y);a.mapPoint=b.toMap(a.screenPoint)},
_canvasDownHandler:function(a){this._processEvent(a);this._downPt=a.screenPoint.x+","+a.screenPoint.y},_canvasUpHandler:function(a){this._processEvent(a);this._upPt=a.screenPoint.x+","+a.screenPoint.y},_tolerance:15,_isPrimaryMatch:function(a,b,d,c){if(!a.visible||!b)return!1;var e=b.getTransformedBoundingBox(),g;return e?(g=new z(e[0].x,e[0].y,e[2].x,e[2].y),delete g.spatialReference,G?g.intersects(d):g.contains(c)):q.some(b.children||[],function(a){e=a.getTransformedBoundingBox();g=new z(e[0].x,
e[0].y,e[2].x,e[2].y);delete g.spatialReference;return G?g.intersects(d):g.contains(c)})},_canvasClickHandler:function(a){if(this._downPt&&this._upPt&&this._downPt===this._upPt){this._processEvent(a);var d=this._map,c=q.map(d.graphicsLayerIds,function(a){return d.getLayer(a)});c.push(d.graphics);c.reverse();var c=q.filter(c,function(a){return a.loaded&&a._mouseEvents&&!a.suspended&&(!b.isDefined(a.opacity)||0<a.opacity)}),e=a.screenPoint,g=this._tolerance,n=e.x-g,f=e.y+g,h=e.x+g,g=e.y-g,k=new z(n,
g,h,f),n=d.toMap(new u(n,f)),h=d.toMap(new u(h,g)),f=n.spatialReference._getInfo(),r=new z(z.prototype._normalizeX(n.x,f).x,n.y,z.prototype._normalizeX(h.x,f).x,h.y,n.spatialReference),l;delete k.spatialReference;q.some(c,function(a){a=q.filter(a.graphics,function(a){return this._isPrimaryMatch(a,a.getDojoShape(),k,e)||!(!a._bgShape||!this._isPrimaryMatch(a,a._bgShape,k,e))},this);a.reverse();if(0<a.length){var b;q.some(a,function(a){return a.geometry&&r.intersects(a.geometry)?(b=a,!0):!1});if(b)return l=
b,!0}return!1},this);if(l&&(c=l.getLayer()))a.graphic=l,c.onClick(a)}}});C=f(r,{declaredClass:"esri.layers._GraphicsLayer",managedSuspension:!0,surfaceType:E?"canvas-2d":e.renderer,_eventMap:{"graphic-add":["graphic"],"graphic-remove":["graphic"]},constructor:function(a,b){if(a&&(k.isString(a)||k.isObject(a)&&a.layerDefinition))a=b;this._params=k.mixin({displayOnPan:!0,drawMode:!0,styling:!0},a||{});var d=this._params.dataAttributes;"string"===typeof d&&(d=[d]);this.styling=B?this._params.styling:
!0;this.dataAttributes=d;this.infoTemplate=a&&a.infoTemplate;this.graphics=[];this._draw=k.hitch(this,this._draw);this._refresh=k.hitch(this,this._refresh);this.registerConnectEvents()},getNode:function(){return this._div&&this._div.getEventSource()},setDrawMode:function(a){this._params.drawMode=a},renderer:null,_setMap:function(a,d){this.inherited(arguments);this._map=a;this._wrap=a.wrapAround180;this._srInfo=a.spatialReference._getInfo();this._canvas?(d=e.createSurface(d.getEventSource(),a.width,
a.height),g.set(d.rawNode,"position","absolute"),this._div=d.createGroup(),this._renderProto=this._div.constructor.prototype._render,this._div._render=k.hitch(this,this._canvasRender)):this._div=d.createGroup();this._bgGroup=this._div.createGroup();this._div.getEventSource().id=this.id+"_layer";var c=this.opacity;b.isDefined(c)&&1>c&&this.setOpacity(c,!0);return this._div},_unsetMap:function(a,b){q.forEach(this.graphics,function(a){a._shape=null});this._canvas?(b=this._div.getParent(),b._parent={},
h.destroy(b.rawNode),b.destroy()):(this._div.clear(),b.remove(this._div),h.destroy(this._div.getEventSource()));this._map=this._div=null;clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();this.inherited(arguments)},_onZoomStartHandler:function(){n.hide(this._div.getEventSource())},_onExtentChangeHandler:function(a,b,d,e){clearTimeout(this._wakeTimer);this._wakeTimer=null;d?(a=this._map.__visibleRect,b=this._div,this._evalSDRenderer(),this._refresh(!0),b.setTransform(c.translate({x:a.x,
y:a.y})),this._renderProto&&b.surface.pendingRender?this._dirty=!0:this.suspended||n.show(b.getEventSource())):this._resized&&(this._refresh(!1),this._resized=!1);if(0<this.graphics.length)this.onUpdate()},_canvasRender:function(){var a=this._div;this._dirty&&(delete this._dirty,this.suspended||n.show(a.getEventSource()));return this._renderProto.apply(a,arguments)},_refresh:function(a){var b=this.graphics,d=b.length,c,e=this._draw;for(c=0;c<d;c++)e(b[c],a)},refresh:function(){this._refresh(!0)},
redraw:function(){this._refresh(!0)},_onPanHandler:function(a,b){this._panDx=b.x;this._panDy=b.y;var d=this._map.__visibleRect;this._div.setTransform(c.translate({x:d.x+b.x,y:d.y+b.y}))},_onPanEndUpdateHandler:function(a,b){if(!this._params._child&&(b.x!==this._panDx||b.y!==this._panDy)){var d=this._map.__visibleRect;this._div.setTransform(c.translate({x:d.x,y:d.y}))}this._refresh(!1);if(this.graphics.length)this.onUpdate()},_onPanStartHandler:function(){n.hide(this._div.getEventSource())},_onPanEndHandler:function(){var a=
this._map.__visibleRect,b=this._div;b.setTransform(c.translate({x:a.x,y:a.y}));this._refresh(!1);this._renderProto&&b.surface.pendingRender?this._dirty=!0:n.show(b.getEventSource());if(this.graphics.length)this.onUpdate()},onSuspend:function(){this.inherited(arguments);n.hide(this._div.getEventSource());clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(a){this.inherited(arguments);a.firstOccurrence&&this._evalSDRenderer();this._enableDrawConnectors();
this._wakeTimer=this._wakeTimer||setTimeout(k.hitch(this,function(){this.suspended||this._onExtentChangeHandler(null,null,!0)}),0)},_enableDrawConnectors:function(){var a=this._map,b=m.connect;this._disableDrawConnectors();this._params.displayOnPan?(this._params._child||(this._onPanHandler_connect=b(a,"onPan",this,"_onPanHandler")),this._onPanEndHandler_connect=b(a,"onPanEnd",this,"_onPanEndUpdateHandler")):(this._onPanStartHandler_connect=b(a,"onPanStart",this,"_onPanStartHandler"),this._onPanEndHandler_connect=
b(a,"onPanEnd",this,"_onPanEndHandler"));this._onZoomStartHandler_connect=b(a,"onZoomStart",this,"_onZoomStartHandler");this._onExtentChangeHandler_connect=b(a,"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var a=m.disconnect;a(this._onExtentChangeHandler_connect);a(this._onZoomStartHandler_connect);a(this._onPanHandler_connect);a(this._onPanStartHandler_connect);a(this._onPanEndHandler_connect);this._onExtentChangeHandler_connect=this._onZoomStartHandler_connect=
this._onPanHandler_connect=this._onPanStartHandler_connect=this._onPanEndHandler_connect=null},_updateExtent:function(a){var b=a.geometry;if(b){if(!(a._extent=b.getExtent())){var d,c;if("esri.geometry.Point"===b.declaredClass)d=b.x,c=b.y;else if("esri.geometry.Multipoint"===b.declaredClass)d=b.points[0][0],c=b.points[0][1];else{a._extent=null;return}a._extent=new z(d,c,d,c,b.spatialReference)}}else a._extent=null},_intersects:function(a,b,d){var c=a.spatialReference,e=b.spatialReference,g=c&&e&&!c.equals(e)&&
c._canProject(e)&&4326===e.wkid;if(this._wrap&&!d){d=[];var c=a._getFrameWidth(),n=this._srInfo,f=a._clip?a._getAvailExtent():a.extent,h,k,r,l,w=[];h=b._partwise;g&&(f=a.geographicExtent,n=e._getInfo());a=f._getParts(n);if(h&&h.length){b=[];e=0;for(g=h.length;e<g;e++)b=b.concat(h[e]._getParts(n))}else b=b._getParts(n);e=0;for(g=b.length;e<g;e++){r=b[e];n=0;for(f=a.length;n<f;n++)if(l=a[n],l.extent.intersects(r.extent)){h=0;for(k=r.frameIds.length;h<k;h++)d.push((l.frameIds[0]-r.frameIds[h])*c)}}e=
0;for(g=d.length;e<g;e++)h=d[e],q.indexOf(d,h)===e&&w.push(h);return w.length?w:null}return(g?a.geographicExtent:a.extent).intersects(b)?[0]:null},_defaultMarker:{type:"simplemarkersymbol",style:"square",size:1,xoffset:0,yoffset:0,angle:0},_draw:function(a,b){if(this._params.drawMode&&this._map&&!this.suspended)try{var d=a._extent,c,e,g=!B||this.styling,n=B&&this.dataAttributes,f=a.getDojoShape(),h;if(a.visible&&d&&(c=this._intersects(this._map,d,a.geometry._originOnly))&&(e=g?this._getSymbol(a):
this._defaultMarker)){if(!a._offsets||a._offsets.join(",")!==c.join(",")?a._offsets=c:h=!0,!f||b||!h){var k=a.geometry.type,d={graphic:a},r=a._bgShape,l=g&&!a.symbol?this._getRenderer(a):null,w=l&&l.backgroundFillSymbol;if("point"===k)this._isInvalidShape(e,f)&&this._removeShape(a),a._shape=this._drawPoint(this._div,a.geometry,e,a.getDojoShape(),c,l,a),g&&this._symbolizePoint(a.getDojoShape(),e,l,a);else if("multipoint"===k)this._drawMarkers(a,e,c,l),g&&this._symbolizeMarkers(a,e,l);else{var A,k=
e,q,C;g&&(k=(A=e.isInstanceOf(t)?e:null)?w:e);k&&k===w&&(q=this._bgGroup);r&&!q&&this._removeBgShape(a);k&&(!q&&this._isInvalidShape(k,a._shape)&&this._removeShape(a,!1),C=this._drawShape(a,c,q||this._div,q?r:a.getDojoShape()),g&&this._symbolizeShape(C,k,!w&&l,a),a[q?"_bgShape":"_shape"]=C);A&&(this._isInvalidShape(A,a._shape)&&this._removeShape(a,!1),C=this._drawPoint(this._div,a.geometry.getCentroid(),A,a._shape,c,l,a),this._symbolizePoint(C,A,l,a),a._shape=C)}E||(a._bgShape&&this._initNode(a,a._bgShape,
a._bgShape!==r,d,n),a._shape&&this._initNode(a,a._shape,a._shape!==f,d,n));d.node=a.getNode();this.onGraphicDraw(d)}}else f&&this._removeShape(a)}catch(m){this._errorHandler(m,a)}},_initNode:function(a,b,d,c,e){if(b=b&&b.getNode())b.e_graphic=a,this._addDataAttrs(a,e,b),d&&(c.node=b,this.onGraphicNodeAdd(c))},_removeShape:function(a,b){var d=a.getDojoShape(),c=d&&d.getNode();d&&(d.removeShape(),d.destroy());a._shape=a._offsets=null;!1!==b&&this._removeBgShape(a);if(c&&(c.e_graphic=null,!E))this.onGraphicNodeRemove({graphic:a,
node:c})},_removeBgShape:function(a){var b=a._bgShape,d=b&&b.getNode();b&&(b.removeShape(),b.destroy(),a._bgShape=null);if(d&&(d.e_graphic=null,!E))this.onGraphicNodeRemove({graphic:a,node:d})},_addDataAttrs:function(a,b,d){var c=a.attributes,e,g=b?b.length:0,n=this._getRenderer(a);if(d&&c){for(e=0;e<g;e++)(d=b[e])&&a.attr("data-"+d,c[d]);!this.styling&&n&&(n.getBreakIndex?(b=n.getBreakIndex(a),a.attr("data-class-break",-1!==b?b:null)):n.getUniqueValueInfo&&(b=n.getUniqueValueInfo(a),a.attr("data-unique-value",
b?b.value:null)))}},_drawShape:function(a,b,d,c){a=a.geometry;var e=a.type,g=this._map,n=g.extent,f=g.width,h=g.height,g=g.__visibleRect,k=[],r,l;r="extent"===e;if("rect"===e||r)k={x:0,y:0,spatialReference:a.spatialReference},k.x=r?a.xmin:a.x,k.y=r?a.ymax:a.y,e=w.toScreenPoint(n,f,h,k),k.x=r?a.xmax:a.x+a.width,k.y=r?a.ymin:a.y+a.height,a=w.toScreenPoint(n,f,h,k),b={x:e.x-g.x+b[0],y:e.y-g.y,width:Math.abs(a.x-e.x),height:Math.abs(a.y-e.y)},0===b.width&&(b.width=1),0===b.height&&(b.height=1),c=this._drawRect(d,
c,b);else if("polyline"===e||"polygon"===e){r=0;for(l=b.length;r<l;r++)k=k.concat(w._toScreenPath(n,f,h,a,-g.x+b[r],-g.y));c=this._drawPath(d,c,k);this._rendererLimits&&("polyline"===e?this._clipPolyline(c,a):this._clipPolygon(c,a))}return c},_drawRect:function(a,b,d){return b?b.setShape(d):a.createRect(d)},_drawImage:function(a,b,d){return b?b.setShape(d):a.createImage(d)},_drawCircle:function(a,b,d){return b?b.setShape(d):a.createCircle(d)},_drawPath:function(){return A?function(a,b,d,c){d=c?d:
d.join(" ");if(b)return b.setShape(d);b=a.createObject(c?e.Path:e.EsriPath,d);a._overrideSize(b.getEventSource());return b}:function(a,b,d,c){d=c?d:d.join(" ");return b?b.setShape(d):a.createPath(d)}}(),_drawText:function(a,b,d){return b?b.setShape(d):a.createText(d)},_evalSDRenderer:function(){var a=this._map,b=this.renderer,d;a&&(a.loaded&&b&&b.getRendererInfo)&&(d="zoom"===b.rangeType?b.getRendererInfoByZoom(a.getZoom()):b.getRendererInfoByScale(a.getScale()));this._rndForScale=d&&d.renderer},
_getRenderer:function(a){var b=this._rndForScale||this.renderer;a&&(b&&b.getObservationRenderer)&&(b=b.getObservationRenderer(a));return b},_getSymbol:function(a){var b=this._getRenderer();return a.symbol||b&&b.getSymbol(a)},_symbolizeShape:function(a,b,d,c){var e=b.getStroke(),g=b.getFill();b=b.type;var n,f,h=d&&d.proportionalSymbolInfo?d.getSize(c):null;d&&(d.colorInfo&&"picturefillsymbol"!==b)&&(d=d.getColor(c),-1!==b.indexOf("linesymbol")?n=d:g&&g.toCss&&(f=d));a.setStroke(null==h&&!n?e:k.mixin({},
e,h&&{width:h},n&&{color:n})).setFill(f||g)},_smsToPath:function(){return A?function(a,b,d,c,e,g,n,f,h){switch(b){case a.STYLE_SQUARE:return["M",e+","+n,"L",g+","+n,g+","+f,e+","+f,"X","E"];case a.STYLE_CROSS:return["M",d+","+n,"L",d+","+f,"M",e+","+c,"L",g+","+c,"E"];case a.STYLE_X:return["M",e+","+n,"L",g+","+f,"M",e+","+f,"L",g+","+n,"E"];case a.STYLE_DIAMOND:return["M",d+","+n,"L",g+","+c,d+","+f,e+","+c,"X","E"];case a.STYLE_TARGET:return["M",e+","+n,"L",g+","+n,g+","+f,e+","+f,e+","+n,"M",e-
h+","+c,"L",e+","+c,"M",d+","+(n-h),"L",d+","+n,"M",g+h+","+c,"L",g+","+c,"M",d+","+(f+h),"L",d+","+f,"E"]}}:function(a,b,d,c,e,g,n,f,h){switch(b){case a.STYLE_SQUARE:return["M",e+","+n,g+","+n,g+","+f,e+","+f,"Z"];case a.STYLE_CROSS:return["M",d+","+n,d+","+f,"M",e+","+c,g+","+c];case a.STYLE_X:return["M",e+","+n,g+","+f,"M",e+","+f,g+","+n];case a.STYLE_DIAMOND:return["M",d+","+n,g+","+c,d+","+f,e+","+c,"Z"];case a.STYLE_TARGET:return["M",e+","+n,g+","+n,g+","+f,e+","+f,e+","+n,"M",e-h+","+c,e+
","+c,"M",d+","+(n-h),d+","+n,"M",g+h+","+c,g+","+c,"M",d+","+(f+h),d+","+f]}}}(),_pathStyles:{square:1,cross:1,x:1,diamond:1,target:1},_typeMaps:{picturemarkersymbol:"image",picturefillsymbol:"path",simplefillsymbol:"path",simplelinesymbol:"path",cartographiclinesymbol:"path",textsymbol:"text"},_isInvalidShape:function(a,b){var d=b&&b.shape&&b.shape.type,c=a&&a.type,e=a&&a.style;c&&(e=this._typeMaps[c]||e);this._pathStyles[e]&&(e="path");return!(!d||!(e&&d!==e))},_drawPoint:function(a,b,d,e,g,n,
f){var h=d.type,k=this._map,r=k.__visibleRect,l=w.toScreenPoint(k.extent,k.width,k.height,b).offset(-r.x+g[0],-r.y),k=l.x,r=l.y,A;b=[];var q=n&&n.rotationInfo?n.getRotationAngle(f):null,C=n&&n.proportionalSymbolInfo;n=C?n.getSize(f,{shape:d.style}):null;q&&b.push(c.rotategAt(q,l));(0!==d.xoffset||0!==d.yoffset)&&b.push(c.translate(d.xoffset,-d.yoffset));0!==d.angle&&b.push(c.rotategAt(d.angle,l));if("simplemarkersymbol"===h)switch(A=d.style,h=Math.round,n=C?n:d.size,A){case s.STYLE_SQUARE:case s.STYLE_CROSS:case s.STYLE_X:case s.STYLE_DIAMOND:d=
isNaN(n)?16:n/2;A=this._drawPath(a,e,this._smsToPath(s,A,k,r,h(k-d),h(k+d),h(r-d),h(r+d)));break;case s.STYLE_TARGET:l=d._targetWidth/2;C=d._targetHeight/2;A=this._drawPath(a,e,this._smsToPath(s,A,k,r,h(k-l),h(k+l),h(r-C),h(r+C),d._spikeSize));break;case s.STYLE_PATH:A=this._drawPath(a,e,d.path,!0);d=A.getBoundingBox();a=this._getScaleMatrix(d,n);(1!==a.xx||1!==a.yy)&&b.push(c.scaleAt(a.xx,a.yy,l));b.push(c.translate(-(d.x+d.width/2)+k,-(d.y+d.height/2)+r));break;default:d=isNaN(n)?16:n/2,A=this._drawCircle(a,
e,{cx:k,cy:r,r:d})}else"shieldlabelsymbol"===h?(A=d.width,l=d.height,e=a.createGroup(),A=a.createImage({x:k-A/2,y:r-l/2,width:A,height:l,src:d.url}),e.add(A),null!=d.font&&(r+=0.2*d.getHeight(),a=a.createText({type:"text",text:d.text,x:k,y:r,align:"middle",decoration:d.decoration,rotated:d.rotated,kerning:d.kerning}),a.setFont(d.font),a.setFill(d.color),e.add(a)),A=e):"picturemarkersymbol"===h?(A=C?n:d.width,l=C?n:d.height,A=this._drawImage(a,e,{x:k-A/2,y:r-l/2,width:A,height:l,src:d.url})):"textsymbol"===
h&&(A=this._drawText(a,e,{type:"text",text:d.text,x:k,y:r,align:d.getSVGAlign(),decoration:d.decoration||d.font&&d.font.decoration,rotated:d.rotated,kerning:d.kerning}),B&&(a=A.getNode(),k=d.getSVGBaseline(),d=d.getSVGBaselineShift(),a&&(a.setAttribute("dominant-baseline",k),d&&a.setAttribute("baseline-shift",d))));A.setTransform(c.multiply(b));A._wrapOffsets=g;return A},_getScaleMatrix:function(a,b){var d=a.width/a.height,c=1,e=1;isNaN(b)||(1<d?(c=b/a.width,e=b/d/a.height):(e=b/a.height,c=b*d/a.width));
return{xx:c,yy:e}},_symbolizePoint:function(a,b,d,c){var e=b.type;if(!("shieldlabelsymbol"===e||"picturemarkersymbol"===e)){var g,n=d&&d.colorInfo;"textsymbol"===e?a.setFont(b.font).setFill(b.getFill()):(g=b.getStroke(),b=b.getFill(),"simplemarkersymbol"===e&&a.setFill(n?d.getColor(c):b).setStroke(g))}},_drawMarkers:function(a,b,d,c){var e=a.geometry,g=e.points,n=a.getDojoShape()||this._div.createGroup(),f,h,k=g.length,r=[],l=0,w,A=d?d.length:0;n.children[0]&&this._isInvalidShape(b,n.children[0])&&
n.clear();for(h=0;h<k;h++){f=g[h];for(w=0;w<A;w++)r[0]=d[w],this._drawPoint(n,{x:f[0],y:f[1],spatialReference:e.spatialReference},b,n.children[l++],r,c,a)}b=n.children.length;if(k*d.length<b)for(h=b-1;h>=k*d.length;h--)n.children[h].removeShape();a._shape=n},_symbolizeMarkers:function(a,b,d){var c=a.getDojoShape().children,e,g=c.length;for(e=0;e<g;e++)this._symbolizePoint(c[e],b,d,a)},_errorHandler:function(a,b){a.message=b?"Unable to draw graphic (geometry:"+(b.geometry?b.geometry.declaredClass:
null)+", symbol:"+(b.symbol?b.symbol.declaredClass:null)+"): "+a.message:"Unable to draw graphic (null): "+a.message;this.inherited(arguments)},_rendererLimits:function(){var a,b,c;d("ff")?(a=16125,b=-32250,c=32250):A?(a=1E5,b=-1E5,c=1E5):d("chrome")&&6>d("chrome")&&(a=8150,b=-1E4,c=1E4);if(a)return{clipLimit:a,rangeMin:b,rangeMax:c,clipBBox:[-a,-a,a,a],clipSegments:[[[-a,-a],[a,-a]],[[a,-a],[a,a]],[[a,a],[-a,a]],[[-a,a],[-a,-a]]]}}(),_clipPolyline:function(a,b){var d=this._getCorners(a,b),c=d.br,
e=this._rendererLimits,g=e.rangeMin,n=e.rangeMax,f=e.clipBBox,h=e.clipSegments,e=this._isPointWithinRange,k=this._isPointWithinBBox,r=this._getClipperIntersection,l=this._getPlaneIndex;if(!e(d.tl,g,n)||!e(c,g,n)){A&&this._createSegments(a);var w=[];q.forEach(a.segments,function(a){a=a.args;var b=a.length,d=[],c;for(c=0;c<b;c+=2){var e=[a[c],a[c+1]],g=[a[c+2],a[c+3]],n=k(e,f),A=k(g,f);if(n^A){if(A=r([e,g],h))n?(c?d.push(A[1]):d.push(e,A[1]),w.push(d),d=[]):d.push(A[1],g)}else n?c?d.push(g):d.push(e,
g):(A=l(e,f),n=l(g,f),-1===A||(-1===n||A===n)||(e=r([e,g],h,!0),0<e.length&&(e[A]||(A=e[A[0]]?A[0]:A[1]),e[n]||(n=e[n[0]]?n[0]:n[1]),g=e[A],e=e[n],g&&d.push(g),e&&(d.push(e),w.push(d),d=[]))))}w.push(d)});a.setShape(this._getPathStringFromPaths(w))}},_clipPolygon:function(a,b){var d=this._getCorners(a,b),c=d.br,e=this._rendererLimits,g=e.clipLimit,n=e.rangeMin,f=e.rangeMax,h=e.clipBBox,r=e.clipSegments,e=this._isPointWithinRange,l=this._isPointWithinBBox,w=this._getClipperIntersection,C=this._getPlaneIndex,
m=y._pointLineDistance;if(!e(d.tl,n,f)||!e(c,n,f))A&&this._createSegments(a),d=q.map(a.segments,function(a){var b=a.args,d=b.length,c=[];a=[];var e;for(e=0;e<d;e+=2){var n=[b[e],b[e+1]],f=[b[e+2],b[e+3]];if(e===d-2){c.push(n);break}var A=l(n,h),s=l(f,h);c.push(n);if(A^s){if(s=w([n,f],r))n=s[1],n[A?"inOut":"outIn"]=!0,c.push(n),a.push([A?"INOUT":"OUTIN",c.length-1,s[0]])}else if(!A){var A=C(n,h),B=C(f,h);-1===A||(-1===B||A===B)||(s=w([n,f],r,!0),0<s.length?(s[A]||(A=s[A[0]]?A[0]:A[1]),s[B]||(B=s[B[0]]?
B[0]:B[1]),n=s[A],f=s[B],n&&(n.outIn=!0,c.push(n),a.push(["OUTIN",c.length-1,A])),f&&(f.inOut=!0,c.push(f),a.push(["INOUT",c.length-1,B]))):k.isArray(A)&&k.isArray(B)&&(s=A.concat(B),s.sort(),"0123"===s.join("")&&(s=[],3===A[0]+A[1]?s.push([g,-g],[-g,g]):s.push([-g,-g],[g,g]),A=m(s[0],[n,f]),n=m(s[1],[n,f]),c.push(A<n?s[0]:s[1]))))}}var t=h[0],G=h[1],M=h[2],u=h[3];q.forEach(c,function(a){a[0]<t&&(a[1]>=G&&a[1]<=u?a[0]=t:(a[0]=t,a[1]=a[1]<G?G:u))});q.forEach(c,function(a){a[1]<G&&(a[0]>=t&&a[0]<=M?
a[1]=G:(a[1]=G,a[0]=a[0]<t?t:M))});q.forEach(c,function(a){a[0]>M&&(a[1]>=G&&a[1]<=u?a[0]=M:(a[0]=M,a[1]=a[1]<G?G:u))});q.forEach(c,function(a){a[1]>u&&(a[0]>=t&&a[0]<=M?a[1]=u:(a[1]=u,a[0]=a[0]<t?t:M))});b=0;d=a.length;if(0<d){do{f=a[b];e=a[(b+1)%d];if(f[2]===e[2]&&"INOUT"===f[0]&&"OUTIN"===e[0])if(n=f[1],e=e[1],n<e)for(n+=1;n<e;n++)c[n][2]=!0;else if(n>e){for(n+=1;n<c.length;n++)c[n][2]=!0;for(n=0;n<e;n++)c[n][2]=!0}b=(b+1)%d}while(0!==b)}d=c[0];b=c[c.length-1];d[2]&&(b[2]=!0,q.some(a,function(a){return 1===
a[1]?(c.splice(c.length-1,0,k.clone(c[1])),!0):!1}));c=q.filter(c,function(a){return a[2]?!1:!0});for(b=0;b<c.length-1;b++)if(d=c[b],(e=c[b+1])&&!(d[0]!==e[0]||d[1]!==e[1]))e.outIn?d.outIn=!0:e.inOut&&(d.inOut=!0),c.splice(b+1,1);d=Math.abs;a=[];for(b=0;b<c.length-1;b++){f=c[b];n=f[0];f=f[1];A=d(n)===g;s=d(f)===g;e=c[b+1];B=e[0];e=e[1];var D=d(B)===g,x=d(e)===g;A&&x?a.push([b+1,[n,e]]):s&&D&&a.push([b+1,[B,f]])}for(b=a.length-1;0<=b;b--)e=a[b],n=c[e[0]-1],d=c[e[0]],!n.outIn&&(!n.inOut&&!d.outIn&&
!d.inOut)&&c.splice(e[0],0,e[1]);d=c[0];b=c[c.length-1];(d[0]!==b[0]||d[1]!==b[1])&&c.push(d);return c}),a.setShape(this._getPathStringFromPaths(d))},_getCorners:function(a,b){if(A){var d=this._map,c=b.getExtent(),e=c.spatialReference,g=d.toScreen(new x(c.xmin,c.ymax,e)),d=d.toScreen(new x(c.xmax,c.ymin,e));return{tl:g,br:d}}g=a.getTransformedBoundingBox();return{tl:g[0],br:g[2]}},_createSegments:function(a){a.shape.path=a.vmlPath;a.segmented=!1;a._confirmSegmented();var b=a.segments;1<b.length&&
(a.segments=q.filter(b,function(a,b,d){b=d[b+1];return"M"===a.action&&b&&"L"===b.action?(a.args=a.args.concat(b.args),!0):!1}))},_getPathStringFromPaths:function(a){A?(a=q.map(a,function(a){return"m "+q.map(a,function(a,b){return(1===b?"l ":"")+a.join(",")}).join(" ")}),a.push("e")):a=q.map(a,function(a){return"M "+q.map(a,function(a){return a.join(",")}).join(" ")});return a.join(" ")},_isPointWithinBBox:function(a,b){var d=b[1],c=b[2],e=b[3],g=a[0],n=a[1];return g>b[0]&&g<c&&n>d&&n<e?!0:!1},_isPointWithinRange:function(a,
b,d){var c=a.x;a=a.y;return c<b||a<b||c>d||a>d?!1:!0},_getClipperIntersection:function(a,b,d){var c,e=y._getLineIntersection2,g=Math.round,n={length:0};for(c=0;4>c;c++){var f=e(a,b[c]);if(f)if(f[0]=g(f[0]),f[1]=g(f[1]),d)n[c]=f,n.length++;else return[c,f]}return d?n:null},_getPlaneIndex:function(a,b){var d=a[0],c=a[1],e=b[0],g=b[1],n=b[2],f=b[3];return d<=e?c>=g&&c<=f?3:c<g?[0,3]:[2,3]:c<=g?d>=e&&d<=n?0:d<e?[3,0]:[1,0]:d>=n?c>=g&&c<=f?1:c<g?[0,1]:[2,1]:c>=f?d>=e&&d<=n?2:d<e?[3,2]:[1,2]:-1},onGraphicAdd:function(){},
onGraphicRemove:function(){},onGraphicNodeAdd:function(){},onGraphicNodeRemove:function(){},onGraphicDraw:function(){},onGraphicsClear:function(){},onRendererChange:function(){},onOpacityChange:function(){},setInfoTemplate:function(a){this.infoTemplate=a},add:function(a,b){if(a._graphicsLayer===this)return a;b||this.graphics.push(a);a._graphicsLayer=this;this._updateExtent(a);this._draw(a);if(!b)this.onGraphicAdd(a);return a},remove:function(a,b){if(!b){var d;if(-1===(d=q.indexOf(this.graphics,a)))return null;
a=this.graphics.splice(d,1)[0]}a.getDojoShape()&&this._removeShape(a);a._shape=a._graphicsLayer=null;this.onGraphicRemove(a);return a},clear:function(a,b){for(var d=this.graphics;0<d.length;)this.remove(d[0]);if(!b)this.onGraphicsClear()},_setIEOpacity:function(a,b){var d=a&&a.getNode();if(d){var c=a.strokeStyle,e=d.stroke;c&&e&&(e.opacity=c.color.a*b);c=a.fillStyle;e=d.fill;c&&e&&("tile"===e.type?g.set(d,"opacity",b):e.opacity=c.a*b)}},setOpacity:function(a,b){if(b||this.opacity!=a){var d=this._div;
d&&(A?(q.forEach(this.graphics,function(b){this._setIEOpacity(b._shape,a);this._setIEOpacity(b._bgShape,a)},this),d._esriIeOpacity=a,this._bgGroup._esriIeOpacity=a):this._canvas?g.set(d.getEventSource(),"opacity",a):d.getEventSource().setAttribute("opacity",a));this.opacity=a;if(!b)this.onOpacityChange(a)}},setRenderer:function(a){this.renderer=a;this._evalSDRenderer();this.onRendererChange()}});f=f([C,D],{declaredClass:"esri.layers.GraphicsLayer",constructor:function(){this.enableMouseEvents=k.hitch(this,
this.enableMouseEvents);this.disableMouseEvents=k.hitch(this,this.disableMouseEvents);this._processEvent=k.hitch(this,this._processEvent);this._initLayer()},_initLayer:function(){this.loaded=!0;this.onLoad(this)},_setMap:function(){var a=this.inherited("_setMap",arguments);this.enableMouseEvents();return a},_unsetMap:function(){this.disableMouseEvents();this.inherited("_unsetMap",arguments)},_processEvent:function(a){var b=this._map,d=a.target,c;a.screenPoint=new u(a.pageX-b.position.x,a.pageY-b.position.y);
for(a.mapPoint=b.toMap(a.screenPoint);d&&!(c=d.e_graphic);)d=d.parentNode;if(c)return a.graphic=c,a},_onMouseOverHandler:function(a){if(this._processEvent(a))this.onMouseOver(a)},_onMouseMoveHandler:function(a){if(this._processEvent(a))this.onMouseMove(a)},_onMouseDragHandler:function(a){if(this._processEvent(a))this.onMouseDrag(a)},_onMouseOutHandler:function(a){if(this._processEvent(a))this.onMouseOut(a)},_onMouseDownHandler:function(a){this._downGr=this._downPt=null;this._processEvent(a)&&(m.disconnect(this._onmousemove_connect),
m.disconnect(this._onmousedrag_connect),this._onmousedrag_connect=m.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseDragHandler"),this._downGr=a.graphic,this._downPt=a.screenPoint.x+","+a.screenPoint.y,this.onMouseDown(a))},_onMouseUpHandler:function(a){this._upGr=this._upPt=null;this._processEvent(a)&&(m.disconnect(this._onmousedrag_connect),m.disconnect(this._onmousemove_connect),this._onmousemove_connect=m.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseMoveHandler"),
this._upGr=a.graphic,this._upPt=a.screenPoint.x+","+a.screenPoint.y,this.onMouseUp(a))},_onClickHandler:function(b){if(this._processEvent(b)){var d=this._downGr,c=this._upGr;d&&(c&&d===c&&this._downPt===this._upPt)&&(A&&(a._ieGraphic=b.graphic),this.onClick(b))}},_onDblClickHandler:function(a){if(this._processEvent(a))this.onDblClick(a)},onMouseOver:function(){},onMouseMove:function(){},onMouseDrag:function(){},onMouseOut:function(){},onMouseDown:function(){},onMouseUp:function(){},onClick:function(){},
onDblClick:function(){},enableMouseEvents:function(){if(!this._mouseEvents){var a=m.connect,b=this._div.getEventSource();E||(this._onmouseover_connect=a(b,"onmouseover",this,"_onMouseOverHandler"),this._onmousemove_connect=a(b,"onmousemove",this,"_onMouseMoveHandler"),this._onmouseout_connect=a(b,"onmouseout",this,"_onMouseOutHandler"),this._onmousedown_connect=a(b,"onmousedown",this,"_onMouseDownHandler"),this._onmouseup_connect=a(b,"onmouseup",this,"_onMouseUpHandler"),this._onclick_connect=a(b,
"onclick",this,"_onClickHandler"),this._ondblclick_connect=a(b,"ondblclick",this,"_onDblClickHandler"));this._mouseEvents=!0}},disableMouseEvents:function(){if(this._mouseEvents){var a=m.disconnect;a(this._onmouseover_connect);a(this._onmousemove_connect);a(this._onmousedrag_connect);a(this._onmouseout_connect);a(this._onmousedown_connect);a(this._onmouseup_connect);a(this._onclick_connect);a(this._ondblclick_connect);this._mouseEvents=!1}}});f._GraphicsContainer=M;f._GraphicsLayer=C;d("extend-esri")&&
(k.setObject("layers.GraphicsLayer",f,a),k.setObject("layers._GraphicsContainer",M,a),k.setObject("layers._GraphicsLayer",C,a));return f})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(f,m,k){m.switchTo(k);return m})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(f,m,k,q,l){var h=null;k.add("vml",function(g,e,c){c.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';g="adj"in
c.firstChild;c.innerHTML="";return g});return{load:function(g,e,c){function a(){e(["dojox/gfx/"+b],function(a){f.renderer=b;h=a;c(a)})}if(h&&"force"!=g)c(h);else{var b=l.forceGfxRenderer;g=!b&&(m.isString(l.gfxRenderer)?l.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var d,n;!b&&g.length;)switch(g.shift()){case "svg":"SVGAngle"in q.global&&(b="svg");break;case "vml":k("vml")&&(b="vml");break;case "silverlight":try{k("ie")?(d=new ActiveXObject("AgControl.AgControl"))&&d.IsVersionSupported("1.0")&&
(n=!0):navigator.plugins["Silverlight Plug-In"]&&(n=!0)}catch(r){n=!1}finally{d=null}n&&(b="silverlight");break;case "canvas":q.global.CanvasRenderingContext2D&&(b="canvas")}"canvas"===b&&!1!==l.canvasEvents&&(b="canvasWithEvents");"svg"==b&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(a):a()}}}})},"esri/domUtils":function(){define(["dojo/_base/connect","dojo/_base/lang","dojo/dom-style","dojo/has","esri/kernel"],function(f,m,k,q,l){var h={show:function(g){g&&(g.style.display="block")},
hide:function(g){g&&(g.style.display="none")},toggle:function(g){g.style.display="none"===g.style.display?"block":"none"},documentBox:q("ie")?{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}:{w:window.innerWidth,h:window.innerHeight},setScrollable:function(g){var e=0,c=0,a=0,b=0,d=0,n=0;return[f.connect(g,"ontouchstart",function(f){e=f.touches[0].screenX;c=f.touches[0].screenY;a=g.scrollWidth;b=g.scrollHeight;d=g.clientWidth;n=g.clientHeight}),f.connect(g,"ontouchmove",
function(f){f.preventDefault();var h=g.firstChild;h instanceof Text&&(h=g.childNodes[1]);var l=h._currentX||0,q=h._currentY||0,l=l+(f.touches[0].screenX-e);0<l?l=0:0>l&&Math.abs(l)+d>a&&(l=-1*(a-d));h._currentX=l;q+=f.touches[0].screenY-c;0<q?q=0:0>q&&Math.abs(q)+n>b&&(q=-1*(b-n));h._currentY=q;k.set(h,{"-webkit-transition-property":"-webkit-transform","-webkit-transform":"translate("+l+"px, "+q+"px)"});e=f.touches[0].screenX;c=f.touches[0].screenY})]}};q("extend-esri")&&m.mixin(l,h);return h})},
"esri/layers/layer":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/Deferred dojo/_base/json dojo/has esri/Evented esri/kernel esri/lang esri/request esri/deferredUtils esri/urlUtils esri/SpatialReference esri/geometry/Extent".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t){var s=f([e],{declaredClass:"esri.layers.Layer",_eventMap:{error:["error"],load:["layer"],"opacity-change":["opacity"],"update-end":["error"],"visibility-change":["visible"]},
constructor:function(b,d){b&&q.isString(b)?this._url=n.urlToObject(this.url=b):(this.url=this._url=null,(d=d||b)&&d.layerDefinition&&(d=null));this.spatialReference=new r(4326);this.initialExtent=new t(-180,-90,180,90,new r(4326));this._map=this._div=null;this.normalization=!0;d&&(d.id&&(this.id=d.id),!1===d.visible&&(this.visible=!1),a.isDefined(d.opacity)&&(this.opacity=d.opacity),a.isDefined(d.minScale)&&this.setMinScale(d.minScale),a.isDefined(d.maxScale)&&this.setMaxScale(d.maxScale),this.attributionDataUrl=
d.attributionDataUrl||"",this.hasAttributionData=!!this.attributionDataUrl,a.isDefined(d.showAttribution)&&(this.showAttribution=d.showAttribution),this.className=d.className,this.refreshInterval=d.refreshInterval||0);this._errorHandler=q.hitch(this,this._errorHandler);this.refresh=q.hitch(this,this.refresh);if(this.managedSuspension){var c=this._setMap;this._setMap=function(a){var b=c.apply(this,arguments);this.evaluateSuspension();if(this.suspended&&!a.loaded)var d=k.connect(a,"onLoad",this,function(){k.disconnect(d);
d=null;this.evaluateSuspension()});return b}}this.registerConnectEvents()},id:null,visible:!0,opacity:1,loaded:!1,loadError:null,minScale:0,maxScale:0,visibleAtMapScale:!1,suspended:!0,attributionDataUrl:"",hasAttributionData:!1,showAttribution:!0,refreshInterval:0,_errorHandler:function(a){this.loaded||(this.loadError=a);this.onError(a)},_setMap:function(a,b,d,c){this._map=a;this._lyrZEHandle=k.connect(a,"onZoomEnd",this,this._processMapScale);if(a.loaded)this.visibleAtMapScale=this._isMapAtVisibleScale();
else var e=k.connect(a,"onLoad",this,function(){k.disconnect(e);e=null;this._processMapScale()})},_unsetMap:function(a,b){k.disconnect(this._lyrZEHandle);this._toggleRT();this._map=this._lyrZEHandle=null;this.suspended=!0},_cleanUp:function(){this._map=this._div=null},_fireUpdateStart:function(){this.updating||(this.updating=!0,this.attr("data-updating",""),this._toggleRT(),this.onUpdateStart(),this._map&&this._map._incr())},_fireUpdateEnd:function(a,b){this.updating&&(this.updating=!1,this.attr("data-updating"),
this._toggleRT(!0),this.onUpdateEnd(a,b),this._map&&this._map._decr())},_getToken:function(){var a=this._url,b=this.credential;return a&&a.query&&a.query.token||b&&b.token||void 0},_findCredential:function(){this.credential=c.id&&this._url&&c.id.findCredential(this._url.path)},_useSSL:function(){var a=this._url,b=/^http:/i;this.url&&(this.url=this.url.replace(b,"https:"));a&&a.path&&(a.path=a.path.replace(b,"https:"))},refresh:function(){},show:function(){this.setVisibility(!0)},hide:function(){this.setVisibility(!1)},
setMinScale:function(a){this.setScaleRange(a)},setMaxScale:function(a){this.setScaleRange(null,a)},setScaleRange:function(b,d){var c=a.isDefined(b),e=a.isDefined(d);this.loaded||(this._hasMin=this._hasMin||c,this._hasMax=this._hasMax||e);var g=this.minScale,n=this.maxScale;this.minScale=(c?b:this.minScale)||0;this.maxScale=(e?d:this.maxScale)||0;if(g!==this.minScale||n!==this.maxScale)this.onScaleRangeChange(),this._processMapScale()},suspend:function(){this._suspended=!0;this.evaluateSuspension()},
resume:function(){this._suspended=!1;this.evaluateSuspension()},canResume:function(){return this.loaded&&this._map&&this._map.loaded&&this.visible&&this.visibleAtMapScale&&!this._suspended},evaluateSuspension:function(){this.canResume()?this.suspended&&this._resume():this.suspended||this._suspend()},_suspend:function(){this.suspended=!0;this.attr("data-suspended","");this._toggleRT();this.onSuspend();if(this._map)this._map.onLayerSuspend(this)},_resume:function(){this.suspended=!1;this.attr("data-suspended");
var a=void 0===this._resumedOnce,b=this.className,d=this.getNode();if(a&&(this._resumedOnce=!0,b&&d)){var c=d.getAttribute("class")||"";RegExp("(^|\\s)"+b+"(\\s|$)","i").test(c)||d.setAttribute("class",c+((c?" ":"")+b))}this._toggleRT(!0);this.onResume({firstOccurrence:a});if(this._map)this._map.onLayerResume(this)},_processMapScale:function(){var a=this.visibleAtMapScale;this.visibleAtMapScale=this._isMapAtVisibleScale();a!==this.visibleAtMapScale&&(this.onScaleVisibilityChange(),this.evaluateSuspension())},
isVisibleAtScale:function(a){return a?s.prototype._isMapAtVisibleScale.apply(this,arguments):!1},_isMapAtVisibleScale:function(a){if(!a&&(!this._map||!this._map.loaded))return!1;a=a||this._map.getScale();var b=this.minScale,d=this.maxScale,c=!b,e=!d;!c&&a<=b&&(c=!0);!e&&a>=d&&(e=!0);return c&&e},getAttributionData:function(){var a=this.attributionDataUrl,c=new l(d._dfdCanceller);this.hasAttributionData&&a?(c._pendingDfd=b({url:a,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),c._pendingDfd.then(function(a){c.callback(a)},
function(a){c.errback(a)})):(a=Error("Layer does not have attribution data"),a.log=m.isDebug,c.errback(a));return c},getResourceInfo:function(){var a=this.resourceInfo;return q.isString(a)?h.fromJson(a):q.clone(a)},getMap:function(){return this._map},getNode:function(){return this._div},attr:function(a,b){var d=this.getNode();d&&(null==b?d.removeAttribute(a):d.setAttribute(a,b));return this},setRefreshInterval:function(a){var b=this.refreshInterval;this.refreshInterval=a;this._toggleRT();a&&!this.updating&&
!this.suspended&&this._toggleRT(!0);if(b!==a)this.onRefreshIntervalChange();return this},_toggleRT:function(a){a&&this.refreshInterval?(clearTimeout(this._refreshT),this._refreshT=setTimeout(this.refresh,6E4*this.refreshInterval)):this._refreshT&&(clearTimeout(this._refreshT),this._refreshT=null)},setNormalization:function(a){this.normalization=a},setVisibility:function(a){this.visible!==a&&(this.visible=a,this.onVisibilityChange(this.visible),this.evaluateSuspension());this.attr("data-hidden",a?
null:"")},onLoad:function(){},onVisibilityChange:function(){},onScaleRangeChange:function(){},onScaleVisibilityChange:function(){},onSuspend:function(){},onResume:function(){},onUpdate:function(){},onUpdateStart:function(){},onUpdateEnd:function(){},onRefreshIntervalChange:function(){},onError:function(){}});g("extend-esri")&&q.setObject("layers.Layer",s,c);return s})},"esri/request":function(){define("dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/_base/url dojo/_base/xhr dojo/io/script dojo/io/iframe dojo/dom-construct dojo/io-query esri/kernel esri/config esri/sniff esri/lang esri/urlUtils esri/deferredUtils".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s){function x(a){a=new l(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function u(d,l,w,s){var D=!1,u=!1,z;r.isDefined(l)&&(q.isObject(l)?(D=!!l.useProxy,u=!!l.usePost,z=l.crossOrigin):D=!!l);d=q.mixin({},d);d._ssl&&(d.url=d.url.replace(/^http:/i,"https:"));l=d.content;var E=d.url,y=w&&d.form,I=B;z=r.isDefined(z)?z:I.useCors;d.load=function(a){var b;a&&(a.error?(b=q.mixin(Error(),a.error),b.log=m.isDebug):"error"===a.status&&(b=q.mixin(Error(),a),b.log=
m.isDebug),b&&!r.isDefined(b.httpCode)&&(b.httpCode=b.code));return b||a};d.error=function(a,b){b&&b.xhr&&b.xhr.abort();a instanceof Error||(a=q.mixin(Error(),a));a.log=m.isDebug;I.errorHandler(a,b);return a};d._token&&(d.content=d.content||{},d.content.token=d._token);var N=0;l&&E&&(N=a.objectToQuery(l).length+E.length+1);d.timeout=r.isDefined(d.timeout)?d.timeout:I.timeout;d.handleAs=d.handleAs||"json";try{var X,T,R=z&&t.canUseXhr(d.url)&&!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(d.url),
U=t.hasSameOrigin(d.url,window.location.href)||R,V=u||w||N>I.postLength?!0:!1,W=!U&&-1!==d.handleAs.indexOf("json")&&d.callbackParamName&&!w?!0:!1,Q=t.getProxyRule(d.url)||I.alwaysUseProxy||D||(!W||V)&&!U?!0:!1;w&&(!n("esri-file-upload")&&!Q&&R)&&(Q=!0);if(Q)if(X=t.getProxyUrl(E,z),T=X.path,X._xo&&(R=!0),!V&&T.length+1+N>I.postLength&&(V=!0),d.url=T+"?"+E,V)d.content=q.mixin(X.query||{},l);else{var O=a.objectToQuery(q.mixin(X.query||{},l));O&&(d.url+="?"+O);d.content=null}if(W&&!V)return!r.isDefined(d.isAsync)&&
4>n("ff")&&(d.isAsync=!0),g.get(C?C(d):d);var Z=d.headers;if(R&&(!Z||!Z.hasOwnProperty("X-Requested-With")))Z=d.headers=Z||{},Z["X-Requested-With"]=null;if(w){var Y=d.callbackParamName||"callback.html",S=d.callbackElementName||"textarea",aa,ba,ca,$,oa=y.elements?y.elements.length:0,pa;if(l=d.content)for(aa in l)if(ca=l[aa],r.isDefined(ca)){ba=null;for($=0;$<oa;$++)if(pa=y.elements[$],pa.name===aa){ba=pa;break}ba?ba.value=ca:s?y.append(aa,ca):y.appendChild(c.create("input",{type:"hidden",name:aa,value:ca}))}if(n("esri-file-upload"))f.forEach(y.elements,
function(a){a.name===Y&&y.removeChild(a)}),d.contentType=!1,d.postData=s?y:new FormData(y),delete d.form;else{y.enctype="multipart/form-data";9>n("ie")&&(y.encoding="multipart/form-data");y.method="post";f.some(y.elements,function(a){return a.name===Y})||y.appendChild(c.create("input",{type:"hidden",name:Y,value:S}));if(-1!==E.toLowerCase().indexOf("addattachment")||-1!==E.toLowerCase().indexOf("updateattachment"))d.url=E+(-1===E.indexOf("?")?"?":"\x26")+Y+"\x3d"+S,Q&&(d.url=T+"?"+d.url);delete d.content}}if(R&&
!d.hasOwnProperty("withCredentials"))if(s=Q?T:E,-1!==f.indexOf(B.webTierAuthServers,x(s)))d.withCredentials=!0;else if(b.id){var qa=b.id.findServerInfo(s);qa&&qa.webTierAuth&&(d.withCredentials=!0)}d=C?C(d):d;return V?w&&!n("esri-file-upload")?e.send(d):h.post(d):h.get(d)}catch(ya){return w=new k,w.errback(d.error(ya)),w}}function z(a){var b=B._processedCorsServers,d=-1,d=t.canUseXhr(a,!0);-1<d&&B.corsEnabledServers.splice(d,1);b[x(a)]=1;return d}function y(a){var b=B._processedCorsServers;if(B.corsDetection&&
B.useCors)try{var d=x(a);n("esri-cors")&&(a&&-1!==a.toLowerCase().indexOf("/rest/services")&&!t.hasSameOrigin(a,window.location.href)&&!t.canUseXhr(a)&&!b[d])&&(b[d]=-1,h.get({url:a.substring(0,a.toLowerCase().indexOf("/rest/")+6)+"info",content:{f:"json"},failOk:!0,handleAs:"json",headers:{"X-Requested-With":null}}).then(function(c){c?(b[d]=2,t.canUseXhr(a)||B.corsEnabledServers.push(d)):b[d]=1},function(a){b[d]=1}))}catch(c){}}function w(a){C=a}function D(a,d){function c(e){e._pendingDfd=u(a,d,
N,I);if(!e._pendingDfd){e.ioArgs=e._pendingDfd&&e._pendingDfd.ioArgs;var g=Error("Deferred object is missing");g.log=m.isDebug;a._usrDfd=null;e.errback(g);e._pendingDfd=null;return e}e._pendingDfd.addCallback(function(b){e.ioArgs=e._pendingDfd&&e._pendingDfd.ioArgs;a._usrDfd=null;e.callback(b);e._pendingDfd=null}).addErrback(function(c){var g,n,h;c&&(g=c.code,n=c.subcode,h=(h=c.messageCode)&&h.toUpperCase());if(c&&403==g&&(4==n||c.message&&-1<c.message.toLowerCase().indexOf("ssl")&&-1===c.message.toLowerCase().indexOf("permission"))){if(!a._ssl){a._ssl=
a._sslFromServer=!0;a._usrDfd=e;D(a,d);return}}else if(c&&415==c.status){if(z(a.url),!a._err415){a._err415=1;a._usrDfd=e;D(a,d);return}}else if(b.id&&-1!==f.indexOf(b.id._errorCodes,g)&&!b.id._isPublic(a.url)&&!l&&(403!=g||-1===f.indexOf(E,h)&&(!r.isDefined(n)||2==n))){e._pendingDfd=b.id.getCredential(a.url,{token:a._token,error:c});e._pendingDfd.addCallback(function(b){a._token=b.token;a._usrDfd=e;a._credential=b;a._ssl=a._sslFromServer||b.ssl;D(a,d)}).addErrback(function(b){a._usrDfd=null;e.errback(b);
e._pendingDfd=null});return}e.ioArgs=e._pendingDfd&&e._pendingDfd.ioArgs;a._usrDfd=null;e.errback(c);e._pendingDfd=null})}a.url=t.fixUrl(a.url);d=d||{};var e,g=a.form,l=d.disableIdentityLookup,w=d._preLookup,q=!1;if(n("esri-workers")&&!1!==B.useWorkers)if(!0===d.useWorkers||!0===B.useWorkers)q=!0;else if(d.workerOptions){var C=d.workerOptions;if(C.callback||C.worker&&C.worker.worker instanceof Worker)q=!0}var I=g&&g.append,N=g&&(g.elements?f.some(g.elements,function(a){return"file"===a.type}):I),
X=-1!==a.url.toLowerCase().indexOf("token\x3d")||a.content&&a.content.token||N&&f.some(g.elements,function(a){return"token"===a.name})?1:0;y(a.url);if(a._usrDfd)e=a._usrDfd;else{e=new k(s._dfdCanceller);e.addCallback(function(d){/\/sharing\/rest\/accounts\/self/i.test(a.url)&&(!X&&!a._token&&d.user&&d.user.username)&&B.webTierAuthServers.push(x(a.url));if(d=a._credential){var c=b.id.findServerInfo(d.server);if(c=c&&c.owningSystemUrl)c=c.replace(/\/?$/,"/sharing"),(d=b.id.findCredential(c,d.userId))&&
-1===b.id._getIdenticalSvcIdx(c,d)&&d.resources.splice(0,0,c)}});e.addBoth(function(b){delete a._credential;if(b&&(!n("ie")||!b.nodeType))b._ssl=a._ssl});var T=a.load,R=a.error;T&&e.addCallback(function(a){var b=e._pendingDfd,b=b&&b.ioArgs;return T.call(b&&b.args,a,b)});R&&e.addErrback(function(a){var b=e._pendingDfd,b=b&&b.ioArgs;return R.call(b&&b.args,a,b)})}if(b.id&&!X&&!a._token&&!b.id._isPublic(a.url)&&(!l||w))if(g=b.id.findCredential(a.url))a._token=g.token,a._ssl=g.ssl;q?d.workerOptions&&
d.workerOptions.worker?(h=d.workerOptions.worker,c(e)):require(["esri/workers/RequestClient"],function(a){if(d.workerOptions){var b=d.workerOptions;h=a.getClient(b.callback,b.cbFunction)}else h=a.getClient();c(e)}):c(e);return e}var C,B=d.defaults.io,E=["COM_0056","COM_0057"];D._request=u;D._disableCors=z;D._detectCors=y;D.setRequestPreCallback=w;n("extend-esri")&&(b.request=D,b._request=u,b._disableCors=z,b._detectCors=y,b.setRequestPreCallback=w);return D})},"dojo/_base/url":function(){define(["./kernel"],
function(f){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,q=function(){for(var f=arguments,h=[f[0]],g=1;g<f.length;g++)if(f[g]){var e=new q(f[g]+""),h=new q(h[0]+"");if(""==e.path&&!e.scheme&&!e.authority&&!e.query)null!=e.fragment&&(h.fragment=e.fragment),e=h;else if(!e.scheme&&(e.scheme=h.scheme,!e.authority&&(e.authority=h.authority,"/"!=e.path.charAt(0)))){for(var h=(h.path.substring(0,h.path.lastIndexOf("/")+
1)+e.path).split("/"),c=0;c<h.length;c++)"."==h[c]?c==h.length-1?h[c]="":(h.splice(c,1),c--):0<c&&(!(1==c&&""==h[0])&&".."==h[c]&&".."!=h[c-1])&&(c==h.length-1?(h.splice(c,1),h[c-1]=""):(h.splice(c-1,2),c-=2));e.path=h.join("/")}h=[];e.scheme&&h.push(e.scheme,":");e.authority&&h.push("//",e.authority);h.push(e.path);e.query&&h.push("?",e.query);e.fragment&&h.push("#",e.fragment)}this.uri=h.join("");f=this.uri.match(m);this.scheme=f[2]||(f[1]?"":null);this.authority=f[4]||(f[3]?"":null);this.path=
f[5];this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);null!=this.authority&&(f=this.authority.match(k),this.user=f[3]||null,this.password=f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null)};q.prototype.toString=function(){return this.uri};return f._Url=q})},"dojo/io/script":function(){define("../_base/connect ../_base/kernel ../_base/lang ../sniff ../_base/window ../_base/xhr ../dom ../dom-construct ../request/script ../aspect".split(" "),function(f,m,k,q,l,h,g,e,c,a){m.deprecated("dojo/io/script",
"Use dojo/request/script.","2.0");var b={get:function(d){var e,g=this._makeScriptDeferred(d,function(a){e&&e.cancel()}),f=g.ioArgs;h._ioAddQueryToUrl(f);h._ioNotifyStart(g);e=c.get(f.url,{timeout:d.timeout,jsonp:f.jsonp,checkString:d.checkString,ioArgs:f,frameDoc:d.frameDoc,canAttach:function(a){f.requestId=a.id;f.scriptId=a.scriptId;f.canDelete=a.canDelete;return b._canAttach(f)}},!0);a.around(e,"isValid",function(a){return function(d){b._validCheck(g);return a.call(this,d)}});e.then(function(){g.resolve(g)}).otherwise(function(a){g.ioArgs.error=
a;g.reject(a)});return g},attach:c._attach,remove:c._remove,_makeScriptDeferred:function(a,e){var g=h._ioSetArgs(a,e||this._deferredCancel,this._deferredOk,this._deferredError),f=g.ioArgs;f.id=m._scopeName+"IoScript"+(a.callbackSuffix||this._counter++);f.canDelete=!1;f.jsonp=a.callbackParamName||a.jsonp;f.jsonp&&(f.query=f.query||"",0<f.query.length&&(f.query+="\x26"),f.query+=f.jsonp+"\x3d"+(a.frameDoc?"parent.":"")+m._scopeName+".io.script.jsonp_"+f.id+"._jsonpCallback",f.frameDoc=a.frameDoc,f.canDelete=
!0,g._jsonpCallback=this._jsonpCallback,this["jsonp_"+f.id]=g);g.addBoth(function(a){f.canDelete&&(a instanceof Error?b["jsonp_"+f.id]._jsonpCallback=function(){delete b["jsonp_"+f.id];if(f.requestId)m.global[c._callbacksProperty][f.requestId]()}:b._addDeadScript(f))});return g},_deferredCancel:function(a){a.canceled=!0},_deferredOk:function(a){a=a.ioArgs;return a.json||a.scriptLoaded||a},_deferredError:function(a,b){return a},_deadScripts:[],_counter:1,_addDeadScript:function(a){b._deadScripts.push({id:a.id,
frameDoc:a.frameDoc});a.frameDoc=null},_validCheck:function(a){if((a=b._deadScripts)&&0<a.length){for(var c=0;c<a.length;c++)b.remove(a[c].id,a[c].frameDoc),delete b["jsonp_"+a[c].id],a[c].frameDoc=null;b._deadScripts=[]}return!0},_ioCheck:function(a){a=a.ioArgs;return a.json||a.scriptLoaded&&!a.args.checkString?!0:(a=a.args.checkString)&&eval("typeof("+a+") !\x3d 'undefined'")},_resHandle:function(a){b._ioCheck(a)?a.callback(a):a.errback(Error("inconceivable dojo.io.script._resHandle error"))},_canAttach:function(){return!0},
_jsonpCallback:function(a){this.ioArgs.json=a;if(this.ioArgs.requestId)m.global[c._callbacksProperty][this.ioArgs.requestId](a)}};k.setObject("dojo.io.script",b);return b})},"dojo/request/script":function(){define("module ./watch ./util ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(f,m,k,q,l,h,g,e,c,a){function b(a,b){a.canDelete&&s._remove(a.id,b.options.frameDoc,!0)}function d(a){D&&D.length&&(q.forEach(D,function(a){s._remove(a.id,a.frameDoc);
a.frameDoc=null}),D=[]);return a.options.jsonp?!a.data:!0}function n(a){return!!this.scriptLoaded}function r(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function t(a,b){if(this.canDelete){var d=this.response.options;D.push({id:this.id,frameDoc:d.ioArgs?d.ioArgs.frameDoc:d.frameDoc});d.ioArgs&&(d.ioArgs.frameDoc=null);d.frameDoc=null}b?this.reject(b):this.resolve(a)}function s(a,c,e){var g=k.parseArgs(a,k.deepCopy({},c));a=g.url;c=g.options;var f=k.deferred(g,b,
d,c.jsonp?null:c.checkString?r:n,t);l.mixin(f,{id:x+u++,canDelete:!1});c.jsonp&&(RegExp("[?\x26]"+c.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+c.jsonp+"\x3d"+(c.frameDoc?"parent.":"")+x+"_callbacks."+f.id),f.canDelete=!0,w[f.id]=function(a){g.data=a;f.handleResponse(g)});k.notify&&k.notify.emit("send",g,f.promise.cancel);if(!c.canAttach||c.canAttach(f)){var q=s._attach(f.id,a,c.frameDoc);if(!c.jsonp&&!c.checkString)var D=h(q,z,function(a){if("load"===a.type||y.test(q.readyState))D.remove(),
f.scriptLoaded=a})}m(f);return e?f:f.promise}c.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var x=f.id.replace(/[\/\.\-]/g,"_"),u=0,z=c("script-readystatechange")?"readystatechange":"load",y=/complete|loaded/,w=this[x+"_callbacks"]={},D=[];s.get=s;s._attach=function(b,d,c){c=c||a.doc;var e=c.createElement("script");e.type="text/javascript";e.src=d;e.id=b;
e.async=!0;e.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(e)};s._remove=function(a,b,d){e.destroy(g.byId(a,b));w[a]&&(d?w[a]=function(){delete w[a]}:delete w[a])};s._callbacksProperty=x+"_callbacks";return s})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n){k.deprecated("dojo/io/iframe",
"Use dojo/request/iframe.","2.0");h=n._iframeName;h=h.substring(0,h.lastIndexOf("_"));var r=q.delegate(n,{create:function(){return r._frame=n.create.apply(n,arguments)},get:null,post:null,send:function(a){var b,c=l._ioSetArgs(a,function(a){b&&b.cancel()},function(a){var d=null;a=a.ioArgs;try{var c=a.handleAs;"xml"===c||"html"===c?d=b.response.data:(d=b.response.text,"json"===c?d=m.fromJson(d):"javascript"===c&&(d=k.eval(d)))}catch(e){d=e}return d},function(a,b){b.ioArgs._hasError=!0;return a}),g=
c.ioArgs,h="GET",r=e.byId(a.form);a.method&&("POST"===a.method.toUpperCase()&&r)&&(h="POST");a={method:h,handleAs:"json"===a.handleAs||"javascript"===a.handleAs?"text":a.handleAs,form:a.form,query:r?null:a.content,data:r?a.content:null,timeout:a.timeout,ioArgs:g};a.method&&(a.method=a.method.toUpperCase());if(f.ioPublish&&k.publish&&!1!==g.args.ioPublish)var w=d.after(n,"_notifyStart",function(a){a.options.ioArgs===g&&(w.remove(),l._ioNotifyStart(c))},!0);b=n(g.url,a,!0);g._callNext=b._callNext;b.then(function(){c.resolve(c)}).otherwise(function(a){c.ioArgs.error=
a;c.reject(a)});return c},_iframeOnload:g.global[h+"_onload"]});q.setObject("dojo.io.iframe",r);return r})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(f,m,k,q,l,h,g,e){function c(a,b){var d=function(d,c){if("string"==typeof c&&(c=k.byId(c),!c))return new b([]);var e="string"==typeof d?a(d,c):d?d.end&&d.on?d:[d]:[];return e.end&&e.on?e:new b(e)};d.matches=a.match||function(a,b,c){return 0<
d.filter([a],b,c).length};d.filter=a.filter||function(a,b,c){return d(b,c).filter(function(b){return-1<l.indexOf(a,b)})};if("function"!=typeof a){var c=a.search;a=function(a,b){return c(b||document,a)}}return d}m.add("array-extensible",function(){return 1==h.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,b=a.slice,d=a.concat,n=l.forEach,r=function(a,d,c){d=[0].concat(b.call(d,0));c=c||f.global;return function(b){d[0]=b;return a.apply(c,d)}},t=function(a){var b=
this instanceof s&&m("array-extensible");"number"==typeof a&&(a=Array(a));var d=a&&"length"in a?a:arguments;if(b||!d.sort){for(var c=b?this:[],e=c.length=d.length,g=0;g<e;g++)c[g]=d[g];if(b)return c;d=c}h._mixin(d,x);d._NodeListCtor=function(a){return s(a)};return d},s=t,x=s.prototype=m("array-extensible")?[]:{};s._wrap=x._wrap=function(a,b,d){a=new (d||this._NodeListCtor||s)(a);return b?a._stash(b):a};s._adaptAsMap=function(a,b){return function(){return this.map(r(a,arguments,b))}};s._adaptAsForEach=
function(a,b){return function(){this.forEach(r(a,arguments,b));return this}};s._adaptAsFilter=function(a,b){return function(){return this.filter(r(a,arguments,b))}};s._adaptWithCondition=function(a,b,d){return function(){var c=arguments,e=r(a,c,d);if(b.call(d||f.global,c))return this.map(e);this.forEach(e);return this}};n(["slice","splice"],function(b){var d=a[b];x[b]=function(){return this._wrap(d.apply(this,arguments),"slice"==b?this:null)}});n(["indexOf","lastIndexOf","every","some"],function(a){var d=
l[a];x[a]=function(){return d.apply(f,[this].concat(b.call(arguments,0)))}});h.extend(t,{constructor:s,_NodeListCtor:s,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var d=this.map(function(d){return q(d,a,b)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var c=b.call(this,0),e=l.map(arguments,function(a){return b.call(a,
0)});return this._wrap(d.apply(c,e),this)},map:function(a,b){return this._wrap(l.map(this,a,b),this)},forEach:function(a,b){n(this,a,b);return this},filter:function(a){var b=arguments,d=this,c=0;if("string"==typeof a){d=u._filterResult(this,b[0]);if(1==b.length)return d._stash(this);c=1}return this._wrap(l.filter(d,b[c],b[c+1]),this)},instantiate:function(a,b){var d=h.isFunction(a)?a:h.getObject(a);b=b||{};return this.forEach(function(a){new d(b,a)})},at:function(){var a=new this._NodeListCtor(0);
n(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var u=c(e,t);f.query=c(e,function(a){return t(a)});u.load=function(a,b,d){g.load(a,b,function(a){d(c(a,t))})};f._filterQueryResult=u._filterResult=function(a,b,d){return new t(u.filter(a,b,d))};f.NodeList=u.NodeList=t;return u})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d){function n(a){return!this.isFulfilled()}function r(a){return!!this._finished}function t(a,b){if(!b)try{var d=a.options,c=x.doc(x._frame),g=d.handleAs;if("html"!==g){if("xml"===g)if("html"===c.documentElement.tagName.toLowerCase()){e("a",c.documentElement).orphan();var n=c.documentElement.innerText,n=n.replace(/>\s+</g,"\x3e\x3c");a.text=h.trim(n)}else a.data=c;else a.text=c.getElementsByTagName("textarea")[0].value;l(a)}else a.data=c}catch(f){b=f}b?this.reject(b):
this._finished?this.resolve(a):this.reject(Error("Invalid dojo/request/iframe request state"))}function s(a){this._callNext()}function x(a,b,d){var c=q.parseArgs(a,q.deepCreate(y,b),!0);a=c.url;b=c.options;if("GET"!==b.method&&"POST"!==b.method)throw Error(b.method+" not supported by dojo/request/iframe");x._frame||(x._frame=x.create(x._iframeName,z+"();"));a=q.deferred(c,null,n,r,t,s);a._callNext=function(){this._calledNext||(this._calledNext=!0,x._currentDfd=null,x._fireNextRequest())};a._legacy=
d;x._dfdQueue.push(a);x._fireNextRequest();k(a);return d?a:a.promise}var u=f.id.replace(/[\/\.\-]/g,"_"),z=u+"_onload";d.global[z]||(d.global[z]=function(){var d=x._currentDfd;if(d){var c=a.byId(d.response.options.form)||d._tmpForm;if(c){for(var e=d._contentToClean,g=0;g<e.length;g++)for(var n=e[g],f=0;f<c.childNodes.length;f++){var h=c.childNodes[f];if(h.name===n){b.destroy(h);break}}d._originalAction&&c.setAttribute("action",d._originalAction);d._originalMethod&&(c.setAttribute("method",d._originalMethod),
c.method=d._originalMethod);d._originalTarget&&(c.setAttribute("target",d._originalTarget),c.target=d._originalTarget)}d._tmpForm&&(b.destroy(d._tmpForm),delete d._tmpForm);d._finished=!0}else x._fireNextRequest()});var y={method:"POST"};x.create=function(a,e,g){if(d.global[a])return d.global[a];if(d.global.frames[a])return d.global.frames[a];g||(c("config-useXDomain")&&!c("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),
g=c("config-dojoBlankHtmlUrl")||m.toUrl("dojo/resources/blank.html"));e=b.place('\x3ciframe id\x3d"'+a+'" name\x3d"'+a+'" src\x3d"'+g+'" onload\x3d"'+e+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',d.body());return d.global[a]=e};x.doc=function(a){if(a.contentDocument)return a.contentDocument;var b=a.name;if(b){var c=d.doc.getElementsByTagName("iframe");if(a.document&&c[b].contentWindow&&c[b].contentWindow.document)return c[b].contentWindow.document;
if(d.doc.frames[b]&&d.doc.frames[b].document)return d.doc.frames[b].document}return null};x.setSrc=function(a,b,c){a=d.global.frames[a.name];a.contentWindow&&(a=a.contentWindow);try{c?a.location.replace(b):a.location=b}catch(e){}};x._iframeName=u+"_IoIframe";x._notifyStart=function(){};x._dfdQueue=[];x._currentDfd=null;x._fireNextRequest=function(){var c;try{if(!x._currentDfd&&x._dfdQueue.length){do c=x._currentDfd=x._dfdQueue.shift();while(c&&(c.canceled||c.isCanceled&&c.isCanceled())&&x._dfdQueue.length);
if(!c||c.canceled||c.isCanceled&&c.isCanceled())x._currentDfd=null;else{var e=c.response,n=e.options,f=c._contentToClean=[],k=a.byId(n.form),r=q.notify,l=n.data||null,m;!c._legacy&&"POST"===n.method&&!k?k=c._tmpForm=b.create("form",{name:u+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},d.body()):"GET"===n.method&&(k&&-1<e.url.indexOf("?"))&&(m=e.url.slice(e.url.indexOf("?")+1),l=h.mixin(g.queryToObject(m),l));if(k){if(!c._legacy){var s=k;do s=s.parentNode;while(s!==d.doc.documentElement);
s||(k.style.position="absolute",k.style.left="-1000px",k.style.top="-1000px",d.body().appendChild(k));k.name||(k.name=u+"_form")}if(l){var s=function(a,d){b.create("input",{type:"hidden",name:a,value:d},k);f.push(a)},t;for(t in l){var z=l[t];if(h.isArray(z)&&1<z.length)for(m=0;m<z.length;m++)s(t,z[m]);else k[t]?k[t].value=z:s(t,z)}}var y=k.getAttributeNode("action"),P=k.getAttributeNode("method"),H=k.getAttributeNode("target");e.url&&(c._originalAction=y?y.value:null,y?y.value=e.url:k.setAttribute("action",
e.url));if(c._legacy){if(!P||!P.value)P?P.value=n.method:k.setAttribute("method",n.method)}else c._originalMethod=P?P.value:null,P?P.value=n.method:k.setAttribute("method",n.method);c._originalTarget=H?H.value:null;H?H.value=x._iframeName:k.setAttribute("target",x._iframeName);k.target=x._iframeName;r&&r.emit("send",e,c.promise.cancel);x._notifyStart(e);k.submit()}else n="",e.options.data&&(n=e.options.data,"string"!==typeof n&&(n=g.objectToQuery(n))),s=e.url+(-1<e.url.indexOf("?")?"\x26":"?")+n,
r&&r.emit("send",e,c.promise.cancel),x._notifyStart(e),x.setSrc(x._frame,s,!0)}}}catch(I){c.reject(I)}};q.addCommonMethods(x,["GET","POST"]);return x})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(f,m,k,q,l,h,g,e,c){function a(a){return function(b,d,c){return 2==arguments.length?a["string"==typeof d?"get":"set"](b,d):a.set(b,d,c)}}var b=function(a){return 1==a.length&&
"string"==typeof a[0]},d=function(a){var b=a.parentNode;b&&b.removeChild(a)},n=m.NodeList,r=n._adaptWithCondition,t=n._adaptAsForEach,s=n._adaptAsMap;q.extend(n,{_normalize:function(a,b){var d=!0===a.parse;if("string"==typeof a.template){var c=a.templateFunc||f.string&&f.string.substitute;a=c?c(a.template,a):a}c=typeof a;"string"==c||"number"==c?(a=h.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?q._toArray(a.childNodes):[a]):q.isArrayLike(a)?q.isArray(a)||(a=q._toArray(a)):a=[a];d&&(a._runParse=!0);
return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,d,c){if(!(1!=b.nodeType&&"only"==d))for(var e,g=a.length,n=g-1;0<=n;n--){var k=c?this._cloneNode(a[n]):a[n];if(a._runParse&&f.parser&&f.parser.parse){e||(e=b.ownerDocument.createElement("div"));e.appendChild(k);f.parser.parse(e);for(k=e.firstChild;e.firstChild;)e.removeChild(e.firstChild)}n==g-1?h.place(k,b,d):b.parentNode.insertBefore(k,b);b=k}},position:s(g.position),attr:r(a(e),b),style:r(a(c),b),addClass:t(l.add),removeClass:t(l.remove),
toggleClass:t(l.toggle),replaceClass:t(l.replace),empty:t(h.empty),removeAttr:t(e.remove),marginBox:s(g.getMarginBox),place:function(a,b){var d=m(a)[0];return this.forEach(function(a){h.place(a,d,b)})},orphan:function(a){return(a?m._filterResult(this,a):this).forEach(d)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new n;this.map(function(d){m(a,d).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=
arguments,d=this,c=0;if("string"==typeof a){d=m._filterResult(this,b[0]);if(1==b.length)return d._stash(this);c=1}return this._wrap(k.filter(d,b[c],b[c+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var d=0,c;c=this[d];d++)a.length?this._place(a,c,b,0<d):h.empty(c);return this}});return n})},"esri/urlUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/url dojo/io-query esri/kernel esri/config esri/sniff".split(" "),function(f,m,k,q,l,h,g){var e={},c=h.defaults.io,
a=window.location.protocol;"file:"===a&&(a="http:");e.urlToObject=function(a){var d=a.indexOf("?");return-1===d?{path:a,query:null}:{path:a.substring(0,d),query:q.queryToObject(a.substring(d+1))}};e.getProxyUrl=function(a,d){var g=f.isString(a)?0===f.trim(a).toLowerCase().indexOf("https:"):a,h=c.proxyUrl,k,l;if(f.isString(a)&&(l=e.getProxyRule(a)))h=l.proxyUrl;if(!h)throw Error("esri.config.defaults.io.proxyUrl is not set.");g&&(!1!==d&&0!==window.location.href.toLowerCase().indexOf("https:"))&&(g=
h,0!==g.toLowerCase().indexOf("http")&&(g=e.getAbsoluteUrl(g)),g=g.replace(/^http:/i,"https:"),e.canUseXhr(g)&&(h=g,k=1));h=e.urlToObject(h);h._xo=k;return h};e.addProxy=function(a){var d=e.getProxyRule(a),g;d?g=e.urlToObject(d.proxyUrl):c.alwaysUseProxy&&(g=e.getProxyUrl());g&&(d=e.urlToObject(a),a=g.path+"?"+d.path,(g=q.objectToQuery(f.mixin(g.query||{},d.query)))&&(a+="?"+g));return a};e.addProxyRule=function(a){var d=a.urlPrefix=e.urlToObject(a.urlPrefix).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,
"").toLowerCase(),g=c.proxyRules,f,h=g.length,k,l=h;for(f=0;f<h;f++)if(k=g[f].urlPrefix,0===d.indexOf(k)){if(d.length===k)return-1;l=f;break}else 0===k.indexOf(d)&&(l=f+1);g.splice(l,0,a);return l};e.getProxyRule=function(a){var d=c.proxyRules,g=d.length,f=e.urlToObject(a).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),h;for(a=0;a<g;a++)if(0===f.indexOf(d[a].urlPrefix)){h=d[a];break}return h};e.hasSameOrigin=function(a,d,c){a=a.toLowerCase();d=d.toLowerCase();var e=window.location.href.toLowerCase();
a=0===a.indexOf("http")?new k(a):e=new k(e);d=0===d.indexOf("http")?new k(d):f.isString(e)?new k(e):e;return(c||a.scheme===d.scheme)&&a.host===d.host&&a.port===d.port};e.canUseXhr=function(a,d){var n=g("esri-phonegap")?!0:!1,h=e.hasSameOrigin,k=c.corsEnabledServers,l,q=-1;!n&&(g("esri-cors")&&k&&k.length)&&(n=m.some(k,function(d,c){l=0!==f.trim(d).toLowerCase().indexOf("http");return h(a,l?"http://"+d:d)||l&&h(a,"https://"+d)?(q=c,!0):!1}));return d?q:n};e.getAbsoluteUrl=function(b){return f.isString(b)&&
-1===b.indexOf("http://")&&-1===b.indexOf("https://")?0===b.indexOf("//")?a+b:0===b.indexOf("/")?a+"//"+window.location.host+b:l._appBaseUrl+b:b};e.fixUrl=function(b){/^\/\//i.test(b)&&(b=a+b);return b=b.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")};g("extend-esri")&&(f.mixin(l,e),l._getProxyUrl=e.getProxyUrl,l._getProxiedUrl=e.addProxy,l._hasSameOrigin=e.hasSameOrigin,l._canDoXOXHR=e.canUseXhr,l._getAbsoluteUrl=e.getAbsoluteUrl,l.fixUrl=e.fixUrl);return e})},"esri/symbols/MarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base esri/kernel esri/symbols/Symbol".split(" "),
function(f,m,k,q,l,h){f=f(h,{declaredClass:"esri.symbol.MarkerSymbol",angle:0,xoffset:0,yoffset:0,size:12,constructor:function(g){g&&m.isObject(g)&&(this.size="auto"===this.size?this.size:q.pt2px(this.size),this.xoffset=q.pt2px(this.xoffset),this.yoffset=q.pt2px(this.yoffset),this.angle&&(this.angle*=-1))},setAngle:function(g){this.angle=g;return this},setSize:function(g){this.size=g;return this},setOffset:function(g,e){this.xoffset=g;this.yoffset=e;return this},toJson:function(){var g=q.px2pt(this.size),
g=isNaN(g)?void 0:g,e=q.px2pt(this.xoffset),e=isNaN(e)?void 0:e,c=q.px2pt(this.yoffset),c=isNaN(c)?void 0:c;return m.mixin(this.inherited("toJson",arguments),{size:"auto"===this.size?this.size:g,angle:this.angle&&-1*this.angle,xoffset:e,yoffset:c})}});k("extend-esri")&&m.setObject("symbol.MarkerSymbol",f,l);return f})},"esri/symbols/Symbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/lang esri/Color".split(" "),function(f,m,k,q,l,h){f=f(null,{declaredClass:"esri.symbol.Symbol",
color:new h([0,0,0,1]),type:null,constructor:function(g){if(g&&m.isObject(g)&&(m.mixin(this,g),this.color&&l.isDefined(this.color[0])&&(this.color=h.toDojoColor(this.color)),(g=this.type)&&0===g.indexOf("esri")))this.type={esriSMS:"simplemarkersymbol",esriPMS:"picturemarkersymbol",esriSLS:"simplelinesymbol",esriCLS:"cartographiclinesymbol",esriSFS:"simplefillsymbol",esriPFS:"picturefillsymbol",esriTS:"textsymbol",esriSHD:"shieldlabelsymbol"}[g]},setColor:function(g){this.color=g;return this},toJson:function(){return{color:h.toJsonColor(this.color)}}});
k("extend-esri")&&m.setObject("symbol.Symbol",f,q);return f})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","esri/kernel"],function(f,m,k,q){f=f([m],{declaredClass:"esri.Color"});f.toJsonColor=function(g){return g&&[g.r,g.g,g.b,1<g.a?g.a:Math.round(255*g.a)]};f.toDojoColor=function(g){return g&&new m([g[0],g[1],g[2],g[3]/255])};var l,h="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(l=0;l<h.length;l++)f[h[l]]=m[h[l]];k("extend-esri")&&
(q.Color=f);return f})},"esri/symbols/SimpleMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base esri/kernel esri/lang esri/symbols/MarkerSymbol esri/symbols/SimpleLineSymbol".split(" "),function(f,m,k,q,l,h,g,e,c){var a={STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"},b={style:a.STYLE_CIRCLE,color:[255,255,255,0.25],size:12,angle:0,xoffset:0,yoffset:0};
f=f(e,{declaredClass:"esri.symbol.SimpleMarkerSymbol",type:"simplemarkersymbol",_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},constructor:function(d,e,f,h){d?m.isString(d)?(this.style=d,e&&(this.size=e),f&&(this.outline=f),h&&(this.color=h)):(this.style=g.valueOf(this._styles,this.style),d.outline&&(this.outline=new c(d.outline))):(m.mixin(this,b),this.size=l.pt2px(this.size),this.outline=new c(this.outline),this.color=
new k(this.color));this.style||(this.style=a.STYLE_CIRCLE)},setStyle:function(a){this.style=a;return this},setPath:function(b){this.path=b;this.setStyle(a.STYLE_PATH);return this},setOutline:function(a){this.outline=a;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return this.color},_setDim:function(a,b,c){this._targetWidth=a;this._targetHeight=b;this._spikeSize=c},getShapeDescriptors:function(){var d,c,e,g=this.style,f=(this.size||l.pt2px(b.size))/
2,h=0-f,k=0+f,q=0-f,m=0+f;switch(g){case a.STYLE_CIRCLE:d={type:"circle",cx:0,cy:0,r:f};c=this.getFill();if(e=this.getStroke())e.style=e.style||"Solid";break;case a.STYLE_CROSS:d={type:"path",path:"M "+h+",0 L "+k+",0 M 0,"+q+" L 0,"+m+" E"};c=null;e=this.getStroke();break;case a.STYLE_DIAMOND:d={type:"path",path:"M "+h+",0 L 0,"+q+" L "+k+",0 L 0,"+m+" L "+h+",0 E"};c=this.getFill();e=this.getStroke();break;case a.STYLE_SQUARE:d={type:"path",path:"M "+h+","+m+" L "+h+","+q+" L "+k+","+q+" L "+k+
","+m+" L "+h+","+m+" E"};c=this.getFill();e=this.getStroke();break;case a.STYLE_X:d={type:"path",path:"M "+h+","+m+" L "+k+","+q+" M "+h+","+q+" L "+k+","+m+" E"};c=null;e=this.getStroke();break;case a.STYLE_PATH:d={type:"path",path:this.path||""},c=this.getFill(),e=this.getStroke()}return{defaultShape:d,fill:c,stroke:e}},toJson:function(){var a=m.mixin(this.inherited("toJson",arguments),{type:"esriSMS",style:this._styles[this.style]}),b=this.outline;b&&(a.outline=b.toJson());a.path=this.path;return g.fixJson(a)}});
m.mixin(f,a);f.defaultProps=b;q("extend-esri")&&(m.setObject("symbol.SimpleMarkerSymbol",f,h),h.symbol.defaultSimpleMarkerSymbol=b);return f})},"esri/symbols/SimpleLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base esri/kernel esri/lang esri/symbols/LineSymbol".split(" "),function(f,m,k,q,l,h,g,e){var c={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_SHORTDASH:"shortdash",
STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot"},a={color:[0,0,0,1],style:c.STYLE_SOLID,width:1};f=f(e,{declaredClass:"esri.symbol.SimpleLineSymbol",type:"simplelinesymbol",_styles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot",dashdot:"esriSLSDashDot",longdashdotdot:"esriSLSDashDotDot",none:"esriSLSNull",insideframe:"esriSLSInsideFrame",shortdash:"esriSLSShortDash",shortdot:"esriSLSShortDot",
shortdashdot:"esriSLSShortDashDot",shortdashdotdot:"esriSLSShortDashDotDot",longdash:"esriSLSLongDash",longdashdot:"esriSLSLongDashDot"},constructor:function(b,d,e){b?m.isString(b)?(this.style=b,d&&(this.color=d),e&&(this.width=e)):this.style=g.valueOf(this._styles,b.style)||c.STYLE_SOLID:(m.mixin(this,a),this.color=new k(this.color),this.width=l.pt2px(this.width))},setStyle:function(a){this.style=a;return this},getStroke:function(){return this.style===c.STYLE_NULL||0===this.width?null:{color:this.color,
style:this.style,width:this.width}},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){return g.fixJson(m.mixin(this.inherited("toJson",arguments),{type:"esriSLS",style:this._styles[this.style]}))}});m.mixin(f,c);f.defaultProps=a;q("extend-esri")&&(m.setObject("symbol.SimpleLineSymbol",f,h),h.symbol.defaultSimpleLineSymbol=a);return f})},"esri/symbols/LineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base esri/kernel esri/symbols/Symbol".split(" "),
function(f,m,k,q,l,h){f=f(h,{declaredClass:"esri.symbol.LineSymbol",constructor:function(g){m.isObject(g)?this.width=q.pt2px(this.width):this.width=12},setWidth:function(g){this.width=g;return this},toJson:function(){var g=q.px2pt(this.width),g=isNaN(g)?void 0:g;return m.mixin(this.inherited("toJson",arguments),{width:g})}});k("extend-esri")&&m.setObject("symbol.LineSymbol",f,l);return f})},"esri/layers/TileInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/lang esri/SpatialReference esri/geometry/Point esri/layers/LOD".split(" "),
function(f,m,k,q,l,h,g,e,c){f=f(null,{declaredClass:"esri.layers.TileInfo",constructor:function(a){m.mixin(this,a);this.width=this.cols;this.height=this.rows;a=this.spatialReference;var b=this.origin;a&&(a=this.spatialReference=new g(a.toJson?a.toJson():a));b&&(this.origin=new e(b.toJson?b.toJson():b),!b.spatialReference&&a&&this.origin.setSpatialReference(new g(a.toJson())));this.lods=k.map(this.lods,function(a){return new c(a)})},toJson:function(){return h.fixJson({rows:this.rows,cols:this.cols,
dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin&&this.origin.toJson(),spatialReference:this.spatialReference&&this.spatialReference.toJson(),lods:this.lods&&k.map(this.lods,function(a){return a.toJson()})})}});q("extend-esri")&&m.setObject("layers.TileInfo",f,l);return f})},"esri/layers/LOD":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(f,m,k,q,l){f=f(null,{declaredClass:"esri.layers.LOD",constructor:function(f){m.mixin(this,
f)},toJson:function(){return l.fixJson({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}});k("extend-esri")&&m.setObject("layers.LOD",f,q);return f})},"esri/layers/ArcGISTiledMapServiceLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has dojo/io-query esri/kernel esri/urlUtils esri/SpatialReference esri/layers/TiledMapServiceLayer esri/layers/ArcGISMapServiceLayer esri/layers/TileInfo esri/layers/TimeInfo esri/layers/TileMap".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t){m=m([b,d],{declaredClass:"esri.layers.ArcGISTiledMapServiceLayer",_agolAttrs:["ocean/world_ocean_base","ocean_basemap","world_imagery","world_street_map","world_topo_map"],constructor:function(a,b){b&&(b.roundrobin&&(f.deprecated(this.declaredClass+" : Constructor option 'roundrobin' deprecated. Use option 'tileServers'."),b.tileServers=b.roundrobin),this._setTileServers(b.tileServers),this._loadCallback=b.loadCallback);this._params=k.mixin({},this._url.query);
var d=q.some(["servicesdev.arcgisonline.com/arcgis/rest/services","services.arcgisonline.com/arcgis/rest/services","servicesqa.arcgisonline.com/arcgis/rest/services"],function(b){return-1<a.toLowerCase().indexOf(b.toLowerCase())});if((this.resampling=b&&b.resampling||(!b||!1!==b.resampling)&&d)&&d)this.tileMap=new t(this);this._initLayer=k.hitch(this,this._initLayer);(d=b&&b.resourceInfo)?this._initLayer(d):(this._load=k.hitch(this,this._load),this._load())},_TILE_FORMATS:{PNG:"png",PNG8:"png",PNG24:"png",
PNG32:"png",JPG:"jpg",JPEG:"jpg",GIF:"gif"},_setTileServers:function(a){if(a&&0<a.length){this.tileServers=a;var b,d=a.length;for(b=0;b<d;b++)a[b]=c.urlToObject(a[b]).path}},_initLayer:function(b,d){this.inherited(arguments);this.resourceInfo=l.toJson(b);this.tileInfo=new n(b.tileInfo);!this.spatialReference&&this.tileInfo.spatialReference&&(this.spatialReference=new a(this.tileInfo.spatialReference.toJson()));this.isPNG32="PNG24"===this.tileInfo.format||"PNG32"===this.tileInfo.format;b.timeInfo&&
(this.timeInfo=new r(b.timeInfo));var c=this._url.path,e=this._loadCallback,g="file:"===window.location.protocol?"http:":window.location.protocol,f=c.match(/^https?\:\/\/(server|services)\.arcgisonline\.com\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i),f=f&&f[2];if(!this.tileServers)if(b.tileServers)this._setTileServers(b.tileServers);else{var h=-1!==c.search(/^https?\:\/\/server\.arcgisonline\.com/i),k=-1!==c.search(/^https?\:\/\/services\.arcgisonline\.com/i);if(h||k)this._setTileServers([c,
c.replace(h?/server\.arcgisonline/i:/services\.arcgisonline/i,h?"services.arcgisonline":"server.arcgisonline")])}f&&-1!==q.indexOf(this._agolAttrs,f.toLowerCase())&&(this.hasAttributionData=!0,this.attributionDataUrl=this.attributionDataUrl||g+"//static.arcgis.com/attribution/"+f);this.loaded=!0;this.onLoad(this);e&&(delete this._loadCallback,e(this))},getTileUrl:function(a,b,d){var e=this.tileServers,f=this._getToken(),n=this._url.query;a=(e?e[b%e.length]:this._url.path)+"/tile/"+a+"/"+b+"/"+d;this.resampling&&
!this.tileMap&&(a+="?blankTile\x3dfalse");n&&(a=this.resampling&&!this.tileMap?a+("\x26"+g.objectToQuery(n)):a+("?"+g.objectToQuery(n)));if(f&&(!n||!n.token))a+=(-1===a.indexOf("?")?"?":"\x26")+"token\x3d"+f;a=this.addTimestampToURL(a);return c.addProxy(a)}});h("extend-esri")&&k.setObject("layers.ArcGISTiledMapServiceLayer",m,e);return m})},"esri/layers/TiledMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/url dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojox/collections/ArrayList dojox/gfx/matrix esri/kernel esri/config esri/sniff esri/domUtils esri/tileUtils esri/geometry/Point esri/geometry/Rect esri/layers/layer".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z){var y=n.defaults.map.zoomDuration;f=f(z,{declaredClass:"esri.layers.TiledMapServiceLayer",constructor:function(a,b){m.connect(this,"onLoad",this,"_initTiledLayer");this._lowestLevel=(this._displayLevels=b?b.displayLevels:null)?this._displayLevels[0]:0;this.resampling=b?b.resampling:!1;this._resamplingTolerance=b?b.resamplingTolerance:null;var d=k.hitch;this._addImage=d(this,this._addImage);this._tileLoadHandler=d(this,this._tileLoadHandler);this._tileErrorHandler=
d(this,this._tileErrorHandler);this._tilePopPop=d(this,this._tilePopPop);this._cleanUpRemovedImages=d(this,this._cleanUpRemovedImages);this._fireOnUpdateEvent=d(this,this._fireOnUpdateEvent);this._transitionEnd=d(this,this._transitionEnd);this._tileMapCallback=d(this,this._tileMapCallback)},opacity:1,isPNG32:!1,_multiple:1,_initTiledLayer:function(){var a=this.tileInfo,b=a.lods;this._tileW=a.width;this._tileH=a.height;var d=this.scales=[],c=this._displayLevels,e="esri.layers.WMTSLayer"===this.declaredClass&&
96!=a.dpi,g=-Infinity,f=Infinity,n=this.fullExtent,h=new x(n.xmin,n.ymax),n=new x(n.xmax,n.ymin),k=s.getContainingTileCoords,l,m,t,u=b.length;for(t=0;t<u;t++)if(m=b[t],e&&(m.scale=96*m.scale/a.dpi),l=k(a,h,m),m.startTileRow=0>l.row?0:l.row,m.startTileCol=0>l.col?0:l.col,l=k(a,n,m),m.endTileRow=l.row,m.endTileCol=l.col,!c||-1!==q.indexOf(c,m.level))d[t]=m.scale,g=m.scale>g?m.scale:g,f=m.scale<f?m.scale:f;e&&(a.dpi=96);-Infinity!==g&&!this._hasMin&&this.setMinScale(g);Infinity!==f&&!this._hasMax&&this.setMaxScale(f);
this._patchIE=6<=r("ie")&&7>r("ie")&&(this.isPNG32||"Mixed"===a.format)},_isMapAtVisibleScale:function(){var a=this.inherited(arguments);if(a){var b;b=this._map;var a=this.scales,d=b.getScale(),c=!1,e=b.width>b.height?b.width:b.height;for(b=0;b<a.length;b++)if(Math.abs(a[b]-d)/a[b]<1/e){c=!0;break}a=c}return a},_setMap:function(a,b,e,g){this.inherited(arguments);this._map=a;var f=this._div=h.create("div",null,b),n=a.__visibleDelta,k=m.connect,r=d._css.names,l={position:"absolute",width:a.width+"px",
height:a.height+"px",overflow:"visible"};"css-transforms"===a.navigationMode?(l[r.transform]=d._css.translate(-n.x,-n.y),c.set(f,l),delete l[r.transform],l[r.transition]=r.transformName+" "+y+"ms ease",c.set(this._active=h.create("div",null,f),l),this._active._remove=0,this._passives=[]):(l.left=-n.x+"px",l.top=-n.y+"px",c.set(f,l));this._onResizeHandler_connect=k(a,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=k(this,"onOpacityChange",this,"_opacityChangeHandler");n=this.tileInfo;
k=n.spatialReference;r=k._getInfo();(this._wrap=a.wrapAround180&&k._isWrappable()&&Math.abs(r.origin[0]-n.origin.x)<=r.dx)&&s._addFrameInfo(n,r);this.evaluateSuspension();if(this.suspended&&!a.loaded)var q=m.connect(a,"onLoad",this,function(){m.disconnect(q);q=null;this.evaluateSuspension()});return f},_unsetMap:function(a,b){this.suspended||this._suspendImpl();h.destroy(this._div);this._map=this._div=null;var d=m.disconnect;d(this._onResizeHandler_connect);d(this._opacityChangeHandler_connect);this.inherited(arguments)},
onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspendImpl:function(){t.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();var a=this._tiles,b=this._tileIds,d=this._loadingList,c,e,g=m.disconnect,f=h.destroy;d&&0<d.count&&(d.forEach(function(b){if(c=a[b])g(c._onload_connect),g(c._onerror_connect),g(c._onabort_connect),c._onload_connect=c._onerror_connect=c._onabort_connect=null}),d.clear(),this._fireUpdateEnd());this._removeList.clear();
for(d=b.length-1;0<=d;d--)(c=(e=b[d])&&a[e])&&f(c);if("css-transforms"===this._map.navigationMode){b=this._active;e=this._passives;var n;this._noDom=0;for(d=e.length-1;0<=d;d--)n=e[d],n._endHandle&&g(n._endHandle),n._matrix=n._multiply=n._endHandle=null,n._marked=n._remove=0,e.splice(d,1),f(n);b._matrix=b._multiply=null;b._marked=b._remove=0}this._tileIds=this._tiles=this._tileBounds=this._ct=this._loadingList=this._removeList=this._standby=null},onResume:function(){this.inherited(arguments);this._tileIds=
[];this._tiles=[];this._tileBounds=[];this._ct=null;this._removeList=new a;this._loadingList=new a;t.show(this._div);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(k.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}),0)},_enableDrawConnectors:function(){var a=this._map,b=m.connect;if("css-transforms"===a.navigationMode){if(this._onScaleHandler_connect=b(a,"onScale",this,this._onScaleHandler),r("esri-touch")||r("esri-pointer")){this._standby=
[];var d=this,c=function(){d._noDom=1};this._onPanStartHandler_connect=b(a,"onPanStart",c);this._onZoomStartHandler_connect=b(a,"onZoomStart",c)}}else this._onZoomHandler_connect=b(a,"onZoom",this,"_onZoomHandler");this._onPanHandler_connect=b(a,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=b(a,"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var a=m.disconnect;a(this._onPanHandler_connect);a(this._onZoomHandler_connect);a(this._onScaleHandler_connect);
a(this._onExtentChangeHandler_connect);a(this._onPanStartHandler_connect);a(this._onZoomStartHandler_connect);this._onPanHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=this._onExtentChangeHandler_connect=this._onPanStartHandler_connect=this._onZoomStartHandler_connect=null},_onResizeHandler:function(a,b,d){a={width:b+"px",height:d+"px"};b=c.set;b(this._div,a);if("css-transforms"===this._map.navigationMode){this._active&&b(this._active,a);for(d=this._passives.length-1;0<=
d;d--)b(this._passives[d],a)}},_onExtentChangeHandler:function(a,g,f,n){g=this._map;var k=this._standby,r;clearTimeout(this._wakeTimer);this._wakeTimer=null;if(!g._isPanningOrZooming()){if("css-transforms"===g.navigationMode){if(f)for(n=this._passives.length-1;0<=n;n--)r=this._passives[n],c.set(r,d._css.names.transition,"none"),r._marked?(this._passives.splice(n,1),r.parentNode&&r.parentNode.removeChild(r),h.destroy(r)):0<r.childNodes.length&&(r._multiply=r._multiply?b.multiply(r._matrix,r._multiply):
r._matrix);this._noDom=0;if(k&&k.length)for(n=k.length-1;0<=n;n--)r=k[n],c.set(r,"visibility","visible"),this._tilePopPop(r),k.splice(n,1)}this._fireUpdateStart();this._rrIndex=0;n=s.getCandidateTileInfo(g,this.tileInfo,a);a=g.__visibleDelta;if(!this._ct||n.lod.level!==this._ct.lod.level||f){r=n&&this._ct&&n.lod.level!==this._ct.lod.level;this._ct=n;var l=this._tiles,q=this._tileIds,m=this._tileBounds,t=this._removeList,x,z=q.length;this._cleanUpRemovedImages();for(n=0;n<z;n++)k=q[n],x=l[k],m[k]=
q[n]=null,"css-transforms"===g.navigationMode&&(r&&x.parentNode&&g.fadeOnZoom)&&(x._fadeOut=r,x.parentNode._remove++),t.add(x);f&&(this._tileIds=[],this._tiles=[],this._tileBounds=[])}n=a.x;f=a.y;"css-transforms"===g.navigationMode?(k={},k[d._css.names.transform]=d._css.translate(n,f),c.set(this._div,k)):c.set(this._div,{left:n+"px",top:f+"px"});this.__coords_dx=n;this.__coords_dy=f;this._updateImages(new u(0,0,a.width,a.height));0===this._loadingList.count?(this.onUpdate(),this._fireUpdateEnd()):
this._fireOnUpdate=!0;f=this._tileW;l=this._tileH;a=new u(-a.x,-a.y,a.width,a.height);for(n=this._tileIds.length-1;0<=n;n--)(k=this._tileIds[n])?(r=this._tiles[k],q=e.getMarginBox(r),q=new u(q.l,q.t,f,l),"css-transforms"===g.navigationMode&&(q.x=r._left,q.y=r._top),a.intersects(q)?this._tileBounds[k]=q:(this._loadingList.contains(k)&&this._tilePopPop(r),h.destroy(r),this._tileIds.splice(n,1),delete this._tileBounds[k],delete this._tiles[k])):(this._tileIds.splice(n,1),delete this._tileBounds[k],delete this._tiles[k])}},
_onPanHandler:function(a,b){var e=this._map,g=e.__visibleDelta.offset(b.x,b.y);this.__coords_dx=this.__coords_dy=0;"css-transforms"===e.navigationMode?(e={},e[d._css.names.transform]=d._css.translate(g.x,g.y),c.set(this._div,e),!r("esri-touch")&&!r("esri-pointer")&&this._updateImages({x:-g.x,y:-g.y,width:g.width,height:g.height})):(c.set(this._div,{left:g.x+"px",top:g.y+"px"}),this._updateImages({x:-g.x,y:-g.y,width:g.width,height:g.height}));0<this._loadingList.count&&(this._fireUpdateStart(),this._fireOnUpdate=
!0)},_onScaleHandler:function(a,e){var g,f={},n=d._css.names,k=this._map;for(g=this._passives.length-1;0<=g;g--){var r=this._passives[g];0===r.childNodes.length?(this._passives.splice(g,1),h.destroy(r)):("none"===r.style[n.transition]&&c.set(r,n.transition,n.transformName+" "+y+"ms ease"),c.set(r,n.transition,e?"none":n.transformName+" "+y+"ms ease"),r._matrix=a,f[n.transform]=d._css.matrix(r._multiply?b.multiply(a,r._multiply):a),c.set(r,f))}this._active&&0===this._active.childNodes.length||(c.set(this._active,
n.transition,e?"none":n.transformName+" "+y+"ms ease"),this._active._matrix=a,f[n.transform]=d._css.matrix(this._active._matrix),c.set(this._active,f),this._passives.push(this._active),f={position:"absolute",width:k.width+"px",height:k.height+"px",overflow:"visible"},f[n.transition]=n.transformName+" "+y+"ms ease",c.set(this._active=h.create("div",null,this._div),f),this._active._remove=0,k.fadeOnZoom&&h.place(this._active,this._div,"first"))},_onZoomHandler:function(a,b,d){a=e.getMarginBox(this._div);
d=d.offset(-a.l,-a.t);if(!this._previousScale||1===b)this._previousScale=1;var g,f=this._tileW*b,n=this._tileH*b,h=this._tileBounds,k=this._tiles,l=this._previousScale,m=this._multiple,s=c.set,t,u;if((a=r("ie"))&&8>a)q.forEach(this._tileIds,function(a){u="";g=h[a];t=k[a].style.margin.split(" ");q.forEach(t,function(a){""!==u&&(u+=" ");a=parseFloat(a);u+=a/l*b+"px"});s(k[a],{left:g.x-(f-g.width)*(d.x-g.x)/g.width+"px",top:g.y-(n-g.height)*(d.y-g.y)/g.height+"px",margin:1!==m&&-1===u.indexOf("NaN")?
u:"",zoom:b})});else{var x=f*m,z=n*m,y,X;q.forEach(this._tileIds,function(a){u="";g=h[a];y=g.x-(f-g.width)*(d.x-g.x)/g.width;X=g.y-(n-g.height)*(d.y-g.y)/g.height;t=k[a].style.margin.split(" ");q.forEach(t,function(a){""!==u&&(u+=" ");a=parseFloat(a);u+=a/l*b+"px"});s(k[a],{left:y+"px",top:X+"px",margin:1!==m&&-1===u.indexOf("NaN")?u:"",width:x+"px",height:z+"px"})})}this._previousScale=b},_updateImages:function(a){if(this._ct){var b,d=this._tileW,c=this._tileH,e=this._ct;b=e.lod;var e=e.tile,g=e.offsets,
f=e.coords,n=f.row,f=f.col,h=b.level,k=this.opacity,r=this._tileIds,l=this._loadingList,m=this._addImage,s=this._map.id,t=this.id,u=a.x,x=a.y,z=b.startTileRow,y=b.endTileRow,U=b.startTileCol,V=b.endTileCol,W=q.indexOf,Q,O,Z=g.x-this.__coords_dx,Y=g.y-this.__coords_dy;O=d-Z+-a.x;var S=c-Y+-a.y;Q=Math.ceil;O=0<O?O%d:d-Math.abs(O)%d;S=0<S?S%c:c-Math.abs(S)%c;u=0<u?Math.floor((u+Z)/d):Q((u-(d-Z))/d);x=0<x?Math.floor((x+Y)/c):Q((x-(c-Y))/c);Y=u+Q((a.width-O)/d);a=x+Q((a.height-S)/c);var aa,ba,ca;this._wrap&&
(aa=b._frameInfo,ba=aa[0],ca=aa[1],aa=aa[2]);for(S=u;S<=Y;S++)for(u=x;u<=a;u++)Q=n+u,O=f+S,this._wrap&&(O<ca?(O%=ba,O=O<ca?O+ba:O):O>aa&&(O%=ba)),Q>=z&&(Q<=y&&O>=U&&O<=V)&&(b=s+"_"+t+"_tile_"+h+"_"+u+"_"+S,-1===W(r,b)&&(l.add(b),r.push(b),m(h,u,Q,S,O,b,d,c,k,e,g)))}},_cleanUpRemovedImages:function(){var a=this._removeList,b=h.destroy,e,g=d._css.names;a.forEach(function(a){a._fadeOut||(a.style.filter="",a.style.zoom=1,b(a))});if("css-transforms"===this._map.navigationMode)for(e=this._passives.length-
1;0<=e;e--){var f=this._passives[e];0===f.childNodes.length?(this._passives.splice(e,1),b(f)):this._map.fadeOnZoom&&(!f._marked&&f._remove===f.childNodes.length)&&(c.set(f,g.transition,"opacity 0.65s"),c.set(f,"opacity",0),f._marked=1,10<=r("ie")?f.addEventListener(g.endEvent,this._transitionEnd,!1):f._endHandle=m.connect(f,g.endEvent,this._transitionEnd))}a.clear()},_transitionEnd:function(a){var b=a.target;"opacity"===a.propertyName&&(10<=r("ie")?b.removeEventListener(d._css.names.endEvent,this._transitionEnd,
!1):(m.disconnect(b._endHandle),b._endHandle=null),a=q.indexOf(this._passives,b),-1<a&&this._passives.splice(a,1),b.parentNode&&b.parentNode.removeChild(b),h.destroy(b))},_addImage:function(a,b,e,f,n,r,l,q,s,t,u){if(this._patchIE)t=this._tiles[r]=h.create("div"),t.id=r,g.add(t,"layerTile"),c.set(t,{left:l*f-u.x+"px",top:q*b-u.y+"px",width:l+"px",height:q+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this.getTileUrl(a,e,n)+"', sizingMethod\x3d'scale')"}),1>s&&c.set(t,"opacity",
s),a=t.appendChild(h.create("div")),c.set(a,{opacity:0,width:l+"px",height:q+"px"}),this._div.appendChild(t),this._loadingList.remove(r),this._fireOnUpdateEvent();else{t=this._tiles[r]=h.create("img");var x=m.connect;t.id=r;g.add(t,"layerTile");f=l*f-u.x;u=q*b-u.y;b=this._map;var z=d._css.names;l={width:l+"px",height:q+"px",visibility:"hidden"};"css-transforms"===b.navigationMode?(l[z.transform]=d._css.translate(f,u),c.set(t,l),t._left=f,t._top=u):(l.left=f+"px",l.top=u+"px",c.set(t,l));1>s&&c.set(t,
"opacity",s);t._onload_connect=x(t,"onload",this,"_tileLoadHandler");t._onerror_connect=x(t,"onerror",k.hitch(this,"_tileErrorHandler",e,n));t._onabort_connect=x(t,"onabort",this,"_tileAbortHandler");if(this.tileMap)this.tileMap.getTile(a,e,n,r,this._tileMapCallback);else if(r=this.getTileUrl(a,e,n,t))this._failedRequests&&this._failedRequests[r]?(c.set(t,this._failedRequests[r].css),t.src=this._failedRequests[r].src,this._multiple=parseInt(this._failedRequests[r].css.width)/this._tileW):(this._multiple=
1,t.src=r);"css-transforms"===b.navigationMode?this._active.appendChild(t):this._div.appendChild(t)}},_tileMapCallback:function(a,b){var d,e;this._tiles[b.id]&&(this._multiple=2*(b.level-a.level)||1,e=this._tiles[b.id],d=this.tileMap.style(a,b),c.set(e,d),e.src=this.getTileUrl(a.level,a.row,a.col))},getTileUrl:function(a,b,d){},_reCheckTS:/[\?\&]_ts=/ig,_reReplaceTS:/([\?\&]_ts=)[0-9]+/ig,addTimestampToURL:function(a){var b=this._refreshTS;b&&(a=this._reCheckTS.test(a)?a.replace(this._reReplaceTS,
"$$$1"+b):a+((-1===a.indexOf("?")?"?":"\x26")+"_ts\x3d"+b));return a},refresh:function(){this.suspended||(this._refreshTS=(new Date).getTime(),this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD))},_tilePopPop:function(a){var b=m.disconnect;b(a._onload_connect);b(a._onerror_connect);b(a._onabort_connect);a._onload_connect=a._onerror_connect=a._onabort_connect=null;this._loadingList.remove(a.id);this._fireOnUpdateEvent()},_tileLoadHandler:function(a){a=a.currentTarget;this._noDom?
this._standby.push(a):(c.set(a,"visibility","visible"),this._tilePopPop(a))},_tileAbortHandler:function(a){a=a.currentTarget;this.onError(Error("Unable to load tile: "+a.src));c.set(a,"visibility","hidden");this._tilePopPop(a)},_tileErrorHandler:function(a,b,d){d=d.currentTarget;var e,g,f=!0;if(this.tileMap||!this.resampling)f=!1;else if(e=new l(d.src),e=e.path.split("/"),e=parseInt(e[e.length-3]),g=this._ct.lod.level-e+1,this._multiple=Math.pow(2,g),e===this._lowestLevel||0===this._resamplingTolerance||
this._resamplingTolerance&&Math.log(this._multiple)/Math.LN2>this._resamplingTolerance)f=!1;f?this._resample(d,a,b):(this.onError(Error("Unable to load tile: "+d.src)),c.set(d,"visibility","hidden"),this._tilePopPop(d))},_resample:function(a,b,d){var e=(new l(a.src)).path.split("/"),g=this._multiple,f=parseInt(e[e.length-3])-1,n=parseInt(b/g),h=parseInt(d/g),e=d%g,k=b%g,n=this.getTileUrl(f,n,h);b=this.getTileUrl(f+Math.log(g)/Math.LN2,b,d);g={width:this._tileW*g+"px",height:this._tileH*g+"px",margin:"-"+
this._tileW*k+"px 0 0 "+("-"+this._tileH*e+"px")};this._failedRequests||(this._failedRequests={});this._failedRequests[b]={src:n,css:g};c.set(a,g);r("chrome")&&a.setAttribute("src",null);a.src=n},_fireOnUpdateEvent:function(){0===this._loadingList.count&&(this._cleanUpRemovedImages(),this._fireOnUpdate&&(this._fireOnUpdate=!1,this.onUpdate(),this._fireUpdateEnd()))},setOpacity:function(a){if(this.opacity!=a)this.onOpacityChange(this.opacity=a)},onOpacityChange:function(){},_opacityChangeHandler:function(a){var b=
c.set,d,e,g;if("css-transforms"===this._map.navigationMode){if(this._active){g=this._active.childNodes;for(d=g.length-1;0<=d;d--)b(g[d],"opacity",a)}for(d=this._passives.length-1;0<=d;d--){g=this._passives[d].childNodes;for(e=g.length-1;0<=e;e--)b(g[e],"opacity",a)}}else{g=this._div.childNodes;for(d=g.length-1;0<=d;d--)b(g[d],"opacity",a)}}});r("extend-esri")&&k.setObject("layers.TiledMapServiceLayer",f,d);return f})},"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel","dojo/_base/array",
"./_base"],function(f,m,k){k.ArrayList=function(q){var l=[];q&&(l=l.concat(q));this.count=l.length;this.add=function(f){l.push(f);this.count=l.length};this.addRange=function(f){if(f.getIterator)for(f=f.getIterator();!f.atEnd();)this.add(f.get());else for(var g=0;g<f.length;g++)l.push(f[g]);this.count=l.length};this.clear=function(){l.splice(0,l.length);this.count=0};this.clone=function(){return new k.ArrayList(l)};this.contains=function(f){for(var g=0;g<l.length;g++)if(l[g]==f)return!0;return!1};
this.forEach=function(h,g){f.forEach(l,h,g)};this.getIterator=function(){return new k.Iterator(l)};this.indexOf=function(f){for(var g=0;g<l.length;g++)if(l[g]==f)return g;return-1};this.insert=function(f,g){l.splice(f,0,g);this.count=l.length};this.item=function(f){return l[f]};this.remove=function(f){f=this.indexOf(f);0<=f&&l.splice(f,1);this.count=l.length};this.removeAt=function(f){l.splice(f,1);this.count=l.length};this.reverse=function(){l.reverse()};this.sort=function(f){f?l.sort(f):l.sort()};
this.setByIndex=function(f,g){l[f]=g;this.count=l.length};this.toArray=function(){return[].concat(l)};this.toString=function(f){return l.join(f||",")}};return k.ArrayList})},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(f,m,k){f=m.getObject("dojox.collections",!0);f.DictionaryEntry=function(f,k){this.key=f;this.value=k;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};f.Iterator=function(f){var l=
0;this.element=f[l]||null;this.atEnd=function(){return l>=f.length};this.get=function(){return this.atEnd()?null:this.element=f[l++]};this.map=function(h,g){return k.map(f,h,g)};this.reset=function(){l=0;this.element=f[l]}};f.DictionaryIterator=function(f){var l=[],h={},g;for(g in f)h[g]||l.push(f[g]);var e=0;this.element=l[e]||null;this.atEnd=function(){return e>=l.length};this.get=function(){return this.atEnd()?null:this.element=l[e++]};this.map=function(c,a){return k.map(l,c,a)};this.reset=function(){e=
0;this.element=l[e]}};return f})},"esri/layers/ArcGISMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/lang esri/request esri/SpatialReference esri/geometry/Extent esri/layers/LayerInfo".split(" "),function(f,m,k,q,l,h,g,e,c,a){f=f(null,{declaredClass:"esri.layers.ArcGISMapServiceLayer",constructor:function(a,d){this.layerInfos=[];var c=this._params={},e=this._url.query?this._url.query.token:null;e&&(c.token=e)},_load:function(){g({url:this._url.path,
content:m.mixin({f:"json"},this._params),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler})},spatialReference:null,initialExtent:null,fullExtent:null,description:null,units:null,_initLayer:function(b,d){try{this._findCredential();(this.credential&&this.credential.ssl||b&&b._ssl)&&this._useSSL();this.description=b.description;this.copyright=b.copyrightText;this.spatialReference=b.spatialReference&&new e(b.spatialReference);this.initialExtent=b.initialExtent&&new c(b.initialExtent);
this.fullExtent=b.fullExtent&&new c(b.fullExtent);this.units=b.units;this.maxRecordCount=b.maxRecordCount;this.maxImageHeight=b.maxImageHeight;this.maxImageWidth=b.maxImageWidth;this.supportsDynamicLayers=b.supportsDynamicLayers;var g=this.layerInfos=[],f=b.layers,l=this._defaultVisibleLayers=[];k.forEach(f,function(b,d){g[d]=new a(b);b.defaultVisibility&&l.push(b.id)});this.visibleLayers||(this.visibleLayers=l);this.version=b.currentVersion;this.version||(this.version="capabilities"in b||"tables"in
b?10:"supportedImageFormatTypes"in b?9.31:9.3);this.capabilities=b.capabilities;h.isDefined(b.minScale)&&!this._hasMin&&this.setMinScale(b.minScale);h.isDefined(b.maxScale)&&!this._hasMax&&this.setMaxScale(b.maxScale)}catch(q){this._errorHandler(q)}}});q("extend-esri")&&m.setObject("layers.ArcGISMapServiceLayer",f,l);return f})},"esri/layers/LayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(f,m,k,q,l){f=f(null,{declaredClass:"esri.layers.LayerInfo",
constructor:function(f){m.mixin(this,f)},toJson:function(){return l.fixJson({defaultVisibility:this.defaultVisibility,id:this.id,maxScale:this.maxScale,minScale:this.minScale,name:this.name,parentLayerId:this.parentLayerId,subLayerIds:this.subLayerIds})}});k("extend-esri")&&m.setObject("layers.LayerInfo",f,q);return f})},"esri/layers/TimeInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/TimeExtent esri/layers/TimeReference esri/layers/LayerTimeOptions".split(" "),
function(f,m,k,q,l,h,g){f=f(null,{declaredClass:"esri.layers.TimeInfo",constructor:function(e){null!==e&&(m.mixin(this,e),e.exportOptions&&(this.exportOptions=new g(e.exportOptions)),this.timeExtent=new l(e.timeExtent),this.timeReference=new h(e.timeReference))}});m.mixin(f,{UNIT_CENTURIES:"esriTimeUnitsCenturies",UNIT_DAYS:"esriTimeUnitsDays",UNIT_DECADES:"esriTimeUnitsDecades",UNIT_HOURS:"esriTimeUnitsHours",UNIT_MILLISECONDS:"esriTimeUnitsMilliseconds",UNIT_MINUTES:"esriTimeUnitsMinutes",UNIT_MONTHS:"esriTimeUnitsMonths",
UNIT_SECONDS:"esriTimeUnitsSeconds",UNIT_UNKNOWN:"esriTimeUnitsUnknown",UNIT_WEEKS:"esriTimeUnitsWeeks",UNIT_YEARS:"esriTimeUnitsYears"});k("extend-esri")&&m.setObject("layers.TimeInfo",f,q);return f})},"esri/TimeExtent":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(f,m,k,q){var l=f(null,{declaredClass:"esri.TimeExtent",constructor:function(f){if(1<arguments.length)this._create(arguments[0],arguments[1]);else if(f)if(m.isArray(f)){var g=f[0],e=f[1];this.startTime=
null===g||"null"===g?null:new Date(g);this.endTime=null===e||"null"===e?null:new Date(e)}else f instanceof Date&&this._create(f,null)},offset:function(f,g){var e=new l,c=this.startTime,a=this.endTime;c&&(e.startTime=this._getOffsettedDate(c,f,g));a&&(e.endTime=this._getOffsettedDate(a,f,g));return e},intersection:function(f){return this._intersection(this,f)},toJson:function(){var f=[],g=this.startTime;f.push(g?g.getTime():"null");g=this.endTime;f.push(g?g.getTime():"null");return f},_create:function(f,
g){this.startTime=f?new Date(f.getTime()):null;this.endTime=g?new Date(g.getTime()):null},_refData:{esriTimeUnitsMilliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},esriTimeUnitsSeconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},esriTimeUnitsMinutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},esriTimeUnitsHours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},esriTimeUnitsDays:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},
esriTimeUnitsWeeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},esriTimeUnitsMonths:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},esriTimeUnitsYears:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},esriTimeUnitsDecades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},esriTimeUnitsCenturies:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}},_intersection:function(f,g){if(f&&g){var e=f.startTime,c=f.endTime,a=g.startTime,b=g.endTime,e=
e?e.getTime():-Infinity,a=a?a.getTime():-Infinity,c=c?c.getTime():Infinity,b=b?b.getTime():Infinity,d,n;a>=e&&a<=c?d=a:e>=a&&e<=b&&(d=e);c>=a&&c<=b?n=c:b>=e&&b<=c&&(n=b);if(!isNaN(d)&&!isNaN(n))return e=new l,e.startTime=-Infinity===d?null:new Date(d),e.endTime=Infinity===n?null:new Date(n),e}return null},_getOffsettedDate:function(f,g,e){var c=this._refData;f=new Date(f.getTime());g&&e&&(c=c[e],f[c.setter](f[c.getter]()+g*c.multiplier));return f}});k("extend-esri")&&(q.TimeExtent=l);return l})},
"esri/layers/TimeReference":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(f,m,k,q){f=f(null,{declaredClass:"esri.layers.TimeReference",constructor:function(f){f&&m.mixin(this,f)}});k("extend-esri")&&m.setObject("layers.TimeReference",f,q);return f})},"esri/layers/LayerTimeOptions":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(f,m,k,q,l){f=f(null,{declaredClass:"esri.layers.LayerTimeOptions",constructor:function(f){f&&
m.mixin(this,f)},toJson:function(){return l.fixJson({timeDataCumulative:this.timeDataCumulative,timeOffset:this.timeOffset,timeOffsetUnits:this.timeOffsetUnits,useTime:this.useTime})}});k("extend-esri")&&m.setObject("layers.LayerTimeOptions",f,q);return f})},"esri/layers/TileMap":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/io-query esri/request esri/urlUtils".split(" "),function(f,m,k,q,l,h,g){return f(null,{declaredClass:"esri.layers.TileMap",constructor:function(e){this.layer=
e;this._tileMaps={}},getTile:function(e,c,a,b,d){e={id:b,level:e,row:c,col:a};c=this._getResamplingBudget();0<c?this._process({tile:e,requestedTile:e,callback:d,resamplingBudget:c}):(d||this.callback).call(this,e,e)},statusOf:function(e,c,a){var b=this._getResamplingBudget();e={level:e,row:c,col:a};if(0===b)return 1;for(;0<=b;){c=this._tileToTileMap(e);if(!this._tileMaps[c.uid])return-1;c=this._tileMaps[c.uid];if(!c.promise.isFulfilled())return-1;if(this._isTileAvailable(e,c))return 1;e=this._parentTile(e);
if(!e)break;b--}return 0},style:function(e,c){if(!(e.level===c.level&&e.row===c.row&&e.col===c.col)){for(var a=this.layer.tileInfo,b=a.lods,d=a.cols,a=a.rows,g,f,h=b.length-1;!g||!f;)!g&&b[h].level===e.level&&(g=b[h]),!f&&b[h].level===c.level&&(f=b[h]),h--;b=Math.round(g.resolution/f.resolution);return{width:d*b+"px",height:a*b+"px",margin:"-"+c.row%b*a+"px 0 0 -"+c.col%b*d+"px"}}},_process:function(e){var c=e.tile,a=this._tileToTileMap(c),b=this._parentTile(c);this._getTileMap(a).then(m.hitch(this,
function(d){a=d;this._isTileAvailable(c,a)?(e.callback||this.callback).call(this,c,e.requestedTile):0<e.resamplingBudget&&b?(e.resamplingBudget--,e.tile=b,this._process(e)):(e.callback||this.callback).call(this,e.requestedTile,e.requestedTile)}),m.hitch(this,function(){(e.callback||this.callback).call(this,e.requestedTile,e.requestedTile)}))},_getTileMap:function(e){var c,a,b,d,g=null;this._tileMaps[e.uid]?(e=this._tileMaps[e.uid],c=e.promise):(this._tileMaps[e.uid]=e,a=new q,h({url:this._getTileMapUrl(e.level,
e.row,e.col),handleAs:"json",callbackParamName:"callback",timeout:3E3,load:function(c){m.mixin(e,c);if(e.data&&0<e.data.length){d=e.data.length;if(1===d)g=e.data[0];else{g=e.data[0];for(b=1;b<d;b++)if(e.data[b]!==g){g=null;break}}null!==g&&(delete e.data,e.value=g)}a.resolve(e)},error:function(b){a.reject()}}),c=e.promise=a.promise);return c},_parentTile:function(e){var c=this.layer.tileInfo.lods,a,b,d=null;k.some(c,function(d,c){return e.level===d.level?(a=d,b=c,!0):!1});0<b&&(c=c[b-1],d={id:e.id,
level:c.level,row:Math.floor(e.row*a.resolution/c.resolution+0.01),col:Math.floor(e.col*a.resolution/c.resolution+0.01)});return d},_tileToTileMap:function(e){var c=8*Math.floor(e.row/8),a=8*Math.floor(e.col/8);return{uid:e.level+"_"+c+"_"+a,level:e.level,row:c,col:a}},_isTileAvailable:function(e,c){var a,b;c.valid?void 0!==c.value?a=c.value:(a=c.location.left,b=c.location.top,a=(e.row-b)*c.location.width+(e.col-a),a=a<c.data.length?c.data[a]:0):a=0;return a},_getTileMapUrl:function(e,c,a){var b=
this.layer,d=b.tileServers,f=b._getToken(),h=b._url.query;e=(d?d[c%d.length]:b._url.path)+"/tilemap/"+e+"/"+c+"/"+a+"/8/8";h&&(e+="?"+l.objectToQuery(h));if(f&&(!h||!h.token))e+=(-1===e.indexOf("?")?"?":"\x26")+"token\x3d"+f;e=b.addTimestampToURL(e);return g.addProxy(e)},_getResamplingBudget:function(){var e=this.layer,c=0;if(e.resampling&&(c=e._resamplingTolerance,null===c||void 0===c))c=e.tileInfo.lods.length;return c}})})},"esri/layers/OpenStreetMapLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/urlUtils esri/SpatialReference esri/geometry/Extent esri/layers/TiledMapServiceLayer esri/layers/TileInfo".split(" "),
function(f,m,k,q,l,h,g,e,c){f=f(e,{declaredClass:"esri.layers.OpenStreetMapLayer",constructor:function(a){this.spatialReference=new h({wkid:102100});this.tileInfo=new c({rows:256,cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,scale:5.91657527591555E8,resolution:156543.033928},{level:1,scale:2.95828763795777E8,resolution:78271.5169639999},{level:2,scale:1.47914381897889E8,resolution:39135.7584820001},
{level:3,scale:7.3957190948944E7,resolution:19567.8792409999},{level:4,scale:3.6978595474472E7,resolution:9783.93962049996},{level:5,scale:1.8489297737236E7,resolution:4891.96981024998},{level:6,scale:9244648.868618,resolution:2445.98490512499},{level:7,scale:4622324.434309,resolution:1222.99245256249},{level:8,scale:2311162.217155,resolution:611.49622628138},{level:9,scale:1155581.108577,resolution:305.748113140558},{level:10,scale:577790.554289,resolution:152.874056570411},{level:11,scale:288895.277144,
resolution:76.4370282850732},{level:12,scale:144447.638572,resolution:38.2185141425366},{level:13,scale:72223.819286,resolution:19.1092570712683},{level:14,scale:36111.909643,resolution:9.55462853563415},{level:15,scale:18055.954822,resolution:4.77731426794937},{level:16,scale:9027.977411,resolution:2.38865713397468},{level:17,scale:4513.988705,resolution:1.19432856685505},{level:18,scale:2256.994353,resolution:0.597164283559817}]});this.fullExtent=new g({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,
ymax:2.003750834E7,spatialReference:{wkid:102100}});this.initialExtent=new g({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.tileServers=a&&a.tileServers||["http://a.tile.openstreetmap.org","http://b.tile.openstreetmap.org","http://c.tile.openstreetmap.org"];this.serversLength=this.tileServers.length;this._displayLevels=a?a.displayLevels:null;this.copyright=a&&a.copyright||"Map data \x26copy; OpenStreetMap contributors, CC-BY-SA";
this.loaded=!0;this.onLoad(this);(a=a&&a.loadCallback)&&a(this)},getTileUrl:function(a,b,d){a=this.tileServers[b%this.serversLength]+"/"+a+"/"+d+"/"+b+".png";a=this.addTimestampToURL(a);return l.addProxy(a)}});k("extend-esri")&&m.setObject("layers.OpenStreetMapLayer",f,q);return f})},"esri/dijit/Popup":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/window dojo/Stateful dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry esri/kernel esri/lang esri/sniff esri/domUtils esri/geometry/Polyline esri/geometry/Polygon esri/InfoWindowBase esri/PopupBase dojo/i18n!esri/nls/jsapi dojo/NodeList-dom dojo/has!extend-esri?esri/dijit/PopupTemplate dojo/has!extend-esri?esri/dijit/PopupRenderer".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D,C,B,E){f=f([C,B,e],{declaredClass:"esri.dijit.Popup",offsetX:3,offsetY:3,zoomFactor:4,marginLeft:25,marginTop:25,highlight:!0,pagingControls:!0,pagingInfo:!0,keepHighlightOnHide:!1,popupWindow:!0,titleInBody:!0,anchor:"auto",visibleWhenEmpty:!0,hideDelay:1E3,constructor:function(c,e){this.initialize();m.mixin(this,c);this.domNode=a.byId(e);var g=this._nls=m.mixin({},E.widgets.popup),f=this.domNode;d.add(f,"esriPopup");(this._isRTL=!r.isBodyLtr())&&
t.set(f,"direction","rtl");b.set(f,"innerHTML","\x3cdiv class\x3d'esriPopupWrapper' style\x3d'position: absolute;'\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'titlePane'\x3e\x3cdiv class\x3d'spinner hidden' title\x3d'"+g.NLS_searching+"...'\x3e\x3c/div\x3e\x3cdiv class\x3d'title'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton prev hidden' title\x3d'"+g.NLS_prevFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton next hidden' title\x3d'"+g.NLS_nextFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton maximize' title\x3d'"+
g.NLS_maximize+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton close' title\x3d'"+g.NLS_close+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer content'\x3e\x3cdiv class\x3d'contentPane'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'actionsPane'\x3e\x3cdiv class\x3d'actionList hidden'\x3e\x3ca class\x3d'action zoomTo' href\x3d'javascript:void(0);'\x3e"+g.NLS_zoomTo+"\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'pointer hidden'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'outerPointer hidden'\x3e\x3c/div\x3e");
this._sizers=l.query(".sizer",f);g=l.query(".titlePane",f)[0];a.setSelectable(g,!1);this._title=l.query(".title",g)[0];this._prevFeatureButton=l.query(".prev",g)[0];this._nextFeatureButton=l.query(".next",g)[0];this._maxButton=l.query(".maximize",g)[0];this._spinner=l.query(".spinner",g)[0];this._contentPane=l.query(".contentPane",f)[0];this._positioner=l.query(".esriPopupWrapper",f)[0];this._pointer=l.query(".pointer",f)[0];this._outerPointer=l.query(".outerPointer",f)[0];this._actionList=l.query(".actionsPane .actionList",
f)[0];this._eventConnections=[q.connect(l.query(".close",g)[0],"onclick",this,this.hide),q.connect(this._prevFeatureButton,"onclick",this,this.selectPrevious),q.connect(this._nextFeatureButton,"onclick",this,this.selectNext),q.connect(this._maxButton,"onclick",this,this._toggleSize),q.connect(l.query(".zoomTo",this._actionList)[0],"onclick",this,this._zoomToFeature),q.connect(this,"onClearFeatures",this,this._featuresCleared),q.connect(this,"onSelectionChange",this,this._featureSelected),q.connect(this,
"onDfdComplete",this,this._updateUI)];h("esri-touch")&&(f=y.setScrollable(this._contentPane),this._eventConnections.push(f[0],f[1]));this._toggleVisibility(!1)},onMaximize:function(){},onRestore:function(){},setMap:function(a){this.inherited(arguments);n.place(this.domNode,a.root);this.highlight&&this.enableHighlight(a);this._maxHeight=t.get(this._contentPane,"maxHeight")},unsetMap:function(){this.disableHighlight(this.map);this.inherited(arguments)},setTitle:function(a){if(this.popupWindow){if(!u.isDefined(a)||
""===a)a="\x26nbsp;";this.destroyDijits(this._title);this.place(a,this._title);this.isShowing&&(this.startupDijits(this._title),this.reposition())}},setContent:function(a){if(this.popupWindow){if(!u.isDefined(a)||""===a)a="\x26nbsp;";this.destroyDijits(this._contentPane);this.place(a,this._contentPane);this.isShowing&&(this.startupDijits(this._contentPane),this.reposition())}},show:function(a,b){if(this.popupWindow)if(this._delayHide=!1,a){var d=this.map,c;a.spatialReference?(this._location=a,c=d.toScreen(a)):
(this._location=d.toMap(a),c=a);var e=d._getFrameWidth();if(-1!==e&&(c.x%=e,0>c.x&&(c.x+=e),d.width>e))for(d=(d.width-e)/2;c.x<d;)c.x+=e;this._maximized?this.restore():this._setPosition(c);b&&b.closestFirst&&this.showClosestFirst(this._location);this.isShowing||(this._toggleVisibility(!0),this._followMap(),this.startupDijits(this._title),this.startupDijits(this._contentPane),this.reposition(),this.showHighlight(),this.onShow())}else this._toggleVisibility(!0)},hide:function(){this.isShowing&&(this._toggleVisibility(!1),
this._unfollowMap(),this.keepHighlightOnHide||this.hideHighlight(),this.onHide())},resize:function(a,b){this.popupWindow&&(this._sizers.style({width:a+"px"}),t.set(this._contentPane,"maxHeight",b+"px"),this._maxHeight=b,this.isShowing&&this.reposition())},reposition:function(){this.popupWindow&&this.map&&(this._location&&!this._maximized&&this.isShowing)&&this._setPosition(this.map.toScreen(this._location))},maximize:function(){var a=this.map;if(a&&!this._maximized&&this.popupWindow){this._maximized=
!0;var c=this._maxButton;d.remove(c,"maximize");d.add(c,"restore");b.set(c,"title",this._nls.NLS_restore);var c=this.marginLeft,e=this.marginTop,g=a.width-2*c,a=a.height-2*e;t.set(this.domNode,{left:this._isRTL?null:c+"px",right:this._isRTL?c+"px":null,top:e+"px",bottom:null});t.set(this._positioner,{left:null,right:null,top:null,bottom:null});this._savedWidth=t.get(this._sizers[0],"width");this._savedHeight=t.get(this._contentPane,"maxHeight");this._sizers.style({width:g+"px"});t.set(this._contentPane,
{maxHeight:a-65+"px",height:a-65+"px"});this._showPointer("");this._unfollowMap();d.add(this.domNode,"esriPopupMaximized");this.onMaximize()}},restore:function(){if(this.map&&this._maximized&&this.popupWindow){this._maximized=!1;var a=this._maxButton;d.remove(a,"restore");d.add(a,"maximize");b.set(a,"title",this._nls.NLS_maximize);t.set(this._contentPane,"height",null);this.resize(this._savedWidth,this._savedHeight);this._savedWidth=this._savedHeight=null;this.show(this._location);this._followMap();
d.remove(this.domNode,"esriPopupMaximized");this.onRestore()}},startup:function(){},destroy:function(){this.map&&this.unsetMap();this.cleanup();this.isShowing&&this.hide();this.destroyDijits(this._title);this.destroyDijits(this._content);k.forEach(this._eventConnections,q.disconnect);n.destroy(this.domNode);this._sizers=this._contentPane=this._actionList=this._positioner=this._pointer=this._outerPointer=this._title=this._prevFeatureButton=this._nextFeatureButton=this._spinner=this._eventConnections=
this._pagerScope=this._targetLocation=this._nls=this._maxButton=null},selectNext:function(){this.select(this.selectedIndex+1)},selectPrevious:function(){this.select(this.selectedIndex-1)},setFeatures:function(){this.inherited(arguments);this._updateUI()},postscript:null,_highlightSetter:function(a){var b=this.highlight,d=this.map;this.highlight=a;if(d&&a!==b)if(a){if(this.enableHighlight(d),a=this.features&&this.features[this.selectedIndex])this.updateHighlight(d,a),this.showHighlight()}else this.disableHighlight(d)},
_pagingControlsSetter:function(a){var b=this.pagingControls,d=this.map;this.pagingControls=a;d&&a!==b&&this._updatePagingControls()},_pagingInfoSetter:function(a){var b=this.pagingInfo,d=this.map;this.pagingInfo=a;d&&(a!==b&&this.features&&this.features.length)&&this._updatePagingInfo()},_popupWindowSetter:function(a){var b=this.popupWindow,d=this.map;this.popupWindow=a;d&&a!==b&&(a?(this._updateUI(),this._updateWindow()):(this.hide(),this.showHighlight()))},_anchorSetter:function(a){var b=this.anchor;
this.anchor=a;this.map&&a!==b&&this.reposition()},_featuresCleared:function(){this.setTitle("\x26nbsp;");this.setContent("\x26nbsp;");this._setPagerCallbacks(this);this._updateUI();this.hideHighlight()},_featureSelected:function(){this._updateUI();this._updateWindow()},_updateWindow:function(){var a=this.selectedIndex;if(0<=a){var b=this.features[a].getContent(),d;!this.titleInBody&&b&&m.isString(b.id)&&(d=s.byId(b.id))&&(d.set&&/_PopupRenderer/.test(d.declaredClass))&&d.set("showTitle",!1);this.setContent(b);
this.updateHighlight(this.map,this.features[a]);this.showHighlight()}},_toggleVisibility:function(a){this._setVisibility(a);this.isShowing=a},_setVisibility:function(a){t.set(this.domNode,"visibility",a?"visible":"hidden")},_waitAndHide:function(a){var b=this;this._delayHide=!0;setTimeout(function(){b._delayHide&&(b._delayHide=!1,b.hide())},a)},_followMap:function(){this._unfollowMap();var a=this.map;this._handles=[q.connect(a,"onPanStart",this,this._onPanStart),q.connect(a,"onPan",this,this._onPan),
q.connect(a,"onZoomStart",this,this._onZoomStart),q.connect(a,"onExtentChange",this,this._onExtentChange)]},_unfollowMap:function(){var a=this._handles;a&&(k.forEach(a,q.disconnect),this._handles=null)},_onPanStart:function(){var a=this.domNode.style;this._panOrigin={left:a.left,top:a.top,right:a.right,bottom:a.bottom}},_onPan:function(a,b){var d=this._panOrigin,c=b.x,e=b.y,g=d.left,f=d.top,n=d.right,d=d.bottom;g&&(g=parseFloat(g)+c+"px");f&&(f=parseFloat(f)+e+"px");n&&(n=parseFloat(n)-c+"px");d&&
(d=parseFloat(d)-e+"px");t.set(this.domNode,{left:g,top:f,right:n,bottom:d})},_onZoomStart:function(){this._setVisibility(!1)},_onExtentChange:function(a,b,d){d&&(this._setVisibility(!0),this.show(this._targetLocation||this._location));this._targetLocation=null},_toggleSize:function(){this._maximized?this.restore():this.maximize()},_setPosition:function(a){var b=a.x,d=a.y;a=this.offsetX||0;var c=this.offsetY||0,e=0,f=0,n=r.position(this.map.container,!0),h=n.w,k=n.h,l="Left",q="bottom",m=r.getContentBox(this._positioner),
s=m.w/2,w=m.h/2,C=t.get(this._sizers[0],"height")+this._maxHeight+t.get(this._sizers[2],"height"),u=C/2,B=0,D=0,x=b,z=d,y=this.anchor.toLowerCase();if("auto"===y){if(y=g.getBox)y=y(),B=Math.max(y.l,n.x),h=Math.min(y.l+y.w,n.x+n.w),D=Math.max(y.t,n.y),k=Math.min(y.t+y.h,n.y+n.h),x+=n.x,z+=n.y;n=z-D>=C;C=k-z>=C;y=h-x>=m.w;m=x-B>=m.w;z-D>u&&k-z>=u&&(y?(q="",l="Left"):m&&(q="",l="Right"));l&&q&&(x-B>s&&h-x>=s)&&(n?(l="",q="bottom"):C&&(l="",q="top"));l&&q&&(y&&n?(l="Left",q="bottom"):y&&C?(l="Left",q=
"top"):m&&C?(l="Right",q="top"):m&&n&&(l="Right",q="bottom"))}else q=l="",-1!==y.indexOf("top")?q="bottom":-1!==y.indexOf("bottom")&&(q="top"),-1!==y.indexOf("left")?l="Right":-1!==y.indexOf("right")&&(l="Left");u=q+l;switch(u){case "top":case "bottom":f=14;break;case "Left":case "Right":e=13;break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":f=14,e=-16}t.set(this.domNode,{left:b+"px",top:d+"px",right:null,bottom:null});b={left:null,right:null,top:null,bottom:null};l?b[l.toLowerCase()]=
e+a+"px":b.left=-s+"px";q?b[q]=f+c+"px":b.top=-w+"px";t.set(this._positioner,b);this._showPointer(u)},_showPointer:function(a){d.remove(this._pointer,"top bottom right left topLeft topRight bottomRight bottomLeft hidden".split(" "));d.remove(this._outerPointer,["right","left","hidden"]);"Right"===a||"Left"===a?(a=a.toLowerCase(),d.add(this._outerPointer,a)):d.add(this._pointer,a)},_setPagerCallbacks:function(a,b,d){if(this.pagingControls&&!(a===this&&(!this._pagerScope||this._pagerScope===this))&&
a!==this._pagerScope){this._pagerScope=a;a===this&&(b=this.selectPrevious,d=this.selectNext);var c=this._eventConnections;q.disconnect(c[1]);q.disconnect(c[2]);b&&(c[1]=q.connect(this._prevFeatureButton,"onclick",a,b));d&&(c[2]=q.connect(this._nextFeatureButton,"onclick",a,d))}},_getLocation:function(a){var b=this.map,d,c,e=0,g;if(a=a&&a.geometry)switch(a.type){case "point":d=a;break;case "multipoint":d=a.getPoint(0);c=a.getExtent();break;case "polyline":d=a.getPoint(0,0);c=a.getExtent();-1!==b._getFrameWidth()&&
(k.forEach(a.paths,function(a){a=(new w({paths:[a,b.spatialReference]})).getExtent();var d=Math.abs(a.ymax-a.ymin),c=Math.abs(a.xmax-a.xmin),d=c>d?c:d;d>e&&(e=d,g=a)}),g.spatialReference=c.spatialReference,c=g);break;case "polygon":d=a.getPoint(0,0),c=a.getExtent(),-1!==b._getFrameWidth()&&(k.forEach(a.rings,function(a){a=(new D({rings:[a,b.spatialReference]})).getExtent();var d=Math.abs(a.ymax-a.ymin),c=Math.abs(a.xmax-a.xmin),d=c>d?c:d;d>e&&(e=d,g=a)}),g.spatialReference=c.spatialReference,c=g)}return[d,
c]},_zoomToFeature:function(a){a.preventDefault();var b=this.features,d=this.selectedIndex;a=this.map;if(b){d=this._getLocation(b[d]);b=d[0];d=d[1];b||(b=this._location);if(!d||!d.intersects(this._location))this._location=b;if(d)a.setExtent(d,!0);else{var c=a.getNumLevels(),d=a.getLevel(),e=a.getMaxZoom(),g=this.zoomFactor||1;0<c?d!==e&&(c=d+g,c>e&&(c=e),a.navigationManager._wheelZoom({value:c-d,mapPoint:b},!0)):a.navigationManager._wheelZoom({value:2*(1/Math.pow(2,g)),mapPoint:b},!0)}}},_updatePagingControls:function(){var a=
this._prevFeatureButton,b=this._nextFeatureButton,c=this.selectedIndex,e=this.features?this.features.length:0;this.pagingControls&&1<e?(0===c?d.add(a,"hidden"):d.remove(a,"hidden"),c===e-1?d.add(b,"hidden"):d.remove(b,"hidden")):(d.add(a,"hidden"),d.add(b,"hidden"))},_updatePagingInfo:function(){var a=this.features?this.features.length:0,b=this._nls,d="\x26nbsp;";this.pagingInfo&&(1<a&&b.NLS_pagingInfo)&&(d=u.substitute({index:this.selectedIndex+1,total:a},b.NLS_pagingInfo));if(a&&(b=this.getSelectedFeature(),
a=b.getInfoTemplate(),b=b.getTitle(),(!a||/esri\.InfoTemplate/.test(a.declaredClass)||!this.titleInBody)&&b))d=b+("\x26nbsp;"===d?"":" "+d);this.setTitle(d)},_updateUI:function(){if(this.popupWindow){var a=this.features,b=this.deferreds,c=a?a.length:0,e=this._spinner,g=this._actionList,f=this._nls;this._updatePagingControls();this._updatePagingInfo();c?d.remove(g,"hidden"):d.add(g,"hidden");b&&b.length?a?d.remove(e,"hidden"):this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+f.NLS_searching+
"...\x3c/div\x3e"):(d.add(e,"hidden"),c||(this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+f.NLS_noInfo+".\x3c/div\x3e"),this.visibleWhenEmpty||this._waitAndHide(this.hideDelay)))}}});h("extend-esri")&&m.setObject("dijit.Popup",f,x);return f})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(f,m,k,q,l,h,g){m.add("rtl-adjust-position-for-verticalScrollBar",function(c,a){var b=k.body(a),d=g.create("div",
{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},b,"last"),e=g.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),f=0!=l.position(e).x;d.removeChild(e);b.removeChild(d);return f});m.add("position-fixed-support",function(c,a){var b=k.body(a),d=g.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},b,"last"),e=g.create("span",{style:{position:"fixed",left:"0",
top:"0"}},d,"last"),f=l.position(e).x!=l.position(d).x;d.removeChild(e);b.removeChild(d);return f});var e={getBox:function(c){c=c||k.doc;var a="BackCompat"==c.compatMode?k.body(c):c.documentElement,b=l.docScroll(c);if(m("touch")){var d=e.get(c);c=d.innerWidth||a.clientWidth;a=d.innerHeight||a.clientHeight}else c=a.clientWidth,a=a.clientHeight;return{l:b.x,t:b.y,w:c,h:a}},get:function(c){if(9>m("ie")&&e!==document.parentWindow){c.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");
var a=c._parentWindow;c._parentWindow=null;return a}return c.parentWindow||c.defaultView},scrollIntoView:function(c,a){try{c=q.byId(c);var b=c.ownerDocument||k.doc,d=k.body(b),e=b.documentElement||d.parentNode,g=m("ie"),f=m("webkit");if(!(c==d||c==e))if(!m("mozilla")&&(!g&&!f&&!m("opera"))&&"scrollIntoView"in c)c.scrollIntoView(!1);else{var s="BackCompat"==b.compatMode,x=Math.min(d.clientWidth||e.clientWidth,e.clientWidth||d.clientWidth),u=Math.min(d.clientHeight||e.clientHeight,e.clientHeight||d.clientHeight),
b=f||s?d:e,z=a||l.position(c),y=c.parentNode,f=function(a){return 6>=g||7==g&&s?!1:m("position-fixed-support")&&"fixed"==h.get(a,"position").toLowerCase()};if(!f(c))for(;y;){y==d&&(y=b);var w=l.position(y),D=f(y),C="rtl"==h.getComputedStyle(y).direction.toLowerCase();if(y==b){w.w=x;w.h=u;b==e&&(g&&C)&&(w.x+=b.offsetWidth-w.w);if(0>w.x||!g||9<=g)w.x=0;if(0>w.y||!g||9<=g)w.y=0}else{var B=l.getPadBorderExtents(y);w.w-=B.w;w.h-=B.h;w.x+=B.l;w.y+=B.t;var E=y.clientWidth,A=w.w-E;0<E&&0<A&&(C&&m("rtl-adjust-position-for-verticalScrollBar")&&
(w.x+=A),w.w=E);E=y.clientHeight;A=w.h-E;0<E&&0<A&&(w.h=E)}D&&(0>w.y&&(w.h+=w.y,w.y=0),0>w.x&&(w.w+=w.x,w.x=0),w.y+w.h>u&&(w.h=u-w.y),w.x+w.w>x&&(w.w=x-w.x));var G=z.x-w.x,M=z.y-w.y,F=G+z.w-w.w,J=M+z.h-w.h,L,K;if(0<F*G&&(y.scrollLeft||y==b||y.scrollWidth>y.offsetHeight)){L=Math[0>G?"max":"min"](G,F);if(C&&(8==g&&!s||9<=g))L=-L;K=y.scrollLeft;y.scrollLeft+=L;L=y.scrollLeft-K;z.x-=L}if(0<J*M&&(y.scrollTop||y==b||y.scrollHeight>y.offsetHeight))L=Math.ceil(Math[0>M?"max":"min"](M,J)),K=y.scrollTop,y.scrollTop+=
L,L=y.scrollTop-K,z.y-=L;y=y!=b&&!D&&y.parentNode}}}catch(P){console.error("scrollIntoView: "+P),c.scrollIntoView(!1)}}};f.setObject("dojo.window",e);return e})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(f,m,k,q){return f("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(f){var h=this._attrPairNames;return h[f]?h[f]:h[f]={s:"_"+f+"Setter",g:"_"+f+"Getter"}},postscript:function(f){f&&this.set(f)},_get:function(f,h){return"function"===
typeof this[h.g]?this[h.g]():this[f]},get:function(f){return this._get(f,this._getAttrNames(f))},set:function(f,h){if("object"===typeof f){for(var g in f)f.hasOwnProperty(g)&&"_watchCallbacks"!=g&&this.set(g,f[g]);return this}g=this._getAttrNames(f);var e=this._get(f,g);g=this[g.s];var c;"function"===typeof g?c=g.apply(this,Array.prototype.slice.call(arguments,1)):this[f]=h;if(this._watchCallbacks){var a=this;q(c,function(){a._watchCallbacks(f,e,h)})}return this},_changeAttrValue:function(f,h){var g=
this.get(f);this[f]=h;this._watchCallbacks&&this._watchCallbacks(f,g,h);return this},watch:function(f,h){var g=this._watchCallbacks;if(!g)var e=this,g=this._watchCallbacks=function(a,d,c,f){var h=function(g){if(g){g=g.slice();for(var f=0,h=g.length;f<h;f++)g[f].call(e,a,d,c)}};h(g["_"+a]);f||h(g["*"])};!h&&"function"===typeof f?(h=f,f="*"):f="_"+f;var c=g[f];"object"!==typeof c&&(c=g[f]=[]);c.push(h);var a={};a.unwatch=a.remove=function(){var a=k.indexOf(c,h);-1<a&&c.splice(a,1)};return a}})})},"esri/InfoWindowBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/dom-construct dojo/has dijit/registry esri/kernel esri/lang esri/geometry/ScreenPoint".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b){f=f(null,{declaredClass:"esri.InfoWindowBase",constructor:function(){var a=m.hitch;this.__set_title=a(this,this.__set_title);this.__err_title=a(this,this.__err_title);this.__set_content=a(this,this.__set_content);this.__err_content=a(this,this.__err_content)},setMap:function(a){this.map=a},unsetMap:function(a){delete this.map},setTitle:function(){},setContent:function(){},show:function(){},hide:function(){},resize:function(){},onShow:function(){},onHide:function(){},
place:function(b,c){a.isDefined(b)?m.isObject(b)?h.place(b,c,"only"):c.innerHTML=b:c.innerHTML=""},startupDijits:function(a){this._processDijits(a)},destroyDijits:function(a){this._processDijits(a,!0)},_processDijits:function(a,b){if(a&&1===a.children.length){var c=a.children[0];if(c){var g=e.byNode(c),c=g?[g]:e.findWidgets(c);k.forEach(c,function(a){if(b){if(a._started&&!a._destroyed)try{a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy()}catch(d){}}else if(!a._started)try{a.startup()}catch(c){}})}}},
__registerMapListeners:function(){this.__unregisterMapListeners();var a=this.map;this.__handles=[q.connect(a,"onPan",this,this.__onMapPan),q.connect(a,"onZoomStart",this,this.__onMapZmStart),q.connect(a,"onExtentChange",this,this.__onMapExtChg)]},__unregisterMapListeners:function(){var a=this.__handles;a&&(k.forEach(a,q.disconnect,q),this.__handles=null)},__onMapPan:function(a,b){this.move(b,!0)},__onMapZmStart:function(){this.__mcoords=this.mapCoords||this.map.toMap(new b(this.coords));this.hide(null,
!0)},__onMapExtChg:function(a,b,c){a=this.map;var e=this.mapCoords;e?this.show(e,null,!0):(b=c?a.toScreen(this.__mcoords):this.coords.offset(b&&b.x||0,b&&b.y||0),this.show(b,null,!0))},__setValue:function(b,c){this[b].innerHTML="";var e="_dfd"+b,g=this[e];g&&-1===g.fired&&(g.cancel(),this[e]=null);a.isDefined(c)&&(c instanceof l?(this[e]=c,c.addCallbacks(this["__set"+b],this["__err"+b])):this.__render(b,c))},__set_title:function(a){this._dfd_title=null;this.__render("_title",a)},__err_title:function(a){this._dfd_title=
null},__set_content:function(a){this._dfd_content=null;this.__render("_content",a)},__err_content:function(a){this._dfd_content=null},__render:function(a,b){var c=this[a];this.place(b,c);this.isShowing&&(this.startupDijits(c),"_title"===a&&this._adjustContentArea&&this._adjustContentArea())}});g("extend-esri")&&(c.InfoWindowBase=f);return f})},"esri/PopupBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/_base/Deferred dojo/has esri/kernel esri/graphic esri/geometry/Point esri/geometry/jsonUtils esri/geometry/mathUtils esri/geometry/webMercatorUtils esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/CartographicLineSymbol esri/symbols/SimpleFillSymbol esri/Evented dojo/has!extend-esri?esri/PopupInfo".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x){f=f(x,{declaredClass:"esri.PopupBase",_evtMap:{"set-features":!0,"clear-features":!0,"selection-change":!0,"dfd-complete":!0},onSetFeatures:function(){},onClearFeatures:function(){},onSelectionChange:function(){},onDfdComplete:function(){},initialize:function(){this.count=0;this.selectedIndex=-1},cleanup:function(){this.features=this.deferreds=null},setFeatures:function(a){if(a&&a.length){this.clearFeatures();var b,d;a[0]instanceof l?d=a:b=a;b?this._updateFeatures(null,
b):(this.deferreds=d,d=d.slice(0),k.forEach(d,function(a){a.addBoth(m.hitch(this,this._updateFeatures,a))},this))}},clearFeatures:function(){this.features=this.deferreds=this._marked=null;this.count=0;var a=this.selectedIndex;this.selectedIndex=-1;if(-1<a)this.onSelectionChange();this.onClearFeatures()},getSelectedFeature:function(){var a=this.features;if(a)return a[this.selectedIndex]},select:function(a){0>a||a>=this.count||(this.selectedIndex=a,this.onSelectionChange())},enableHighlight:function(a){this._highlighted=
a.graphics.add(new e(new c(0,0,a.spatialReference)));this._highlighted.hide();this.markerSymbol||(a=this.markerSymbol=new n,a.setStyle(n.STYLE_TARGET),a._setDim(16,16,7),a.setOutline(new t(r.STYLE_SOLID,new q([0,255,255]),2,t.CAP_ROUND,t.JOIN_ROUND)),a.setColor(new q([0,0,0,0])));this.lineSymbol||(this.lineSymbol=new r(r.STYLE_SOLID,new q([0,255,255]),2));this.fillSymbol||(this.fillSymbol=new s(s.STYLE_NULL,new r(r.STYLE_SOLID,new q([0,255,255]),2),new q([0,0,0,0])))},disableHighlight:function(a){var b=
this._highlighted;b&&(b.hide(),a.graphics.remove(b),delete this._highlighted);this.markerSymbol=this.lineSymbol=this.fillSymbol=null},showHighlight:function(){var a=this.features&&this.features[this.selectedIndex];this._highlighted&&(a&&a.geometry)&&this._highlighted.show()},hideHighlight:function(){this._highlighted&&this._highlighted.hide()},updateHighlight:function(b,d){var c=d.geometry,e=this._highlighted;if(!c||!e)e&&e.hide();else{e.hide();!e.getLayer()&&b&&b.graphics.add(e);e.setGeometry(a.fromJson(c.toJson()));
var g;switch(c.type){case "point":case "multipoint":g=this.markerSymbol;g.setOffset(0,0);g.setAngle(0);var f=d.getLayer();if(f){var c=f._getSymbol(d),n,h,k=0,r=0,l=0;if(c){if((f=!d.symbol?f._getRenderer(d):null)&&f.proportionalSymbolInfo)n=h=f.getSize(d,{shape:c.style});else switch(c.type){case "simplemarkersymbol":n=h=c.size||0;break;case "picturemarkersymbol":n=c.width||0,h=c.height||0}k=c.xoffset||0;r=c.yoffset||0;l=c.angle||0}n&&h&&g._setDim(n+1,h+1,7);g.setOffset(k,r);g.setAngle(l)}break;case "polyline":g=
this.lineSymbol;break;case "polygon":g=this.fillSymbol}e.setSymbol(g)}},showClosestFirst:function(a){var c=this.features;if(c&&c.length){if(1<c.length){var e,g=Infinity,f=-1,n,h=b.getLength,k,r=a.spatialReference,l,q;a=a.normalize();for(e=c.length-1;0<=e;e--)if(n=c[e].geometry){l=n.spatialReference;k=0;try{q="point"===n.type?n:n.getExtent().getCenter(),q=q.normalize(),r&&(l&&!r.equals(l)&&r._canProject(l))&&(q=r.isWebMercator()?d.geographicToWebMercator(q):d.webMercatorToGeographic(q)),k=h(a,q)}catch(m){}0<
k&&k<g&&(g=k,f=e)}0<f&&(c.splice(0,0,c.splice(f,1)[0]),this.select(0))}}else this.deferreds&&(this._marked=a)},_unbind:function(a){a=k.indexOf(this.deferreds,a);if(-1!==a)return this.deferreds.splice(a,1),!this.deferreds.length?(this.deferreds=null,2):1},_fireComplete:function(a){var b=this._marked;b&&(this._marked=null,this.showClosestFirst(b));this.onDfdComplete(a)},_updateFeatures:function(a,b){if(a){if(this.deferreds){var d=this._unbind(a);if(d)if(b&&b instanceof Error){if(this._fireComplete(b),
2===d)this.onSetFeatures()}else if(b&&b.length)if(this.features){var c=k.filter(b,function(a){return-1===k.indexOf(this.features,a)},this);this.features=this.features.concat(c);this.count=this.features.length;this._fireComplete();if(2===d)this.onSetFeatures()}else{this.features=b;this.count=b.length;this.selectedIndex=0;this._fireComplete();if(2===d)this.onSetFeatures();this.select(0)}else if(this._fireComplete(),2===d)this.onSetFeatures()}}else this.features=b,this.count=b.length,this.selectedIndex=
0,this.onSetFeatures(),this.select(0)}});h("extend-esri")&&(g.PopupBase=f);return f})},"esri/graphic":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/domUtils esri/lang esri/InfoTemplate esri/geometry/jsonUtils esri/symbols/jsonUtils".split(" "),function(f,m,k,q,l,h,g,e,c){f=f(null,{declaredClass:"esri.Graphic",constructor:function(a,b,d,f){a&&!a.declaredClass?(this.geometry=a.geometry?e.fromJson(a.geometry):null,this.symbol=a.symbol?c.fromJson(a.symbol):null,this.attributes=
a.attributes||null,this.infoTemplate=a.infoTemplate?new g(a.infoTemplate):null):(this.geometry=a,this.symbol=b,this.attributes=d,this.infoTemplate=f)},_shape:null,_graphicsLayer:null,_visible:!0,visible:!0,getDojoShape:function(){return this._shape},getShapes:function(){var a=[];this._shape&&a.push(this._shape);this._bgShape&&a.push(this._bgShape);return a},getNode:function(){var a=this._shape&&this._shape.getNode();return a&&a.nodeType?a:null},getNodes:function(){var a=this.getShapes(),b,d,c=a.length,
e=[];for(d=0;d<c;d++)(b=a[d]&&a[d].getNode())&&b.nodeType&&e.push(b);return e},getLayer:function(){return this._graphicsLayer},draw:function(){var a=this._graphicsLayer;a&&a._draw(this,!0);return this},setGeometry:function(a){this.geometry=a;if(a=this._graphicsLayer)a._updateExtent(this),a._draw(this,!0);return this},setSymbol:function(a,b){var d=this._graphicsLayer,c=this._shape;this.symbol=a;d&&(b&&c&&d._removeShape(this),d._draw(this,!0));return this},setAttributes:function(a){this.attributes=
a;return this},setInfoTemplate:function(a){this.infoTemplate=a;return this},getInfoTemplate:function(){return this._getEffInfoTemplate()},_getEffInfoTemplate:function(){var a=this.getLayer();return this.infoTemplate||a&&a.infoTemplate},getTitle:function(){var a=this.getInfoTemplate(),b=a&&a.title;if(m.isFunction(b))b=b.call(a,this);else if(m.isString(b))var d=(a=this._graphicsLayer)&&a._getDateOpts,b=h.substitute(this.attributes,b,{first:!0,dateFormat:d&&d.call(a)});return b},getContent:function(){var a=
this.getInfoTemplate(),b=a&&a.content;if(m.isFunction(b))b=b.call(a,this);else if(m.isString(b))var d=(a=this._graphicsLayer)&&a._getDateOpts,b=h.substitute(this.attributes,b,{dateFormat:d&&d.call(a)});return b},attr:function(a,b){var d=this.getNodes(),c,e=d.length;for(c=0;c<e;c++)null==b?d[c].removeAttribute(a):d[c].setAttribute(a,b);return this},show:function(){this.visible=this._visible=!0;var a,b,d;if(this.getShapes().length){a=this.getNodes();d=a.length;this.attr("data-hidden");for(b=0;b<d;b++)l.show(a[b])}else this._graphicsLayer&&
this._graphicsLayer._draw(this,!0);return this},hide:function(){this.visible=this._visible=!1;var a=this._graphicsLayer,b,d;if(a)if("canvas-2d"===a.surfaceType)a._removeShape(this);else if(a=this.getNodes(),d=a.length){this.attr("data-hidden","");for(b=0;b<d;b++)l.hide(a[b])}return this},toJson:function(){var a={};this.geometry&&(a.geometry=this.geometry.toJson());this.attributes&&(a.attributes=m.mixin({},this.attributes));this.symbol&&(a.symbol=this.symbol.toJson());this.infoTemplate&&(a.infoTemplate=
this.infoTemplate.toJson());return a}});f.prototype.getShape=f.prototype.getDojoShape;k("extend-esri")&&(q.Graphic=f);return f})},"esri/InfoTemplate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(f,m,k,q,l){f=f(null,{declaredClass:"esri.InfoTemplate",constructor:function(f,g){f&&m.isObject(f)&&!m.isFunction(f)?m.mixin(this,f):(this.title=f||"${*}",this.content=g||"${*}")},setTitle:function(f){this.title=f;return this},setContent:function(f){this.content=
f;return this},toJson:function(){return l.fixJson({title:this.title,content:this.content})}});k("extend-esri")&&(q.InfoTemplate=f);return f})},"esri/geometry/jsonUtils":function(){define("dojo/_base/lang dojo/has esri/kernel esri/geometry/Point esri/geometry/Polyline esri/geometry/Polygon esri/geometry/Multipoint esri/geometry/Extent".split(" "),function(f,m,k,q,l,h,g,e){var c={fromJson:function(a){if(void 0!==a.x&&void 0!==a.y)return new q(a);if(void 0!==a.paths)return new l(a);if(void 0!==a.rings)return new h(a);
if(void 0!==a.points)return new g(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return new e(a)},getJsonType:function(a){return a instanceof q?"esriGeometryPoint":a instanceof l?"esriGeometryPolyline":a instanceof h?"esriGeometryPolygon":a instanceof e?"esriGeometryEnvelope":a instanceof g?"esriGeometryMultipoint":null},getGeometryType:function(a){return"esriGeometryPoint"===a?q:"esriGeometryPolyline"===a?l:"esriGeometryPolygon"===a?h:"esriGeometryEnvelope"===a?e:"esriGeometryMultipoint"===
a?g:null}};m("extend-esri")&&f.mixin(f.getObject("geometry",!0,k),c);return c})},"esri/symbols/jsonUtils":function(){define("dojo/_base/lang dojo/has esri/kernel esri/symbols/SimpleMarkerSymbol esri/symbols/PictureMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/CartographicLineSymbol esri/symbols/SimpleFillSymbol esri/symbols/PictureFillSymbol esri/symbols/TextSymbol".split(" "),function(f,m,k,q,l,h,g,e,c,a){var b={fromJson:function(b){var f=null;switch(b.type.substring(0,6)){case "esriSM":f=
new q(b);break;case "esriPM":f=new l(b);break;case "esriTS":f=new a(b);break;case "esriSL":f=void 0!==b.cap?new g(b):new h(b);break;case "esriSF":f=new e(b);break;case "esriPF":f=new c(b)}return f},getShapeDescriptors:function(a){return a&&a.getShapeDescriptors?a.getShapeDescriptors():{defaultShape:null,fill:null,stroke:null}}};m("extend-esri")&&f.mixin(f.getObject("symbol",!0,k),b);return b})},"esri/symbols/PictureMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base esri/kernel esri/lang esri/urlUtils esri/symbols/MarkerSymbol".split(" "),
function(f,m,k,q,l,h,g,e){var c={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};f=f(e,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(a,b,d){a?m.isString(a)?(this.url=a,b&&(this.width=b),d&&(this.height=d)):(this.width=q.pt2px(a.width),this.height=q.pt2px(a.height),b=a.imageData,!(9>k("ie"))&&b&&(d=this.url,this.url="data:"+(a.contentType||"image")+";base64,"+b,this.imageData=d)):(m.mixin(this,c),this.width=q.pt2px(this.width),this.height=q.pt2px(this.height))},
getStroke:function(){return null},getFill:function(){return null},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setUrl:function(a){a!==this.url&&(delete this.imageData,delete this.contentType);this.url=a;return this},getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var a=this.url,b=
this.imageData;if(0===a.indexOf("data:"))var d=a,a=b,b=d.indexOf(";base64,")+8,b=d.substr(b);if(m.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||0===a.indexOf("./")||0===a.indexOf("../")))a=g.getAbsoluteUrl(a);var d=q.px2pt(this.width),d=isNaN(d)?void 0:d,c=q.px2pt(this.height),c=isNaN(c)?void 0:c,a=h.fixJson(m.mixin(this.inherited("toJson",arguments),{type:"esriPMS",url:a,imageData:b,contentType:this.contentType,width:d,height:c}));delete a.color;delete a.size;a.imageData||delete a.imageData;
return a}});f.defaultProps=c;k("extend-esri")&&(m.setObject("symbol.PictureMarkerSymbol",f,l),l.symbol.defaultPictureMarkerSymbol=c);return f})},"esri/symbols/CartographicLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base esri/kernel esri/lang esri/symbols/SimpleLineSymbol".split(" "),function(f,m,k,q,l,h,g,e){var c={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",
STYLE_INSIDE_FRAME:"insideframe",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},a={color:[0,0,0,1],style:c.STYLE_SOLID,width:1,cap:c.CAP_BUTT,join:c.JOIN_MITER,miterLimit:10};f=f(e,{declaredClass:"esri.symbol.CartographicLineSymbol",type:"cartographiclinesymbol",
_caps:{butt:"esriLCSButt",round:"esriLCSRound",square:"esriLCSSquare"},_joins:{miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"},constructor:function(b,d,c,e,f,h){b?m.isString(b)?(this.style=b,d&&(this.color=d),void 0!==c&&(this.width=c),e&&(this.cap=e),f&&(this.join=f),void 0!==h&&(this.miterLimit=h)):(this.cap=g.valueOf(this._caps,b.cap),this.join=g.valueOf(this._joins,b.join),this.width=l.pt2px(b.width),this.miterLimit=l.pt2px(b.miterLimit)):(m.mixin(this,a),this.color=new k(this.color),
this.width=l.pt2px(this.width),this.miterLimit=l.pt2px(this.miterLimit))},setCap:function(a){this.cap=a;return this},setJoin:function(a){this.join=a;return this},setMiterLimit:function(a){this.miterLimit=a;return this},getStroke:function(){return m.mixin(this.inherited("getStroke",arguments),{cap:this.cap,join:this.join===c.JOIN_MITER?this.miterLimit:this.join})},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},
toJson:function(){var a=l.px2pt(this.miterLimit),a=isNaN(a)?void 0:a;return g.fixJson(m.mixin(this.inherited("toJson",arguments),{type:"esriCLS",cap:this._caps[this.cap],join:this._joins[this.join],miterLimit:a}))}});m.mixin(f,c);f.defaultProps=a;q("extend-esri")&&(m.setObject("symbol.CartographicLineSymbol",f,h),h.symbol.defaultCartographicLineSymbol=a);return f})},"esri/symbols/SimpleFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base esri/kernel esri/lang esri/symbols/FillSymbol esri/symbols/SimpleLineSymbol require".split(" "),
function(f,m,k,q,l,h,g,e,c,a){var b={STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forwarddiagonal",STYLE_BACKWARD_DIAGONAL:"backwarddiagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonalcross",STYLE_FORWARDDIAGONAL:"forwarddiagonal",STYLE_BACKWARDDIAGONAL:"backwarddiagonal",STYLE_DIAGONALCROSS:"diagonalcross"},d={style:b.STYLE_SOLID,color:[0,0,0,0.25]};f=f(e,{declaredClass:"esri.symbol.SimpleFillSymbol",type:"simplefillsymbol",
patternUrlPrefix:a.toUrl("esri")+"/images/symbol/sfs/",_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical",forwarddiagonal:"esriSFSForwardDiagonal",backwarddiagonal:"esriSFSBackwardDiagonal",cross:"esriSFSCross",diagonalcross:"esriSFSDiagonalCross"},constructor:function(a,b,e){a?m.isString(a)?(this.style=a,void 0!==b&&(this.outline=b),void 0!==e&&(this.color=e)):this.style=g.valueOf(this._styles,a.style):(m.mixin(this,d),this.outline=new c(this.outline),
this.color=new k(this.color))},setStyle:function(a){this.style=a;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){var a=this.style;return a===b.STYLE_NULL?null:a===b.STYLE_SOLID?this.color:m.mixin({},l.defaultPattern,{src:this.patternUrlPrefix+a+".png",width:10,height:10})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){return g.fixJson(m.mixin(this.inherited("toJson",
arguments),{type:"esriSFS",style:this._styles[this.style]}))}});m.mixin(f,b);f.defaultProps=d;q("extend-esri")&&(m.setObject("symbol.SimpleFillSymbol",f,h),h.symbol.defaultSimpleFillSymbol=d);return f})},"esri/symbols/FillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/symbols/Symbol esri/symbols/SimpleLineSymbol".split(" "),function(f,m,k,q,l,h){f=f(l,{declaredClass:"esri.symbol.FillSymbol",constructor:function(g){g&&(m.isObject(g)&&g.outline)&&(this.outline=
new h(g.outline))},setOutline:function(g){this.outline=g;return this},toJson:function(){var g=this.inherited("toJson",arguments);this.outline&&(g.outline=this.outline.toJson());return g}});k("extend-esri")&&m.setObject("symbol.FillSymbol",f,q);return f})},"esri/symbols/PictureFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base esri/kernel esri/lang esri/urlUtils esri/symbols/FillSymbol".split(" "),function(f,m,k,q,l,h,g,e){var c={xoffset:0,yoffset:0,width:12,
height:12};f=f(e,{declaredClass:"esri.symbol.PictureFillSymbol",type:"picturefillsymbol",xscale:1,yscale:1,xoffset:0,yoffset:0,constructor:function(a,b,d,e){a?m.isString(a)?(this.url=a,void 0!==b&&(this.outline=b),void 0!==d&&(this.width=d),void 0!==e&&(this.height=e)):(this.xoffset=q.pt2px(a.xoffset),this.yoffset=q.pt2px(a.yoffset),this.width=q.pt2px(a.width),this.height=q.pt2px(a.height),b=a.imageData,!(9>k("ie"))&&b&&(d=this.url,this.url="data:"+(a.contentType||"image")+";base64,"+b,this.imageData=
d)):(m.mixin(this,c),this.width=q.pt2px(this.width),this.height=q.pt2px(this.height))},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setOffset:function(a,b){this.xoffset=a;this.yoffset=b;return this},setUrl:function(a){a!==this.url&&(delete this.imageData,delete this.contentType);this.url=a;return this},setXScale:function(a){this.xscale=a;return this},setYScale:function(a){this.yscale=a;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},
getFill:function(){return m.mixin({},q.defaultPattern,{src:this.url,width:this.width*this.xscale,height:this.height*this.yscale,x:this.xoffset,y:this.yoffset})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var a=this.url,b=this.imageData;if(0===a.indexOf("data:"))var d=a,a=b,b=d.indexOf(";base64,")+8,b=d.substr(b);if(m.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||
0===a.indexOf("./")||0===a.indexOf("../")))a=g.getAbsoluteUrl(a);var d=q.px2pt(this.width),d=isNaN(d)?void 0:d,c=q.px2pt(this.height),c=isNaN(c)?void 0:c,e=q.px2pt(this.xoffset),e=isNaN(e)?void 0:e,f=q.px2pt(this.yoffset),f=isNaN(f)?void 0:f,a=h.fixJson(m.mixin(this.inherited("toJson",arguments),{type:"esriPFS",url:a,imageData:b,contentType:this.contentType,width:d,height:c,xoffset:e,yoffset:f,xscale:this.xscale,yscale:this.yscale}));a.imageData||delete a.imageData;return a}});f.defaultProps=c;k("extend-esri")&&
(m.setObject("symbol.PictureFillSymbol",f,l),l.symbol.defaultPictureFillSymbol=c);return f})},"esri/symbols/TextSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base esri/kernel esri/lang esri/Color esri/symbols/Symbol esri/symbols/Font".split(" "),function(f,m,k,q,l,h,g,e,c){var a={type:"textsymbol",x:0,y:0,text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:q.defaultFont,angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},b={start:"left",middle:"center",end:"right"},
d={left:"start",center:"middle",right:"end",justify:"start"},n={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"};f=f(e,{declaredClass:"esri.symbol.TextSymbol",angle:0,xoffset:0,yoffset:0,constructor:function(b,d,e){m.mixin(this,a);this.font=new c(this.font);this.color=new g(this.color);b&&(m.isObject(b)?(m.mixin(this,b),this.color&&h.isDefined(this.color[0])&&(this.color=g.toDojoColor(this.color)),this.type="textsymbol",this.font=new c(this.font),this.xoffset=
q.pt2px(this.xoffset),this.yoffset=q.pt2px(this.yoffset),this.angle&&(this.angle*=-1)):(this.text=b,d&&(this.font=d),e&&(this.color=e)));this.setAlign(this.align||this.getSVGAlign())},setFont:function(a){this.font=a;return this},setAngle:function(a){this.angle=a;return this},setOffset:function(a,b){this.xoffset=a;this.yoffset=b;return this},setAlign:function(a){this.align=a;this.setHorizontalAlignment(a&&b[a.toLowerCase()]||"center");return this},setHorizontalAlignment:function(a){this.horizontalAlignment=
a;return this},getSVGAlign:function(){var a=this.horizontalAlignment;return a=a&&d[a.toLowerCase()]||"middle"},setVerticalAlignment:function(a){this.verticalAlignment=a;return this},getSVGBaseline:function(){var a=this.verticalAlignment;return a&&n[a.toLowerCase()]||"alphabetic"},getSVGBaselineShift:function(){return"bottom"===this.verticalAlignment?"super":null},setDecoration:function(a){this.decoration=a;this.font||this.setFont(new c);this.font.setDecoration(a);return this},setRotated:function(a){this.rotated=
a;return this},setKerning:function(a){this.kerning=a;return this},setText:function(a){this.text=a;return this},getStroke:function(){return null},getFill:function(){return this.color},getWidth:function(){var a=this.getHeight(),b=0,d,c;for(d=0;d<this.text.length;d++)c=this.text.charAt(d),b=c==c.toUpperCase()?b+0.7*a:b+0.5*a;return b},getHeight:function(){return q.normalizedLength(this.font.size)},toJson:function(){var a=q.px2pt(this.xoffset),b=q.px2pt(this.yoffset),a=isNaN(a)?void 0:a,b=isNaN(b)?void 0:
b;return h.fixJson(m.mixin(this.inherited("toJson",arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,borderLineSize:this.borderLineSize,haloSize:this.haloSize,haloColor:this.haloColor,verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,rightToLeft:this.rightToLeft,width:this.width,angle:this.angle&&-1*this.angle,xoffset:a,yoffset:b,text:this.text,rotated:this.rotated,kerning:this.kerning,font:this.font.toJson()}))}});
m.mixin(f,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});f.defaultProps=a;k("extend-esri")&&(m.setObject("symbol.TextSymbol",f,l),l.symbol.defaultTextSymbol=a);return f})},"esri/symbols/Font":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base esri/kernel esri/lang".split(" "),function(f,m,k,q,l,h){f=f(null,{declaredClass:"esri.symbol.Font",
constructor:function(g,e,c,a,b){g?m.isObject(g)?m.mixin(this,g):(this.size=g,parseFloat(this.size)==this.size&&(this.size+="px"),void 0!==e&&(this.style=e),void 0!==c&&(this.variant=c),void 0!==a&&(this.weight=a),void 0!==b&&(this.family=b)):m.mixin(this,q.defaultFont);parseFloat(this.size)==this.size&&(this.size+="pt");9>k("ie")&&(this.size&&m.isString(this.size)&&-1<this.size.indexOf("em"))&&(this.size=q.pt2px(12*parseFloat(this.size))+"px");this.size=this._convert2PxSize(this.size)},setSize:function(g){this.size=
this._convert2PxSize(g);return this},_convert2PxSize:function(g){var e;parseFloat(g)==g?e=g:m.isString(g)&&(-1<g.indexOf("pt")?e=q.pt2px(parseFloat(g)):-1<g.indexOf("px")?e=parseFloat(g):-1<g.indexOf("em")?e=q.pt2px(12*parseFloat(g)):-1<g.indexOf("%")&&(e=q.pt2px(0.12*parseFloat(g))));return e},setStyle:function(g){this.style=g;return this},setVariant:function(g){this.variant=g;return this},setWeight:function(g){this.weight=g;return this},setFamily:function(g){this.family=g;return this},setDecoration:function(g){this.decoration=
g;return this},toJson:function(){return h.fixJson({size:q.px2pt(this.size),style:this.style,variant:this.variant,decoration:this.decoration,weight:this.weight,family:this.family})}});m.mixin(f,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});k("extend-esri")&&m.setObject("symbol.Font",f,l);return f})},"dojo/uacss":function(){define(["./dom-geometry",
"./_base/lang","./domReady","./sniff","./_base/window"],function(f,m,k,q,l){var h=l.doc.documentElement;l=q("ie");var g=q("opera"),e=Math.floor,c=q("ff"),a=f.boxModel.replace(/-/,""),g={dj_quirks:q("quirks"),dj_opera:g,dj_khtml:q("khtml"),dj_webkit:q("webkit"),dj_safari:q("safari"),dj_chrome:q("chrome"),dj_gecko:q("mozilla"),dj_ios:q("ios"),dj_android:q("android")};l&&(g.dj_ie=!0,g["dj_ie"+e(l)]=!0,g.dj_iequirks=q("quirks"));c&&(g["dj_ff"+e(c)]=!0);g["dj_"+a]=!0;var b="",d;for(d in g)g[d]&&(b+=d+
" ");h.className=m.trim(h.className+" "+b);k(function(){if(!f.isBodyLtr()){var a="dj_rtl dijitRtl "+b.replace(/ /g,"-rtl ");h.className=m.trim(h.className+" "+a+"dj_rtl dijitRtl "+b.replace(/ /g,"-rtl "))}});return q})},"esri/MapNavigationManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/event dojo/mouse dojo/keys esri/kernel esri/MouseEvents esri/TouchEvents esri/PointerEvents esri/config esri/sniff esri/lang esri/fx esri/graphic esri/tileUtils esri/geometry/ScreenPoint esri/geometry/Extent esri/geometry/Rect esri/geometry/mathUtils esri/symbols/SimpleFillSymbol".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D){var C=q.connect,B=q.disconnect,E=n("chrome"),A=n("safari"),G=[g.NUMPAD_PLUS,61,g.NUMPAD_MINUS,g.UP_ARROW,g.NUMPAD_8,g.RIGHT_ARROW,g.NUMPAD_6,g.DOWN_ARROW,g.NUMPAD_2,g.LEFT_ARROW,g.NUMPAD_4,g.PAGE_UP,g.NUMPAD_9,g.PAGE_DOWN,g.NUMPAD_3,g.END,g.NUMPAD_1,g.HOME,g.NUMPAD_7];f=f(null,{declaredClass:"esri.MapNavigationManager",eventModel:"",constructor:function(e,g){this.map=e;m.mixin(this,g);var f=e.__container;n("esri-pointer")?(this.pointerEvents=new b(f,
{map:e}),this.eventModel="pointer"):n("esri-touch")?(this.touchEvents=new a(f,{map:e}),this.eventModel="touch",n("ios")||(this.mouseEvents=new c(f,{map:e}))):(this.mouseEvents=new c(f,{map:e}),this.eventModel="mouse");this._zoomRect=new s(null,new D(d.defaults.map.zoomSymbol));this._keyDx=this._keyDy=0;this._adjustPinch=m.hitch(this,this._adjustPinch);this._adjustPinchEnd=m.hitch(this,this._adjustPinchEnd)},_panInit:function(a){var b=this.mouseEvents;h.isLeft(a)&&(this.map.isPan&&!a.shiftKey)&&(this._dragOrigin=
new u(0,0),m.mixin(this._dragOrigin,a.screenPoint),this._panStartHandle=C(b,"onMouseDragStart",this,this._panStart),this._panHandle=C(b,"onMouseDrag",this,this._pan),this._panEndHandle=C(b,"onMouseUp",this,this._panEnd),(E||A)&&a.preventDefault())},_panStart:function(a){this.map.setCursor("move");this.map.__panStart(a.screenPoint.x,a.screenPoint.y)},_pan:function(a){this.map.__pan(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-this._dragOrigin.y)},_panEnd:function(a){B(this._panStartHandle);B(this._panHandle);
B(this._panEndHandle);this._panStartHandle=this._panHandle=this._panEndHandle=null;var b=this.map;b.__panning&&(b.__panEnd(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-this._dragOrigin.y),b.resetMapCursor())},_zoomInit:function(a){var b=this.map,d=this.pointerEvents||this.mouseEvents;if((h.isLeft(a)||a.pointerType)&&b.isRubberBandZoom&&a.shiftKey)b.setCursor("crosshair"),this._dragOrigin=m.mixin({},a.screenPoint),this._zoomDir=a.ctrlKey||a.metaKey?-1:1,this.pointerEvents?(this._zoomHandle=C(d,
"onSwipeMove",this,this._zoom),this._zoomEndHandle=C(d,"onSwipeEnd",this,this._zoomEnd)):(this._zoomHandle=C(d,"onMouseDrag",this,this._zoom),this._zoomEndHandle=C(d,"onMouseUp",this,this._zoomEnd)),E&&a.preventDefault()},_zoom:function(a){var b=this.map,d=this._normalizeRect(a).offset(b.__visibleRect.x,b.__visibleRect.y);a=b.graphics;var c=this._zoomRect;c.geometry||b.setCursor("crosshair");c.geometry&&a.remove(c,!0);var e=b.toMap(new u(d.x,d.y)),d=b.toMap(new u(d.x+d.width,d.y+d.height)),d=new y(e.x,
e.y,d.x-e.x,e.y-d.y,b.spatialReference);d._originOnly=!0;c.setGeometry(d);a.add(c,!0)},_zoomEnd:function(a){var b=this._zoomRect,d=this.map,c=d.extent,e=d.spatialReference;B(this._zoomHandle);B(this._zoomEndHandle);this._zoomHandle=this._zoomEndHandle=null;if(d._canZoom(this._zoomDir)&&b.getDojoShape()){d.graphics.remove(b);b.geometry=null;a=this._normalizeRect(a);a.x+=d.__visibleRect.x;a.y+=d.__visibleRect.y;if(-1===this._zoomDir){var g=c.getWidth();a=(g*d.width/a.width-g)/2;e=new z(c.xmin-a,c.ymin-
a,c.xmax+a,c.ymax+a,e)}else c=d.toMap({x:a.x,y:a.y+a.height}),a=d.toMap({x:a.x+a.width,y:a.y}),e=new z(c.x,c.y,a.x,a.y,e);d._extentUtil(null,null,e)}b.getDojoShape()&&d.graphics.remove(b,!0);this._zoomDir=0;d.resetMapCursor()},_wheelZoom:function(a,b){var d=this.map;if(!b){if(d.smartNavigation&&!a.shiftKey&&!d._isPanningOrZooming()){d.disableScrollWheelZoom();this._setScrollWheelPan(!0);this._wheelPan(a);return}var c=a.timeStamp;if(!r.isDefined(c)||0>=c)c=(new Date).getTime();if(100>(this._mwts?c-
this._mwts:c))return;this._mwts=c}d._canZoom(a.value)&&d._extentUtil({numLevels:a.value,mapAnchor:a.mapPoint,screenAnchor:a.screenPoint})},_wheelPan:function(a){var b=this.map;if(a.shiftKey&&!b._isPanningOrZooming())this._setScrollWheelPan(!1),b.enableScrollWheelZoom(),this._wheelZoom(a);else{var d=0,c=0;n("ff")?a.axis===a.HORIZONTAL_AXIS?d=-a.detail:c=-a.detail:(d=a.wheelDeltaX,c=a.wheelDeltaY);b.translate(d,c)}},_setScrollWheelPan:function(a){this.map.isScrollWheelPan=a;this.mouseEvents.enableMouseWheel(a);
B(this._mwMacHandle);this._mwMacHandle=null;a&&(this._mwMacHandle=C(this.mouseEvents,"onMouseWheel",this,this._wheelPan))},_recenter:function(a){a.shiftKey&&!this.map._isPanningOrZooming()&&this.map.centerAt(a.mapPoint)},_recenterZoom:function(a){a.shiftKey&&!this.map._isPanningOrZooming()&&(a.value=a.ctrlKey||a.metaKey?-1:1,this._wheelZoom(a,!0))},_dblClickZoom:function(a){this.map._isPanningOrZooming()||(a.value=1,this._wheelZoom(a,!0))},_twoFingerTap:function(a){this.map._isPanningOrZooming()||
(a.value=-1,this._wheelZoom(a,!0))},_keyDown:function(a){var b=a.keyCode,d=this.map;if(-1!==k.indexOf(G,b)){if(b===g.NUMPAD_PLUS||61===b)d._extentUtil({numLevels:1});else if(b===g.NUMPAD_MINUS)d._extentUtil({numLevels:-1});else{d.__panning||d.__panStart(0,0);switch(b){case g.UP_ARROW:case g.NUMPAD_8:this._keyDy+=10;break;case g.RIGHT_ARROW:case g.NUMPAD_6:this._keyDx-=10;break;case g.DOWN_ARROW:case g.NUMPAD_2:this._keyDy-=10;break;case g.LEFT_ARROW:case g.NUMPAD_4:this._keyDx+=10;break;case g.PAGE_UP:case g.NUMPAD_9:this._keyDx-=
10;this._keyDy+=10;break;case g.PAGE_DOWN:case g.NUMPAD_3:this._keyDx-=10;this._keyDy-=10;break;case g.END:case g.NUMPAD_1:this._keyDx+=10;this._keyDy-=10;break;case g.HOME:case g.NUMPAD_7:this._keyDx+=10;this._keyDy+=10;break;default:return}d.__pan(this._keyDx,this._keyDy)}l.stop(a)}},_keyEnd:function(a){var b=this.map;b.__panning&&a.keyCode!==g.SHIFT&&(b.__panEnd(this._keyDx,this._keyDy),this._keyDx=this._keyDy=0)},_swipeInit:function(a){var b=this.map,b=b._zoomAnim||b._panAnim;if(a.shiftKey)return!1;
b&&b._active&&(b.stop(),b._fire("onEnd",[b.node]));this._dragOrigin=new u(0,0);m.mixin(this._dragOrigin,a.screenPoint);B(this._swipeHandle);B(this._swipeEndHandle);this._swipeHandle=C(this.touchEvents||this.pointerEvents,"onSwipeMove",this,this._swipe);this._swipeEndHandle=C(this.touchEvents||this.pointerEvents,"onSwipeEnd",this,this._swipeEnd)},_swipe:function(a){var b=this.map;b.__panning?(this._panX=a.screenPoint.x,this._panY=a.screenPoint.y,b.__pan(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-
this._dragOrigin.y)):(b.setCursor("move"),b.__panStart(a.screenPoint.x,a.screenPoint.y))},_swipeEnd:function(a){B(this._swipeHandle);B(this._swipeEndHandle);this._swipeHandle=this._swipeEndHandle=null;var b=this.map;b.__panning&&(b.resetMapCursor(),b.__panEnd(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-this._dragOrigin.y))},_pinchInit:function(a){var b=this.map,d=b._zoomAnim||b._panAnim;d&&d._active?(d.stop(),d._fire("onEnd",[d.node])):b.__panning&&(a.screenPoint=new u(this._panX,this._panY),
a.mapPoint=b.toMap(a.screenPoint),this._swipeEnd(a));B(this._pinchHandle);B(this._pinchEndHandle);this._pinchHandle=C(this.touchEvents||this.pointerEvents,"onPinchMove",this,this._pinch);this._pinchEndHandle=C(this.touchEvents||this.pointerEvents,"onPinchEnd",this,this._pinchEnd)},_pinch:function(a){var b=this.map;a.screenPoints&&(this.currLength=w.getLength(a.screenPoints[0],a.screenPoints[1]),b.__zooming?(a=this.currLength/this._length,this._zoomStartExtent=this.__scaleExtent(b.extent,a,this._dragOrigin),
b.__zoom(this._zoomStartExtent,a,this._dragOrigin)):(this._dragOrigin=new u((a.screenPoints[0].x+a.screenPoints[1].x)/2,(a.screenPoints[0].y+a.screenPoints[1].y)/2),this._length=this.currLength,b.__zoomStart(b.extent,this._dragOrigin)),b._fireOnScale(this.currLength/this._length,this._dragOrigin,!0))},_pinchEnd:function(a){a=this.map;B(this._pinchHandle);B(this._pinchEndHandle);this._pinchHandle=this._pinchEndHandle=null;if(a.__zooming&&null===a._zoomAnim){var b=this.currLength/this._length,c=a.extent.getWidth();
this._zoomAnimAnchor=a.toMap(this._dragOrigin);this._zoomStartExtent=this.__scaleExtent(a.extent,1/b,this._zoomAnimAnchor);if(a.__tileInfo){var e=x.getCandidateTileInfo(a,a.__tileInfo,this._zoomStartExtent),g=a.__getExtentForLevel(e.lod.level,this._zoomAnimAnchor),f=a.getMinZoom(),n=a.getMaxZoom(),h=g.extent,g=g.lod,k=c/h.getWidth(),l=e.lod.level;1>b?k>b&&l--:k<b&&l++;l<f?l=f:l>n&&(l=n);l!==e.lod.level&&(g=a.__getExtentForLevel(l,this._zoomAnimAnchor),h=g.extent,g=g.lod);this._zoomEndExtent=h;this._zoomEndLod=
g;a._zoomAnim=t.animateRange({range:{start:c/this._zoomStartExtent.getWidth(),end:k},duration:d.defaults.map.zoomDuration,rate:d.defaults.map.zoomRate,onAnimate:this._adjustPinch,onEnd:this._adjustPinchEnd});a._zoomAnim.play();a._fireOnScale(a.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin)}else this._zoomEndExtent=this._zoomStartExtent,a._fireOnScale(a.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin),this._adjustPinchEnd()}},_adjustPinch:function(a){var b=this.__scaleExtent(this.map.extent,
a,this._zoomAnimAnchor);this.map.__zoom(b,a,this._dragOrigin)},_adjustPinchEnd:function(){var a=this.map,b=a.extent.getWidth()/this._zoomEndExtent.getWidth(),d=this.__scaleExtent(a.extent,1/b,this._zoomAnimAnchor),c=this._dragOrigin,e=this._zoomEndLod;this._zoomStartExtent=this._zoomEndExtent=this._zoomEndLod=this._dragOrigin=a._zoomAnim=this._zoomAnimAnchor=null;a.__zoomEnd(d,b,c,e,!0)},__scaleExtent:function(a,b,d){d=d||a.getCenter();b=a.expand(b);var c=a.xmin-(b.getWidth()-a.getWidth())*(d.x-a.xmin)/
a.getWidth();d=a.ymax-(b.getHeight()-a.getHeight())*(d.y-a.ymax)/a.getHeight();return new z(c,d-b.getHeight(),c+b.getWidth(),d,a.spatialReference)},_normalizeRect:function(a){a=a.screenPoint;var b=this._dragOrigin.x,d=this._dragOrigin.y;a=new y((a.x<b?a.x:b)-this.map.__visibleRect.x,(a.y<d?a.y:d)-this.map.__visibleRect.y,Math.abs(a.x-b),Math.abs(a.y-d));delete a.spatialReference;0===a.width&&(a.width=1);0===a.height&&(a.height=1);return a},setImmediateClick:function(a){switch(this.eventModel){case "mouse":this.mouseEvents.setImmediateClick(a);
break;case "touch":case "pointer":(this.touchEvents||this.pointerEvents).setImmediateTap(a)}},enablePan:function(){this.disablePan();switch(this.eventModel){case "mouse":this._panInitHandle=C(this.mouseEvents,"onMouseDown",this,this._panInit);break;case "touch":this._panInitHandle=C(this.mouseEvents,"onMouseDown",this,this._panInit);this._swipeInitHandle=C(this.touchEvents,"onSwipeStart",this,this._swipeInit);break;case "pointer":this._swipeInitHandle=C(this.pointerEvents,"onSwipeStart",this,this._swipeInit)}},
disablePan:function(){B(this._panInitHandle);this._panInitHandle=null;B(this._swipeInitHandle);this._swipeInitHandle=null},enableRubberBandZoom:function(){this.disableRubberBandZoom();this._zoomInitHandle=this.pointerEvents?C(this.pointerEvents,"onSwipeStart",this,this._zoomInit):C(this.mouseEvents,"onMouseDown",this,this._zoomInit)},disableRubberBandZoom:function(){B(this._zoomInitHandle);this._zoomInitHandle=null},enablePinchZoom:function(){this.disablePinchZoom();if("touch"===this.eventModel||
"pointer"===this.eventModel)this._pinchInitHandle=C(this.touchEvents||this.pointerEvents,"onPinchStart",this,this._pinchInit)},disablePinchZoom:function(){B(this._pinchInitHandle);this._pinchInitHandle=null},enableScrollWheelZoom:function(){this.disableScrollWheelZoom();this._wheelHandle=C(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelZoom)},disableScrollWheelZoom:function(){B(this._wheelHandle);this._wheelHandle=null},enableDoubleClickZoom:function(){this.disableDoubleClickZoom();
switch(this.eventModel){case "mouse":this._dblClickHandle=C(this.mouseEvents,"onDblClick",this,this._dblClickZoom);break;case "touch":this._dblClickHandle=C(this.mouseEvents,"onDblClick",this,this._dblClickZoom);this._dblTapHandle=C(this.touchEvents,"onDoubleTap",this,this._dblClickZoom);this._zoomOutHandle=C(this.touchEvents,"onTwoFingerTap",this,this._twoFingerTap);break;case "pointer":this._dblTapHandle=C(this.pointerEvents,"onDoubleTap",this,this._dblClickZoom),this._zoomOutHandle=C(this.pointerEvents,
"onTwoFingerTap",this,this._twoFingerTap)}},disableDoubleClickZoom:function(){B(this._dblClickHandle);B(this._zoomOutHandle);this._dblTapHandle&&B(this._dblTapHandle);this._dblClickHandle=this._zoomOutHandle=this._dblTapHandle=null},enableShiftDoubleClickZoom:function(){this.disableShiftDoubleClickZoom();this._sDblClickHandle=C(this.pointerEvents||this.mouseEvents,"onDblClick",this,this._recenterZoom)},disableShiftDoubleClickZoom:function(){B(this._sDblClickHandle);this._sDblClickHandle=null},enableClickRecenter:function(){this.disableClickRecenter();
this._recenterHandle=C(this.pointerEvents||this.mouseEvents,"onClick",this,this._recenter)},disableClickRecenter:function(){B(this._recenterHandle);this._recenterHandle=null},enableKeyboardNavigation:function(){this.disableKeyboardNavigation();this._keyHandle=C(this.pointerEvents||this.mouseEvents,"onKeyDown",this,this._keyDown);this._keyEndHandle=C(this.pointerEvents||this.mouseEvents,"onKeyUp",this,this._keyEnd)},disableKeyboardNavigation:function(){B(this._keyHandle);B(this._keyEndHandle);this._keyHandle=
this._keyEndHandle=null},enableNavigation:function(){var a=this.map;a&&a.loaded&&(a.enableDoubleClickZoom(),a.enableClickRecenter(),a.enablePan(),a.enableRubberBandZoom(),this.enablePinchZoom(),a.enableKeyboardNavigation(),a.smartNavigation?this._setScrollWheelPan(!0):a.enableScrollWheelZoom())},disableNavigation:function(){var a=this.map;a&&a.loaded&&(a.disableDoubleClickZoom(),a.disableClickRecenter(),a.disablePan(),a.disableRubberBandZoom(),this.disablePinchZoom(),a.disableKeyboardNavigation(),
a.disableScrollWheelZoom(),a.smartNavigation&&this._setScrollWheelPan(!1))},destroy:function(){this.touchEvents&&this.touchEvents.destroy();this.mouseEvents&&this.mouseEvents.destroy();this.pointerEvents&&this.pointerEvents.destroy();var a,b=[this._panInitHandle,this._panStartHandle,this._panHandle,this._panEndHandle,this._zoomInitHandle,this._zoomHandle,this._zoomEndHandle,this._wheelHandle,this._mwMacHandle,this._dblClickHandle,this._zoomOutHandle,this._recenterHandle,this._sDblClickHandle,this._dblTapHandle,
this._keyHandle,this._keyEndHandle,this._swipeInitHandle,this._swipeHandle,this._swipeEndHandle,this._pinchInitHandle,this._pinchHandle,this._pinchEndHandle];for(a=0;a<b.length;a++)B(b[a]);this.map=this.touchEvents=this.mouseEvents=this.eventModel=this.pointerEvents=this._zoomRect=this._dragOrigin=this._panInitHandle=this._panStartHandle=this._panHandle=this._panEndHandle=this._zoomInitHandle=this._zoomHandle=this._zoomEndHandle=this._wheelHandle=this._mwMacHandle=this._dblClickHandle=this._zoomOutHandle=
this._recenterHandle=this._sDblClickHandle=this._dblTapHandle=this._keyHandle=this._keyEndHandle=this._swipeInitHandle=this._swipeHandle=this._swipeEndHandle=this._pinchInitHandle=this._pinchHandle=this._pinchEndHandle=null}});n("extend-esri")&&(e.MapNavigationManager=f);return f})},"esri/MouseEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/_base/connect dojo/_base/event esri/kernel esri/Evented esri/geometry/Point esri/geometry/ScreenPoint".split(" "),
function(f,m,k,q,l,h,g,e,c,a){var b=l.connect,d=l.disconnect;f=f([e],{declaredClass:"esri.MouseEvents",doubleClickDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==q("mac")?1:3,wheelDivisor:2>q("chrome")?360:120,preventPageScroll:!0,map:null,constructor:function(a,d){this.node=a;k.mixin(this,d);var c=function(a){h.stop(a);return!1};q("mozilla")&&m.style(a,"MozUserSelect","none");this._handles=[b(a,"onselectstart",c),b(a,"ondragstart",c),b(a,"onmouseenter",this,this._onMouseEnterHandler),
b(a,"onmouseleave",this,this._onMouseLeaveHandler),b(a,"onmousedown",this,this._onMouseDownHandler),b(a,"onclick",this,this._onClickHandler),b(a,"ondblclick",this,this._onDblClickHandler)];this._onMouseMoveHandler_connect=b(a,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=b(a,"onmouseup",this,this._onMouseUpHandler);this._fireClickEvent=k.hitch(this,this._fireClickEvent);this._initialDuration=this.doubleClickDuration;this.preventPageScroll=(c=this.map)?c.isScrollWheelZoom||
c.isScrollWheelPan:this.preventPageScroll;this.enableMouseWheel(!1)},_fire:function(a,b){if(this[a])this[a](b);if(this.map&&this.map[a])this.map[a](b)},_processEvent:function(b){b=h.fix(b,b.target);var d=this.map,e=d&&d.position;e&&("DOMMouseScroll"===b.type&&3>q("ff")?b.screenPoint=new a(window.scrollX+b.screenX-e.x,window.scrollY+b.screenY-e.y):b.screenPoint=new a(b.pageX-e.x,b.pageY-e.y),b.mapPoint=d.extent?d.toMap(b.screenPoint):new c);b.numPoints=0;return b},_onMouseEnterHandler:function(a){d(this._onKeyDown_connect);
d(this._onKeyUp_connect);this._onKeyDown_connect=b(document,"onkeydown",this,this._onKeyDownHandler);this._onKeyUp_connect=b(document,"onkeyup",this,this._onKeyUpHandler);this._fire("onMouseOver",this._processEvent(a))},_onMouseLeaveHandler:function(a){d(this._onKeyDown_connect);d(this._onKeyUp_connect);this._onKeyDown_connect=this._onKeyUp_connect=null;this._fire("onMouseOut",this._processEvent(a))},_onMouseMoveHandler:function(a){this._dragEnd?this._dragEnd=!1:this._fire("onMouseMove",this._processEvent(a))},
_onMouseDownHandler:function(a){d(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=null;this.node.setCapture&&this.node.setCapture(!1);this._onMouseDragHandler_connect=b(document,"onmousemove",this,this._onMouseDragHandler);this._startX=a.pageX;this._startY=a.pageY;this._fire("onMouseDown",this._processEvent(a))},_onMouseUpHandler:function(a){var c=this.node;c.releaseCapture&&c.releaseCapture();d(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=null;d(this._onMouseMoveHandler_connect);
this._onMouseMoveHandler_connect=b(c,"onmousemove",this,this._onMouseMoveHandler);this._fire("onMouseUp",this._processEvent(a))},_onMouseDragHandler:function(a){d(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=b(document,"onmousemove",this,this._onMouseDraggingHandler);d(this._onMouseUpHandler_connect);this._onMouseUpHandler_connect=b(document,"onmouseup",this,this._onDragMouseUpHandler);this._docLeaveConnect=b(document,"onmouseout",this,this._onDocMouseOut);this._fire("onMouseDragStart",
this._processEvent(a))},_onMouseDraggingHandler:function(a){h.stop(a);this._fire("onMouseDrag",this._processEvent(a))},_onDragMouseUpHandler:function(a){var c=this.node;c.releaseCapture&&c.releaseCapture();this._dragEnd=!0;d(this._docLeaveConnect);d(this._onMouseDragHandler_connect);d(this._onMouseUpHandler_connect);this._docLeaveConnect=this._onMouseDragHandler_connect=null;this._onMouseMoveHandler_connect=b(c,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=b(c,"onmouseup",
this,this._onMouseUpHandler);a=this._processEvent(a);this._fire("onMouseDragEnd",a);this._fire("onMouseUp",a)},_onDocMouseOut:function(a){var b=9>q("ie")?a.toElement:a.relatedTarget,d=b&&b.nodeName.toLowerCase();(!b||q("chrome")&&"html"===d)&&this._onDragMouseUpHandler(a)},_onClickHandler:function(a){a=this._processEvent(a);a.pageX!==this._startX||a.pageY!==this._startY||(clearTimeout(this._clickTimer),this._clickEvent=k.mixin({},a),this._clickTimer=setTimeout(this._fireClickEvent,this.doubleClickDuration))},
_fireClickEvent:function(){clearTimeout(this._clickTimer);9>q("ie")&&(this._clickEvent.graphic=g._ieGraphic,delete g._ieGraphic);this._fire("onClick",this._clickEvent)},_onDblClickHandler:function(a){clearTimeout(this._clickTimer);this._fire("onDblClick",this._processEvent(a))},_onMouseWheelHandler:function(a){var b=this.map;(b?b.isScrollWheelZoom||b.isScrollWheelPan:this.preventPageScroll)&&h.stop(a);var b=q("ie")||q("webkit")?a.wheelDelta/this.wheelDivisor:-a.detail/this.mozWheelDivisor,d=Math.abs(b),
d=d<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;a.value=0>b?-d:d;this._fire("onMouseWheel",this._processEvent(a))},_onKeyDownHandler:function(a){this._fire("onKeyDown",a)},_onKeyUpHandler:function(a){this._fire("onKeyUp",a)},enableMouseWheel:function(a){d(this._scrollHandle);this._scrollHandle=b(this.node,q("ff")||q("mozilla")?a?"MozMousePixelScroll":"DOMMouseScroll":"onmousewheel",this,this._onMouseWheelHandler)},setImmediateClick:function(a){this.doubleClickDuration=a?0:this._initialDuration},
destroy:function(){var a=this._handles.concat([this._onMouseMoveHandler_connect,this._onMouseUpHandler_connect,this._onMouseDragHandler_connect,this._scrollHandle,this._onKeyDown_connect,this._onKeyUp_connect,this._docLeaveConnect]),b;for(b=0;b<a.length;b++)d(a[b]);clearTimeout(this._clickTimer);this.node=this.map=this._handles=this._clickEvent=this._onMouseMoveHandler_connect=this._onMouseUpHandler_connect=this._onMouseDragHandler_connect=this._scrollHandle=this._onKeyDown_connect=this._onKeyUp_connect=
this._docLeaveConnect=null}});q("extend-esri")&&(g.MouseEvents=f);return f})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(f,m,k,q,l,h,g,e){f.byId=m.byId;f.isDescendant=m.isDescendant;f.setSelectable=m.setSelectable;f.getAttr=q.get;f.setAttr=q.set;f.hasAttr=q.has;f.removeAttr=q.remove;f.getNodeProp=q.getNodeProp;f.attr=function(c,a,b){return 2==arguments.length?q["string"==typeof a?"get":
"set"](c,a):q.set(c,a,b)};f.hasClass=h.contains;f.addClass=h.add;f.removeClass=h.remove;f.toggleClass=h.toggle;f.replaceClass=h.replace;f._toDom=f.toDom=g.toDom;f.place=g.place;f.create=g.create;f.empty=function(c){g.empty(c)};f._destroyElement=f.destroy=function(c){g.destroy(c)};f._getPadExtents=f.getPadExtents=e.getPadExtents;f._getBorderExtents=f.getBorderExtents=e.getBorderExtents;f._getPadBorderExtents=f.getPadBorderExtents=e.getPadBorderExtents;f._getMarginExtents=f.getMarginExtents=e.getMarginExtents;
f._getMarginSize=f.getMarginSize=e.getMarginSize;f._getMarginBox=f.getMarginBox=e.getMarginBox;f.setMarginBox=e.setMarginBox;f._getContentBox=f.getContentBox=e.getContentBox;f.setContentSize=e.setContentSize;f._isBodyLtr=f.isBodyLtr=e.isBodyLtr;f._docScroll=f.docScroll=e.docScroll;f._getIeDocumentElementOffset=f.getIeDocumentElementOffset=e.getIeDocumentElementOffset;f._fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft;f.position=e.position;f.marginBox=function(c,a){return a?e.setMarginBox(c,
a):e.getMarginBox(c)};f.contentBox=function(c,a){return a?e.setContentSize(c,a):e.getContentBox(c)};f.coords=function(c,a){f.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");c=m.byId(c);var b=k.getComputedStyle(c),b=e.getMarginBox(c,b),d=e.position(c,a);b.x=d.x;b.y=d.y;return b};f.getProp=l.get;f.setProp=l.set;f.prop=function(c,a,b){return 2==arguments.length?l["string"==typeof a?"get":"set"](c,a):l.set(c,a,b)};f.getStyle=k.get;f.setStyle=k.set;f.getComputedStyle=k.getComputedStyle;
f.__toPixelValue=f.toPixelValue=k.toPixelValue;f.style=function(c,a,b){switch(arguments.length){case 1:return k.get(c);case 2:return k["string"==typeof a?"get":"set"](c,a)}return k.set(c,a,b)};return f})},"esri/TouchEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/dom esri/kernel esri/Evented esri/geometry/Point esri/geometry/ScreenPoint".split(" "),function(f,m,k,q,l,h,g,e,c){f=f([g],{declaredClass:"esri.TouchEvents",tapRadius:8,doubleTapRadius:10,
tapStartTolerance:50,doubleTapDuration:300,map:null,constructor:function(a,b){this.node=a;k.mixin(this,b);m.setSelectable(a,!1);this._touchStart=k.hitch(this,this._touchStart);this._touchMove=k.hitch(this,this._touchMove);this._touchEnd=k.hitch(this,this._touchEnd);this._touchCancel=k.hitch(this,this._touchCancel);a.addEventListener("touchstart",this._touchStart,!1);a.addEventListener("touchmove",this._touchMove,!1);a.addEventListener("touchend",this._touchEnd,!1);a.addEventListener("touchcancel",
this._touchCancel,!1);this.map&&(this._mouseOver=k.hitch(this,this._mouseOver),this._mouseOut=k.hitch(this,this._mouseOut),this._mouseDown=k.hitch(this,this._mouseDown),this._mouseUp=k.hitch(this,this._mouseUp),this._mouseClick=k.hitch(this,this._mouseClick),a.addEventListener("mouseover",this._mouseOver,!1),a.addEventListener("mouseout",this._mouseOut,!1),a.addEventListener("mousedown",this._mouseDown,!1),a.addEventListener("mouseup",this._mouseUp,!1),a.addEventListener("click",this._mouseClick,
!1));this._numTouches=0;this._nodeTouches=[];this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_touchStart:function(a){var b=this._touches,d,c=a.changedTouches.length,e,g,f,h,k=(new Date).getTime();if(!q("android")||!q("safari")||!(1===a.targetTouches.length&&a.touches.length===a.targetTouches.length&&a.targetTouches.length===a.changedTouches.length&&0===a.changedTouches[0].identifier&&b[a.changedTouches[0].identifier])){this._addTouch(a);for(d=0;d<c;d++)e=a.changedTouches[d],g=
b[e.identifier]={},g.startX=e.pageX,g.startY=e.pageY,g.startTS=k,-1===this._touchIds.indexOf(e.identifier)&&this._touchIds.push(e.identifier);this._swipeActive&&(f=this._nodeTouches[0]);this._pinchActive&&(h=this._nodeTouches[1]);1===this._numTouches?this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,f))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,[f,h]))):2===this._numTouches?this._swipeActive&&(f&&(g=b[this._touchIds[0]],
g.startX=f.pageX,g.startY=f.pageY,g.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,f))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,f))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,[f,h])))}},_touchMove:function(a){a.preventDefault();this._updateTouch(a);var b=this._touches,d,c=a.changedTouches.length,e,g,f,h;if(!q("android")||!q("safari")||!(1===a.targetTouches.length&&a.touches.length===
a.targetTouches.length&&a.targetTouches.length===a.changedTouches.length&&0===a.changedTouches[0].identifier&&b[a.changedTouches[0].identifier]&&1<this._touchIds.length)){for(d=0;d<c;d++)if(e=a.changedTouches[d],g=b[e.identifier]){f=Math.abs(e.pageX-g.startX);e=Math.abs(e.pageY-g.startY);if(!g.moved&&(f>=this.tapRadius||e>=this.tapRadius))g.moved=g.absMoved=!0;h=h?h:g.moved}1===this._numTouches?(d=a.changedTouches[0],this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(a,d)):h&&(this._swipeActive=
!0,this._fire("onSwipeStart",this._processTouchEvent(a,d)))):2===this._numTouches&&(d=this._nodeTouches[0],c=this._nodeTouches[1],this._pinchActive?this._fire("onPinchMove",this._processTouchEvent(a,[d,c])):h&&(h=b[d.identifier],g=b[c.identifier],b=Math.abs(h.startX-g.startX),h=Math.abs(h.startY-g.startY),b=Math.sqrt(b*b+h*h),h=Math.abs(d.pageX-c.pageX),g=Math.abs(d.pageY-c.pageY),h=Math.sqrt(h*h+g*g),Math.abs(h-b)>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(a,
[d,c])))))}},_touchEnd:function(a){this._removeTouch(a);var b=this._touches,d=a.changedTouches,c,e=d.length,g,f,h=(new Date).getTime(),k=this._touchIds;for(c=0;c<e;c++)if(f=b[d[c].identifier])f.absMoved&&(g=!0),f.pageX=d[c].pageX,f.pageY=d[c].pageY,f.endTS=h;if(0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,d[0]));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,
d));else{if(!g){e=Infinity;g=-Infinity;var h=Infinity,l=-Infinity,q=this.tapStartTolerance,m=[],D=!0;for(c=0;c<k.length;c++)f=b[k[c]],m.push(f),f.startTS<e&&(e=f.startTS),f.startTS>g&&(g=f.startTS),f.endTS<h&&(h=f.endTS),f.endTS>l&&(l=f.endTS),delete b[k[c]];if(1===m.length&&d[0]&&(b=Math.abs(d[0].pageX-m[0].startX),d=Math.abs(d[0].pageY-m[0].startY),b>=this.tapRadius||d>=this.tapRadius))D=!1;D&&(Math.abs(g-e)<=q&&Math.abs(l-h)<=q)&&this._basicTap(a,m)}}else 1===this._numTouches&&this._pinchActive&&
(c=this._nodeTouches[0],f=b[c.identifier],f.startX=c.pageX,f.startY=c.pageY,this._pinchActive=f.moved=!1,this._fire("onPinchEnd",this._processTouchEvent(a,[d[0],c])))},_touchCancel:function(a){this._numTouches&&this._touchEnd(a)},_basicTap:function(a,b){var d=(new Date).getTime(),c=this;a=this._processTouchEvent(a,b);this._taps.push({touchInfos:b,ts:d,event:a});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",a);clearTimeout(this._tapTimer);this._immediate?this._analyzeTap(!0):this._tapTimer=
setTimeout(function(){var a=c;c=null;clearTimeout(a._tapTimer);a._analyzeTap()},2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration)},_analyzeTap:function(a){var b=this._taps,d=b[0],c=b[1],e=d.touchInfos,g=c&&c.touchInfos;b.length&&(a||(this._taps=[]),d&&c?e.length===g.length?c.ts-d.ts<=this.doubleTapDuration?(1===e.length?(a=Math.abs(e[0].startX-g[0].startX),e=Math.abs(e[0].startY-g[0].startY),e=a<=this.doubleTapRadius&&e<=this.doubleTapRadius):e=!0,e?this._processedDoubleTap(b):
this._processedTap(c)):this._processedTap(c):this._processedTap(c):this._processedTap(d||c))},_processedTap:function(a){var b=a.event;this._fire("onProcessedTap",b);1===a.touchInfos.length?this._fire("onTap",this._fixEvent(b)):2===a.touchInfos.length&&this._fire("onTwoFingerTap",b)},_processedDoubleTap:function(a){var b=1===a[1].touchInfos.length,d;b&&(d=[this._fixEvent(a[0].event),this._fixEvent(a[1].event)],d[1].relatedEvents=d);a=[a[0].event,a[1].event];a[1].relatedEvents=a;this._fire("onProcessedDoubleTap",
a[1]);b&&(this._fire("onDoubleTap",d[1]),this._fire("onDblClick",d[1]))},_addTouch:function(a){var b=a.changedTouches,d=this._nodeTouches,c,e,g;this._numTouches+=b.length;for(a=0;a<b.length;a++){e=d.length;g=!1;for(c=0;c<e&&!(g=d[c].identifier===b[a].identifier);c++);g?this._numTouches--:d.push(b[a])}for(a=d.length-1;0<=a;a--)l.isDescendant(d[a].target,document.body)||(d.splice(a,1),this._numTouches--);0>this._numTouches&&(this._numTouches=0)},_removeTouch:function(a){var b=[],d=[],c=a.changedTouches,
e=this._nodeTouches;this._numTouches-=c.length;0>this._numTouches&&(this._numTouches=0);for(a=0;a<c.length;a++)b.push(c[a].identifier);for(a=e.length-1;0<=a;a--)-1!==b.indexOf(e[a].identifier)&&d.push(e.splice(a,1)[0]);return d},_updateTouch:function(a){var b=[],d,c=a.changedTouches,e=this._nodeTouches;for(a=0;a<c.length;a++)b.push(c[a].identifier);for(a=0;a<e.length;a++)d=b.indexOf(e[a].identifier),-1!==d&&e.splice(a,1,c[d])},_mouseOver:function(a){this._fire("onMouseOver",this._processMouseEvent(a))},
_mouseOut:function(a){this._fire("onMouseOut",this._processMouseEvent(a))},_mouseDown:function(a){this._fire("onMouseDown",this._processMouseEvent(a))},_mouseUp:function(a){this._fire("onMouseUp",this._processMouseEvent(a))},_mouseClick:function(a){this._fire("onClick",this._processMouseEvent(a))},_fire:function(a,b){if(this[a])this[a](b);if(this.map&&this.map[a])this.map[a](b)},_fixEvent:function(a){var b={},d;for(d in a)b[d]=a[d];this.map&&(b.screenPoint=b.screenPoints[0],b.mapPoint=b.mapPoints[0]);
return b},_processTouchEvent:function(a,b){var d=this.map,g=d&&d.position,f=0;if(g&&b)if(k.isArray(b)){var h,l;a.screenPoints=[];a.mapPoints=[];for(h=0;h<b.length;h++)b[h]?(l=new c(b[h].pageX-g.x,b[h].pageY-g.y),a.screenPoints.push(l),a.mapPoints.push(d.extent?d.toMap(l):new e)):f++}else a.screenPoint=new c(b.pageX-g.x,b.pageY-g.y),a.mapPoint=d.extent?d.toMap(a.screenPoint):new e;a.numPoints=b?k.isArray(b)?b.length-f:1:0;return a},_processMouseEvent:function(a){var b=this.map,d=b&&b.position;d&&(a.screenPoint=
new c(a.pageX-d.x,a.pageY-d.y),a.mapPoint=b.extent?b.toMap(a.screenPoint):new e);return a},setImmediateTap:function(a){this._immediate=a},destroy:function(){var a=this.node;a.removeEventListener("touchstart",this._touchStart,!1);a.removeEventListener("touchmove",this._touchMove,!1);a.removeEventListener("touchend",this._touchEnd,!1);a.removeEventListener("touchcancel",this._touchCancel,!1);this.map&&(a.removeEventListener("mouseover",this._mouseOver,!1),a.removeEventListener("mouseout",this._mouseOut,
!1),a.removeEventListener("mousedown",this._mouseDown,!1),a.removeEventListener("mouseup",this._mouseUp,!1),a.removeEventListener("click",this._mouseClick,!1));m.setSelectable(a,!0);clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._nodeTouches=this._touches=this._touchIds=this._taps=null}});q("extend-esri")&&(h.TouchEvents=f);return f})},"esri/PointerEvents":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/Evented esri/geometry/Point esri/geometry/ScreenPoint".split(" "),
function(f,m,k,q,l,h,g,e){f=f([h],{declaredClass:"esri.PointerEvents",tapRadius:8,clickRadius:2,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==q("mac")?1:3,wheelDivisor:120,preventPageScroll:!0,constructor:function(c,a){this.node=c;m.mixin(this,a);void 0!==c.style.msTouchAction?c.style.msTouchAction="none":void 0!==c.style.touchAction&&(c.style.touchAction="none");var b=navigator.msPointerEnabled,d=function(a){a.preventDefault()};
c.addEventListener("selectstart",d,!1);c.addEventListener("dragstart",d,!1);this._pointerDown=m.hitch(this,this._pointerDown);this._pointerMove=m.hitch(this,this._pointerMove);this._pointerUp=m.hitch(this,this._pointerUp);this._pointerCancel=m.hitch(this,this._pointerCancel);c.addEventListener(b?"MSPointerDown":"pointerdown",this._pointerDown,!1);c.addEventListener(b?"MSPointerMove":"pointermove",this._pointerMove,!1);c.addEventListener(b?"MSPointerUp":"pointerup",this._pointerUp,!1);c.addEventListener(b?
"MSPointerCancel":"pointercancel",this._pointerCancel,!1);this.map&&(this._mouseOver=m.hitch(this,this._mouseOver),this._mouseOut=m.hitch(this,this._mouseOut),this._mouseLeave=m.hitch(this,this._mouseLeave),this._mouseDown=m.hitch(this,this._mouseDown),this._mouseUp=m.hitch(this,this._mouseUp),this._mouseClick=m.hitch(this,this._mouseClick),this._mouseWheel=m.hitch(this,this._mouseWheel),this._mouseMove=m.hitch(this,this._mouseMove),this._mouseEnter=m.hitch(this,this._mouseEnter),this._onKeyDown=
m.hitch(this,this._onKeyDown),this._onKeyUp=m.hitch(this,this._onKeyUp),c.addEventListener("mouseover",this._mouseOver,!1),c.addEventListener("mouseout",this._mouseOut,!1),c.addEventListener("mouseleave",this._mouseLeave,!1),c.addEventListener("mousedown",this._mouseDown,!1),c.addEventListener("mouseup",this._mouseUp,!1),c.addEventListener("click",this._mouseClick,!1),c.addEventListener("mousewheel",this._mouseWheel,!1),c.addEventListener("mousemove",this._mouseMove,!1),c.addEventListener("mouseenter",
this._mouseEnter,!1));this._numTouches=0;this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_pointerDown:function(c){var a=this._touches,b=c.target,d=c.pointerId,e=this._touchIds,g,f=(new Date).getTime();g=a[d]={};g.pointerId=d;g.startX=g.pageX=c.pageX;g.startY=g.pageY=c.pageY;g.startTS=f;e.push(d);this._numTouches++;b.setPointerCapture?b.setPointerCapture(d):b.msSetPointerCapture&&b.msSetPointerCapture(d);b=a[e[0]];a=a[e[1]];1!==this._numTouches&&(2===this._numTouches?this._swipeActive&&
(b&&(b.startX=b.pageX,b.startY=b.pageY,b.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(c,b))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(c,b))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(c,[b,a]))))},_pointerMove:function(c){var a=this._touches,b=this._touchIds,d,e,g;if((d=a[c.pointerId])&&!(d.pageX===c.pageX&&d.pageY===c.pageY)){d.pageX=c.pageX;d.pageY=c.pageY;e=Math.abs(d.pageX-
d.startX);g=Math.abs(d.pageY-d.startY);if(!d.moved&&(e>=this.tapRadius||g>=this.tapRadius))d.moved=d.absMoved=!0;if(1===this._numTouches)this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(c,c)):d.moved&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(c,c)));else if(2===this._numTouches)if(d=a[b[0]],a=a[b[1]],this._pinchActive)this._fire("onPinchMove",this._processTouchEvent(c,[d,a]));else if(d.moved||a.moved)b=Math.abs(d.startX-a.startX),e=Math.abs(d.startY-
a.startY),b=Math.sqrt(b*b+e*e),e=Math.abs(d.pageX-a.pageX),g=Math.abs(d.pageY-a.pageY),e=Math.sqrt(e*e+g*g),Math.abs(e-b)>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(c,[d,a])))}},_pointerUp:function(c){var a=this._touches,b,d=this.node,e=c.target,g=c.pointerId,f=this._touchIds,h=f.slice(0),l=k.map(h,function(b){return a[b]}),q=(new Date).getTime();if(b=a[g])if(b.pageX=c.pageX,b.pageY=c.pageY,b.endTS=q,this._numTouches--,e.releasePointerCapture?e.releasePointerCapture(g):
e.msReleasePointerCapture&&e.msReleasePointerCapture(g),0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(c,c));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(c,c));else{if(!b.absMoved){var e=Infinity,g=-Infinity,f=Infinity,q=-Infinity,m=this.tapStartTolerance,y;for(y=0;y<h.length;y++)b=l[y],b.startTS<e&&(e=b.startTS),b.startTS>g&&(g=b.startTS),b.endTS<f&&
(f=b.endTS),b.endTS>q&&(q=b.endTS);Math.abs(g-e)<=m&&Math.abs(q-f)<=m&&this._basicTap(c,l)}}else 1===this._numTouches&&this._pinchActive&&(f.splice(k.indexOf(f,c.pointerId),1),delete a[c.pointerId],b=a[f[0]],b.startX=b.pageX,b.startY=b.pageY,b.moved=!1,document.msElementsFromPoint&&(h=document.msElementsFromPoint(b.pageX,b.pageY),k.some(h,function(a){return a===d})||(this._touches={},this._touchIds=[],this._numTouches=0)),this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(c,[c,b])))},
_pointerCancel:function(c){this._numTouches&&this._pointerUp(c)},_basicTap:function(c,a){var b=(new Date).getTime(),d=this,e=this._immediate;c=this._processTouchEvent(c,a);this._taps.push({touchInfos:a,ts:b,event:c});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",c);clearTimeout(this._tapTimer);b=2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration;this._tapTimer=setTimeout(function(){var a=d;d=null;clearTimeout(a._tapTimer);a._analyzeTap(e)},e?0:b)},_analyzeTap:function(c){var a=
this._taps,b=a[0],d=a[1],e=b.touchInfos,g=d&&d.touchInfos;a.length&&(c||(this._taps=[]),b&&d?e.length===g.length?d.ts-b.ts<=this.doubleTapDuration?(1===e.length?(c=Math.abs(e[0].startX-g[0].startX),e=Math.abs(e[0].startY-g[0].startY),e=c<=this.doubleTapRadius&&e<=this.doubleTapRadius):e=!0,e?this._processedDoubleTap(a):this._processedTap(d)):this._processedTap(d):this._processedTap(d):this._processedTap(b||d))},_processedTap:function(c){var a=c.event;this._fire("onProcessedTap",a);1===c.touchInfos.length?
this._fire("onTap",this._fixEvent(a)):2===c.touchInfos.length&&this._fire("onTwoFingerTap",a)},_processedDoubleTap:function(c){var a=1===c[1].touchInfos.length,b;a&&(b=[this._fixEvent(c[0].event),this._fixEvent(c[1].event)],b[1].relatedEvents=b);c=[c[0].event,c[1].event];c[1].relatedEvents=c;this._fire("onProcessedDoubleTap",c[1]);a&&(this._fire("onDoubleTap",b[1]),this._fire("onDblClick",b[1]))},_mouseOver:function(c){this._fire("onMouseOver",this._processMouseEvent(c))},_mouseMove:function(c){this._fire("onMouseMove",
this._processMouseEvent(c))},_mouseOut:function(c){this._fire("onMouseOut",this._processMouseEvent(c))},_mouseLeave:function(c){document.removeEventListener("keydown",this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseOut",this._processMouseEvent(event))},_mouseDown:function(c){this._downX=c.pageX;this._downY=c.pageY;this._fire("onMouseDown",this._processMouseEvent(c))},_mouseUp:function(c){this._fire("onMouseUp",this._processMouseEvent(c))},_mouseClick:function(c){Math.abs(c.pageX-
this._downX)<=this.clickRadius&&Math.abs(c.pageY-this._downY)<=this.clickRadius&&this._fire("onClick",this._processMouseEvent(c))},_mouseWheel:function(c){var a=this.map;(a?a.isScrollWheelZoom||a.isScrollWheelPan:this.preventPageScroll)&&c.preventDefault();var a=c.wheelDelta?c.wheelDelta/this.wheelDivisor:-c.detail/this.mozWheelDivisor,b=Math.abs(a),b=b<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;c.value=0>a?-b:b;this._fire("onMouseWheel",this._processMouseEvent(c))},_mouseEnter:function(c){document.removeEventListener("keydown",
this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);document.addEventListener("keydown",this._onKeyDown,!1);document.addEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseEnter",this._processMouseEvent(c))},_onKeyDown:function(c){this._fire("onKeyDown",c)},_onKeyUp:function(c){this._fire("onKeyUp",c)},_fire:function(c,a){if(this[c])this[c](a);if(this.map&&this.map[c])this.map[c](a)},_fixEvent:function(c){var a={},b;for(b in c)a[b]=c[b];this.map&&(a.screenPoint=a.screenPoints[0],
a.mapPoint=a.mapPoints[0]);return a},_processTouchEvent:function(c,a){var b=this.map,d=b&&b.position,f=0;if(d&&a)if(m.isArray(a)){var h,k;c.screenPoints=[];c.mapPoints=[];for(h=0;h<a.length;h++)a[h]?(k=new e(a[h].pageX-d.x,a[h].pageY-d.y),c.screenPoints.push(k),c.mapPoints.push(b.extent?b.toMap(k):new g)):f++}else c.screenPoint=new e(a.pageX-d.x,a.pageY-d.y),c.mapPoint=b.extent?b.toMap(c.screenPoint):new g;c.numPoints=a?m.isArray(a)?a.length-f:1:0;return c},_processMouseEvent:function(c){var a=this.map,
b=a&&a.position;b&&(c.screenPoint=new e(c.pageX-b.x,c.pageY-b.y),c.mapPoint=a.extent?a.toMap(c.screenPoint):new g);return c},setImmediateTap:function(c){this._immediate=c},destroy:function(){var c=this.node;c.removeEventListener("MSPointerDown",this._pointerDown,!1);c.removeEventListener("MSPointerMove",this._pointerMove,!1);c.removeEventListener("MSPointerUp",this._pointerUp,!1);c.removeEventListener("MSPointerCancel",this._pointerCancel,!1);this.map&&(c.removeEventListener("mouseover",this._mouseOver,
!1),c.removeEventListener("mousemove",this._mouseMove,!1),c.removeEventListener("mouseout",this._mouseOut,!1),c.removeEventListener("mouseleave",this._mouseLeave,!1),c.removeEventListener("mousedown",this._mouseDown,!1),c.removeEventListener("mouseup",this._mouseUp,!1),c.removeEventListener("click",this._mouseClick,!1),c.removeEventListener("mouseenter",this._mouseEnter,!1));clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._touches=this._touchIds=this._taps=null}});q("extend-esri")&&
(l.PointerEvents=f);return f})},"esri/toolbars/draw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/_base/window dojo/has dojo/keys dojo/dom-construct dojo/dom-style esri/kernel esri/sniff esri/toolbars/_toolbar esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/graphic esri/geometry/jsonUtils esri/geometry/webMercatorUtils esri/geometry/Polyline esri/geometry/Polygon esri/geometry/Multipoint esri/geometry/Rect dojo/i18n!esri/nls/jsapi".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D,C,B){var E=f(n,{declaredClass:"esri.toolbars.Draw",_eventMap:{"draw-complete":!0,"draw-end":["geometry"]},constructor:function(a,b){this.markerSymbol=new r(r.STYLE_SOLID,10,new t(t.STYLE_SOLID,new l([255,0,0]),2),new l([0,0,0,0.25]));this.lineSymbol=new t(t.STYLE_SOLID,new l([255,0,0]),2);this.fillSymbol=new s(s.STYLE_SOLID,new t(t.STYLE_SOLID,new l([255,0,0]),2),new l([0,0,0,0.25]));this._points=[];this._defaultOptions={showTooltips:!0,drawTime:75,
tolerance:8,tooltipOffset:15};this._options=m.mixin(m.mixin({},this._defaultOptions),b||{});this._mouse=!g("esri-touch")&&!g("esri-pointer");this._mouse||(this._options.showTooltips=!1);this._onKeyDownHandler=m.hitch(this,this._onKeyDownHandler);this._onMouseDownHandler=m.hitch(this,this._onMouseDownHandler);this._onMouseUpHandler=m.hitch(this,this._onMouseUpHandler);this._onClickHandler=m.hitch(this,this._onClickHandler);this._onMouseMoveHandler=m.hitch(this,this._onMouseMoveHandler);this._onMouseDragHandler=
m.hitch(this,this._onMouseDragHandler);this._onDblClickHandler=m.hitch(this,this._onDblClickHandler);this._updateTooltip=m.hitch(this,this._updateTooltip);this._hideTooltip=m.hitch(this,this._hideTooltip);this._redrawGraphic=m.hitch(this,this._redrawGraphic)},_geometryType:null,respectDrawingVertexOrder:!1,setRespectDrawingVertexOrder:function(a){this.respectDrawingVertexOrder=a},setMarkerSymbol:function(a){this.markerSymbol=a},setLineSymbol:function(a){this.lineSymbol=a},setFillSymbol:function(a){this.fillSymbol=
a},activate:function(a,b){this._geometryType&&this.deactivate();var d=this.map,c=q.connect,e=E;this._options=m.mixin(m.mixin({},this._options),b||{});d.navigationManager.setImmediateClick(!1);switch(a){case e.ARROW:case e.LEFT_ARROW:case e.RIGHT_ARROW:case e.UP_ARROW:case e.DOWN_ARROW:case e.TRIANGLE:case e.CIRCLE:case e.ELLIPSE:case e.RECTANGLE:this._deactivateMapTools(!0,!1,!1,!0);this._onClickHandler_connect=c(d,"onClick",this._onClickHandler);this._onMouseDownHandler_connect=c(d,!this._mouse?
"onSwipeStart":"onMouseDown",this._onMouseDownHandler);this._onMouseDragHandler_connect=c(d,!this._mouse?"onSwipeMove":"onMouseDrag",this._onMouseDragHandler);this._onMouseUpHandler_connect=c(d,!this._mouse?"onSwipeEnd":"onMouseUp",this._onMouseUpHandler);g("esri-touch")&&!g("esri-pointer")&&(this._onMouseDownHandler2_connect=c(d,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler2_connect=c(d,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler2_connect=c(d,"onMouseUp",this._onMouseUpHandler));
break;case e.POINT:this._onClickHandler_connect=c(d,"onClick",this._onClickHandler);break;case e.LINE:case e.EXTENT:case e.FREEHAND_POLYLINE:case e.FREEHAND_POLYGON:this._deactivateMapTools(!0,!1,!1,!0);this._onMouseDownHandler_connect=c(d,!this._mouse?"onSwipeStart":"onMouseDown",this._onMouseDownHandler);this._onMouseDragHandler_connect=c(d,!this._mouse?"onSwipeMove":"onMouseDrag",this._onMouseDragHandler);this._onMouseUpHandler_connect=c(d,!this._mouse?"onSwipeEnd":"onMouseUp",this._onMouseUpHandler);
g("esri-touch")&&!g("esri-pointer")&&(this._onMouseDownHandler2_connect=c(d,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler2_connect=c(d,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler2_connect=c(d,"onMouseUp",this._onMouseUpHandler));break;case e.POLYLINE:case e.POLYGON:case e.MULTI_POINT:d.navigationManager.setImmediateClick(!0);this._onClickHandler_connect=c(d,"onClick",this._onClickHandler);this._onDblClickHandler_connect=c(d,"onDblClick",this._onDblClickHandler);
this._dblClickZoom=d.isDoubleClickZoom;d.disableDoubleClickZoom();break;default:console.error("Unsupported geometry type: "+a);return}this._onKeyDown_connect=c(d,"onKeyDown",this._onKeyDownHandler);this._redrawConnect=c(d,"onExtentChange",this._redrawGraphic);this._geometryType=a;this._toggleTooltip(!0);d.snappingManager&&("freehandpolyline"!==this._geometryType&&"freehandpolygon"!==this._geometryType&&this._mouse)&&(d.snappingManager._startSelectionLayerQuery(),d.snappingManager._setUpSnapping());
this.onActivate(this._geometryType)},deactivate:function(){var a=this.map;this._clear();var b=q.disconnect;b(this._onMouseMoveHandler_connect);b(this._onMouseDownHandler_connect);b(this._onMouseDragHandler_connect);b(this._onMouseUpHandler_connect);b(this._onMouseDownHandler2_connect);b(this._onMouseDragHandler2_connect);b(this._onMouseUpHandler2_connect);b(this._onClickHandler_connect);b(this._onDblClickHandler_connect);b(this._onKeyDown_connect);b(this._redrawConnect);this._onMouseDownHandler_connect=
this._onMouseMoveHandler_connect=this._onMouseDragHandler_connect=this._onMouseUpHandler_connect=this._onMouseDownHandler2_connect=this._onMouseDragHandler2_connect=this._onMouseUpHandler2_connect=this._onClickHandler_connect=this._onDblClickHandler_connect=this._onKeyDown_connect=this._redrawConnect=null;a.snappingManager&&(a.snappingManager._stopSelectionLayerQuery(),a.snappingManager._killOffSnapping());switch(this._geometryType){case E.CIRCLE:case E.ELLIPSE:case E.TRIANGLE:case E.ARROW:case E.LEFT_ARROW:case E.RIGHT_ARROW:case E.UP_ARROW:case E.DOWN_ARROW:case E.RECTANGLE:case E.LINE:case E.EXTENT:case E.FREEHAND_POLYLINE:case E.FREEHAND_POLYGON:this._activateMapTools(!0,
!1,!1,!0);break;case E.POLYLINE:case E.POLYGON:case E.MULTI_POINT:this._dblClickZoom&&a.enableDoubleClickZoom()}b=this._geometryType;this._geometryType=null;a.navigationManager.setImmediateClick(!1);this._toggleTooltip(!1);this.onDeactivate(b)},_clear:function(){this._graphic&&this.map.graphics.remove(this._graphic,!0);this._tGraphic&&this.map.graphics.remove(this._tGraphic,!0);this._graphic=this._tGraphic=null;this.map.snappingManager&&this.map.snappingManager._setGraphic(null);this._points=[]},
finishDrawing:function(){var a,b=this._points,d=this.map.spatialReference,c=E,b=b.slice(0,b.length);switch(this._geometryType){case c.POLYLINE:if(!this._graphic||2>b.length)return;a=new y(d);a.addPath([].concat(b));break;case c.POLYGON:if(!this._graphic||3>b.length)return;a=new w(d);b=[].concat(b,[b[0].offset(0,0)]);!w.prototype.isClockwise(b)&&!this.respectDrawingVertexOrder&&b.reverse();a.addRing(b);break;case c.MULTI_POINT:a=new D(d),k.forEach(b,function(b){a.addPoint(b)})}q.disconnect(this._onMouseMoveHandler_connect);
this._clear();this._setTooltipMessage(0);this._drawEnd(a)},_drawEnd:function(a){if(a){var b=this.map.spatialReference,d;this.onDrawEnd(a);b&&(b.isWebMercator()?d=z.webMercatorToGeographic(a,!0):4326===b.wkid&&(d=u.fromJson(a.toJson())));this.onDrawComplete({geometry:a,geographicGeometry:d})}},_normalizeRect:function(a,b,d){var c=a.x;a=a.y;var e=b.x;b=b.y;var g=Math.abs(c-e),f=Math.abs(a-b);return{x:Math.min(c,e),y:Math.max(a,b),width:g,height:f,spatialReference:d}},_onMouseDownHandler:function(a){this._dragged=
!1;var b;this.map.snappingManager&&(b=this.map.snappingManager._snappingPoint);var d=b||a.mapPoint,c=E;b=this.map;var e=b.spatialReference;this._points.push(d.offset(0,0));switch(this._geometryType){case c.LINE:this._graphic=b.graphics.add(new x(new y({paths:[[[d.x,d.y],[d.x,d.y]]],spatialReference:e}),this.lineSymbol),!0);b.snappingManager&&b.snappingManager._setGraphic(this._graphic);break;case c.FREEHAND_POLYLINE:this._oldPoint=a.screenPoint;d=new y(e);d.addPath(this._points);this._graphic=b.graphics.add(new x(d,
this.lineSymbol),!0);b.snappingManager&&b.snappingManager._setGraphic(this._graphic);break;case c.CIRCLE:case c.ELLIPSE:case c.TRIANGLE:case c.ARROW:case c.LEFT_ARROW:case c.RIGHT_ARROW:case c.UP_ARROW:case c.DOWN_ARROW:case c.RECTANGLE:case c.FREEHAND_POLYGON:this._oldPoint=a.screenPoint,d=new w(e),d.addRing(this._points),this._graphic=b.graphics.add(new x(d,this.fillSymbol),!0),b.snappingManager&&b.snappingManager._setGraphic(this._graphic)}g("esri-touch")&&a.preventDefault()},_onMouseMoveHandler:function(a){var b;
this.map.snappingManager&&(b=this.map.snappingManager._snappingPoint);var d=this._points[this._points.length-1];a=b||a.mapPoint;b=this._tGraphic;var c=b.geometry;switch(this._geometryType){case E.POLYLINE:case E.POLYGON:c.setPoint(0,0,{x:d.x,y:d.y}),c.setPoint(0,1,{x:a.x,y:a.y}),b.setGeometry(c)}},_onMouseDragHandler:function(a){if(g("esri-touch")&&!this._points.length)a.preventDefault();else{this._dragged=!0;var b;this.map.snappingManager&&(b=this.map.snappingManager._snappingPoint);var d=this._points[0],
c=b||a.mapPoint,e=this.map,f=e.spatialReference;b=this._graphic;var h=E,n=e.toScreen(d),k=e.toScreen(c),l=[],l=k.x-n.x,k=k.y-n.y,r=Math.sqrt(l*l+k*k);switch(this._geometryType){case h.CIRCLE:this._hideTooltip();b.geometry=w.createCircle({center:n,r:r,numberOfPoints:60,map:e});b.setGeometry(b.geometry);break;case h.ELLIPSE:this._hideTooltip();b.geometry=w.createEllipse({center:n,longAxis:l,shortAxis:k,numberOfPoints:60,map:e});b.setGeometry(b.geometry);break;case h.TRIANGLE:this._hideTooltip();l=[[0,
-r],[0.8660254037844386*r,0.5*r],[-0.8660254037844386*r,0.5*r],[0,-r]];b.geometry=this._toPolygon(l,n.x,n.y);b.setGeometry(b.geometry);break;case h.ARROW:this._hideTooltip();d=k/r;e=l/r;c=0.25*e*r;f=0.25*r/(k/l);r*=0.25*d;l=[[l,k],[l-c*(1+24/f),k+24*e-r],[l-c*(1+12/f),k+12*e-r],[-12*d,12*e],[12*d,-12*e],[l-c*(1-12/f),k-12*e-r],[l-c*(1-24/f),k-24*e-r],[l,k]];b.geometry=this._toPolygon(l,n.x,n.y);b.setGeometry(b.geometry);break;case h.LEFT_ARROW:this._hideTooltip();l=0>=l?[[l,0],[0.75*l,k],[0.75*l,
0.5*k],[0,0.5*k],[0,-0.5*k],[0.75*l,-0.5*k],[0.75*l,-k],[l,0]]:[[0,0],[0.25*l,k],[0.25*l,0.5*k],[l,0.5*k],[l,-0.5*k],[0.25*l,-0.5*k],[0.25*l,-k],[0,0]];b.geometry=this._toPolygon(l,n.x,n.y);b.setGeometry(b.geometry);break;case h.RIGHT_ARROW:this._hideTooltip();l=0<=l?[[l,0],[0.75*l,k],[0.75*l,0.5*k],[0,0.5*k],[0,-0.5*k],[0.75*l,-0.5*k],[0.75*l,-k],[l,0]]:[[0,0],[0.25*l,k],[0.25*l,0.5*k],[l,0.5*k],[l,-0.5*k],[0.25*l,-0.5*k],[0.25*l,-k],[0,0]];b.geometry=this._toPolygon(l,n.x,n.y);b.setGeometry(b.geometry);
break;case h.UP_ARROW:this._hideTooltip();l=0>=k?[[0,k],[-l,0.75*k],[-0.5*l,0.75*k],[-0.5*l,0],[0.5*l,0],[0.5*l,0.75*k],[l,0.75*k],[0,k]]:[[0,0],[-l,0.25*k],[-0.5*l,0.25*k],[-0.5*l,k],[0.5*l,k],[0.5*l,0.25*k],[l,0.25*k],[0,0]];b.geometry=this._toPolygon(l,n.x,n.y);b.setGeometry(b.geometry);break;case h.DOWN_ARROW:this._hideTooltip();l=0<=k?[[0,k],[-l,0.75*k],[-0.5*l,0.75*k],[-0.5*l,0],[0.5*l,0],[0.5*l,0.75*k],[l,0.75*k],[0,k]]:[[0,0],[-l,0.25*k],[-0.5*l,0.25*k],[-0.5*l,k],[0.5*l,k],[0.5*l,0.25*k],
[l,0.25*k],[0,0]];b.geometry=this._toPolygon(l,n.x,n.y);b.setGeometry(b.geometry);break;case h.RECTANGLE:this._hideTooltip();l=[[0,0],[l,0],[l,k],[0,k],[0,0]];b.geometry=this._toPolygon(l,n.x,n.y);b.setGeometry(b.geometry);break;case h.LINE:b.setGeometry(m.mixin(b.geometry,{paths:[[[d.x,d.y],[c.x,c.y]]]}));break;case h.EXTENT:b&&e.graphics.remove(b,!0);b=new C(this._normalizeRect(d,c,f));b._originOnly=!0;this._graphic=e.graphics.add(new x(b,this.fillSymbol),!0);e.snappingManager&&e.snappingManager._setGraphic(this._graphic);
break;case h.FREEHAND_POLYLINE:this._hideTooltip();if(!1===this._canDrawFreehandPoint(a)){g("esri-touch")&&a.preventDefault();return}this._points.push(a.mapPoint.offset(0,0));b.geometry._insertPoints([c.offset(0,0)],0);b.setGeometry(b.geometry);break;case h.FREEHAND_POLYGON:this._hideTooltip();if(!1===this._canDrawFreehandPoint(a)){g("esri-touch")&&a.preventDefault();return}this._points.push(a.mapPoint.offset(0,0));b.geometry._insertPoints([c.offset(0,0)],0);b.setGeometry(b.geometry)}g("esri-touch")&&
a.preventDefault()}},_canDrawFreehandPoint:function(a){if(!this._oldPoint)return!1;var b=this._oldPoint.x-a.screenPoint.x,d=this._oldPoint.y-a.screenPoint.y,c=this._options.tolerance;if((0>b?-1*b:b)<c&&(0>d?-1*d:d)<c)return!1;b=new Date;if(b-this._startTime<this._options.drawTime)return!1;this._startTime=b;this._oldPoint=a.screenPoint;return!0},_onMouseUpHandler:function(a){if(this._dragged){0===this._points.length&&this._points.push(a.mapPoint.offset(0,0));var b;this.map.snappingManager&&(b=this.map.snappingManager._snappingPoint);
var d=this._points[0];b=b||a.mapPoint;var c=this.map.spatialReference,e=E,f;switch(this._geometryType){case e.CIRCLE:case e.ELLIPSE:case e.TRIANGLE:case e.ARROW:case e.LEFT_ARROW:case e.RIGHT_ARROW:case e.UP_ARROW:case e.DOWN_ARROW:case e.RECTANGLE:f=this._graphic.geometry;break;case e.LINE:f=new y({paths:[[[d.x,d.y],[b.x,b.y]]],spatialReference:c});break;case e.EXTENT:f=(new C(this._normalizeRect(d,b,c))).getExtent();break;case e.FREEHAND_POLYLINE:f=new y(c);f.addPath([].concat(this._points,[b.offset(0,
0)]));break;case e.FREEHAND_POLYGON:f=new w(c),d=[].concat(this._points,[b.offset(0,0),this._points[0].offset(0,0)]),!w.prototype.isClockwise(d)&&!this.respectDrawingVertexOrder&&d.reverse(),f.addRing(d)}g("esri-touch")&&a.preventDefault();this._clear();this._drawEnd(f)}else this._clear()},_onClickHandler:function(a){var b;this.map.snappingManager&&(b=this.map.snappingManager._snappingPoint);a=b||a.mapPoint;b=this.map;var d=b.toScreen(a),c=E;this._points.push(a.offset(0,0));switch(this._geometryType){case c.POINT:this._drawEnd(a.offset(0,
0));this._setTooltipMessage(0);break;case c.POLYLINE:1===this._points.length?(d=new y(b.spatialReference),d.addPath(this._points),this._graphic=b.graphics.add(new x(d,this.lineSymbol),!0),b.snappingManager&&b.snappingManager._setGraphic(this._graphic),this._onMouseMoveHandler_connect=q.connect(b,"onMouseMove",this._onMouseMoveHandler),this._tGraphic=b.graphics.add(new x(new y({paths:[[[a.x,a.y],[a.x,a.y]]],spatialReference:b.spatialReference}),this.lineSymbol),!0)):(this._graphic.geometry._insertPoints([a.offset(0,
0)],0),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.lineSymbol),b=this._tGraphic,d=b.geometry,d.setPoint(0,0,a.offset(0,0)),d.setPoint(0,1,a.offset(0,0)),b.setGeometry(d));break;case c.POLYGON:1===this._points.length?(d=new w(b.spatialReference),d.addRing(this._points),this._graphic=b.graphics.add(new x(d,this.fillSymbol),!0),b.snappingManager&&b.snappingManager._setGraphic(this._graphic),this._onMouseMoveHandler_connect=q.connect(b,"onMouseMove",this._onMouseMoveHandler),this._tGraphic=
b.graphics.add(new x(new y({paths:[[[a.x,a.y],[a.x,a.y]]],spatialReference:b.spatialReference}),this.fillSymbol),!0)):(this._graphic.geometry._insertPoints([a.offset(0,0)],0),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.fillSymbol),b=this._tGraphic,d=b.geometry,d.setPoint(0,0,a.offset(0,0)),d.setPoint(0,1,a.offset(0,0)),b.setGeometry(d));break;case c.MULTI_POINT:a=this._points;1===a.length?(d=new D(b.spatialReference),d.addPoint(a[a.length-1]),this._graphic=b.graphics.add(new x(d,
this.markerSymbol),!0),b.snappingManager&&b.snappingManager._setGraphic(this._graphic)):(this._graphic.geometry.addPoint(a[a.length-1]),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.markerSymbol));break;case c.ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],d.x,d.y);break;case c.LEFT_ARROW:this._addShape([[0,0],[24,24],[24,12],[96,12],[96,-12],[24,-12],[24,-24],[0,0]],d.x,d.y);break;case c.RIGHT_ARROW:this._addShape([[0,0],[-24,24],[-24,
12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],d.x,d.y);break;case c.UP_ARROW:this._addShape([[0,0],[-24,24],[-12,24],[-12,96],[12,96],[12,24],[24,24],[0,0]],d.x,d.y);break;case c.DOWN_ARROW:this._addShape([[0,0],[-24,-24],[-12,-24],[-12,-96],[12,-96],[12,-24],[24,-24],[0,0]],d.x,d.y);break;case c.TRIANGLE:this._addShape([[0,-48],[41.56921938165306,24],[-41.56921938165306,24],[0,-48]],d.x,d.y);break;case c.RECTANGLE:this._addShape([[0,-96],[96,-96],[96,0],[0,0],[0,-96]],d.x-48,d.y+48);break;case c.CIRCLE:this._clear();
this._drawEnd(w.createCircle({center:d,r:48,numberOfPoints:60,map:b}));break;case c.ELLIPSE:this._clear(),this._drawEnd(w.createEllipse({center:d,longAxis:48,shortAxis:24,numberOfPoints:60,map:b}))}this._setTooltipMessage(this._points.length)},_addShape:function(a,b,d){this._setTooltipMessage(0);this._clear();this._drawEnd(this._toPolygon(a,b,d))},_toPolygon:function(a,b,d){var c=this.map,e=new w(c.spatialReference);e.addRing(k.map(a,function(a){return c.toMap({x:a[0]+b,y:a[1]+d})}));return e},_onDblClickHandler:function(a){var b,
d=this._points,c=this.map.spatialReference,e=E;g("esri-touch")&&d.push(a.mapPoint);d=d.slice(0,d.length);switch(this._geometryType){case e.POLYLINE:if(!this._graphic||2>d.length){q.disconnect(this._onMouseMoveHandler_connect);this._clear();this._onClickHandler(a);return}b=new y(c);b.addPath([].concat(d));break;case e.POLYGON:if(!this._graphic||2>d.length){q.disconnect(this._onMouseMoveHandler_connect);this._clear();this._onClickHandler(a);return}b=new w(c);a=[].concat(d,[d[0].offset(0,0)]);!w.prototype.isClockwise(a)&&
!this.respectDrawingVertexOrder&&a.reverse();b.addRing(a);break;case e.MULTI_POINT:b=new D(c),k.forEach(d,function(a){b.addPoint(a)})}q.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(b)},_onKeyDownHandler:function(a){a.keyCode===e.ESCAPE&&(q.disconnect(this._onMouseMoveHandler_connect),this._clear(),this._setTooltipMessage(0))},_toggleTooltip:function(a){this._options.showTooltips&&(a?this._tooltip||(this._tooltip=c.create("div",{"class":"tooltip"},
this.map.container),this._tooltip.style.display="none",this._tooltip.style.position="fixed",this._setTooltipMessage(0),this._onTooltipMouseEnterHandler_connect=q.connect(this.map,"onMouseOver",this._updateTooltip),this._onTooltipMouseLeaveHandler_connect=q.connect(this.map,"onMouseOut",this._hideTooltip),this._onTooltipMouseMoveHandler_connect=q.connect(this.map,"onMouseMove",this._updateTooltip)):this._tooltip&&(q.disconnect(this._onTooltipMouseEnterHandler_connect),q.disconnect(this._onTooltipMouseLeaveHandler_connect),
q.disconnect(this._onTooltipMouseMoveHandler_connect),c.destroy(this._tooltip),this._tooltip=null))},_hideTooltip:function(){var a=this._tooltip;a&&(a.style.display="none")},_setTooltipMessage:function(a){var b=this._tooltip;if(b){var d="";switch(this._geometryType){case E.POINT:d=B.toolbars.draw.addPoint;break;case E.ARROW:case E.LEFT_ARROW:case E.RIGHT_ARROW:case E.UP_ARROW:case E.DOWN_ARROW:case E.TRIANGLE:case E.RECTANGLE:case E.CIRCLE:case E.ELLIPSE:d=B.toolbars.draw.addShape;break;case E.LINE:case E.EXTENT:case E.FREEHAND_POLYLINE:case E.FREEHAND_POLYGON:d=
B.toolbars.draw.freehand;break;case E.POLYLINE:case E.POLYGON:d=B.toolbars.draw.start;1===a?d=B.toolbars.draw.resume:2<=a&&(d=B.toolbars.draw.complete);break;case E.MULTI_POINT:d=B.toolbars.draw.addMultipoint,1<=a&&(d=B.toolbars.draw.finish)}b.innerHTML=d}},_updateTooltip:function(b){var d=this._tooltip;if(d){var c;b.clientX||b.pageY?(c=b.clientX,b=b.clientY):(c=b.clientX+h.body().scrollLeft-h.body().clientLeft,b=b.clientY+h.body().scrollTop-h.body().clientTop);d.style.display="none";a.set(d,{left:c+
this._options.tooltipOffset+"px",top:b+"px"});d.style.display=""}},_redrawGraphic:function(a,b,d,c){if(d||this.map.wrapAround180)(a=this._graphic)&&a.setGeometry(a.geometry),(a=this._tGraphic)&&a.setGeometry(a.geometry)},onActivate:function(){},onDeactivate:function(){},onDrawComplete:function(){},onDrawEnd:function(){}});m.mixin(E,{POINT:"point",MULTI_POINT:"multipoint",LINE:"line",EXTENT:"extent",POLYLINE:"polyline",POLYGON:"polygon",FREEHAND_POLYLINE:"freehandpolyline",FREEHAND_POLYGON:"freehandpolygon",
ARROW:"arrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",TRIANGLE:"triangle",CIRCLE:"circle",ELLIPSE:"ellipse",RECTANGLE:"rectangle"});g("extend-esri")&&m.setObject("toolbars.Draw",E,b);return E})},"esri/toolbars/_toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/Evented"],function(f,m,k,q,l){f=f([l],{declaredClass:"esri.toolbars._Toolbar",constructor:function(f){this.map=f},_cursors:{move:"pointer","move-v":"pointer",
"move-gv":"pointer",box0:"nw-resize",box1:"n-resize",box2:"ne-resize",box3:"e-resize",box4:"se-resize",box5:"s-resize",box6:"sw-resize",box7:"w-resize",box8:"pointer"},_deactivateMapTools:function(f,g,e,c){var a=this.map;f&&(this._mapNavState={isDoubleClickZoom:a.isDoubleClickZoom,isClickRecenter:a.isClickRecenter,isPan:a.isPan,isRubberBandZoom:a.isRubberBandZoom,isKeyboardNavigation:a.isKeyboardNavigation,isScrollWheelZoom:a.isScrollWheelZoom},a.disableDoubleClickZoom(),a.disableClickRecenter(),
a.disablePan(),a.disableRubberBandZoom(),a.disableKeyboardNavigation());g&&a.hideZoomSlider();e&&a.hidePanArrows();c&&a.graphics.disableMouseEvents()},_activateMapTools:function(f,g,e,c){var a=this.map,b=this._mapNavState;f&&b&&(b.isDoubleClickZoom&&a.enableDoubleClickZoom(),b.isClickRecenter&&a.enableClickRecenter(),b.isPan&&a.enablePan(),b.isRubberBandZoom&&a.enableRubberBandZoom(),b.isKeyboardNavigation&&a.enableKeyboardNavigation(),b.isScrollWheelZoom&&a.enableScrollWheelZoom());g&&a.showZoomSlider();
e&&a.showPanArrows();c&&a.graphics.enableMouseEvents()}});k("extend-esri")&&m.setObject("toolbars._Toolbar",f,q);return f})},"esri/layers/FeatureLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/date/locale dojo/sniff dojo/io-query dojo/dom-construct dojo/i18n dojo/when dojo/promise/all esri/kernel esri/lang esri/request esri/config esri/deferredUtils esri/SpatialReference esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/symbols/jsonUtils esri/renderers/SimpleRenderer esri/renderers/UniqueValueRenderer esri/renderers/jsonUtils esri/tasks/QueryTask esri/tasks/query esri/tasks/FeatureSet esri/tasks/StatisticDefinition esri/geometry/Extent esri/geometry/jsonUtils esri/geometry/normalizeUtils esri/geometry/scaleUtils esri/layers/GraphicsLayer esri/layers/Field esri/layers/TimeInfo esri/layers/FeatureType esri/layers/FeatureTemplate esri/layers/FeatureEditResult esri/layers/LabelClass esri/layers/SnapshotMode esri/layers/OnDemandMode esri/layers/SelectionMode esri/layers/TrackManager dojo/i18n!esri/nls/jsapi dojo/has!extend-esri?esri/layers/agscommon".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D,C,B,E,A,G,M,F,J,L,K,P,H,I,N,X,T,R,U,V,W,Q,O,Z){var Y=x.defaults,S=f(I,{declaredClass:"esri.layers.FeatureLayer",invalidParams:"query contains one or more unsupported parameters",reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,maxPointCountForAuto:4E3,maxRecordCountForAuto:2E3,maxVertexCountForAuto:25E4,generalizeForScale:4E3,_eventMap:{"add-attachment-complete":["result"],"before-apply-edits":["adds","updates","deletes"],"delete-attachments-complete":["results"],
"edits-complete":["adds","updates","deletes"],"query-attachment-infos-complete":["results"],"query-count-complete":["count"],"query-features-complete":["featureSet"],"query-ids-complete":["objectIds"],"query-related-features-complete":["featureSets"],"selection-complete":["features","method"],"update-end":["error","info"]},constructor:function(a,b){this._preventInit||this._initFeatureLayer(a,b)},_initFeatureLayer:function(a,d){this.i18n=b.getLocalization("esri","jsapi");d=d||{};this._outFields=d.outFields;
this._loadCallback=d.loadCallback;var c=d._usePatch;this._usePatch=null===c||void 0===c?!0:c;this._trackIdField=d.trackIdField;this.objectIdField=d.objectIdField;this._maxOffset=null!=d.maxAllowableOffset?d.maxAllowableOffset:this.maxAllowableOffset;this._optEditable=d.editable;this._optAutoGen=d.autoGeneralize;this.editSummaryCallback=d.editSummaryCallback;this.userId=d.userId;this.userIsAdmin=d.userIsAdmin;this.useMapTime=d.hasOwnProperty("useMapTime")?!!d.useMapTime:!0;this.source=d.source;this.gdbVersion=
d.gdbVersion;this.orderByFields=d.orderByFields;this.maxPointCountForAuto=null!=d.maxPointCountForAuto?d.maxPointCountForAuto:this.maxPointCountForAuto;this.maxRecordCountForAuto=null!=d.maxRecordCountForAuto?d.maxRecordCountForAuto:this.maxRecordCountForAuto;this.maxVertexCountForAuto=null!=d.maxVertexCountForAuto?d.maxVertexCountForAuto:this.maxVertexCountForAuto;this.generalizeForScale=null!=d.generalizeForScale?d.generalizeForScale:this.generalizeForScale;this.queryPagination=null!=d.queryPagination?
d.queryPagination:this.url?this.reHostedFS.test(this.url):!1;this._selectedFeatures={};this._selectedFeaturesArr=[];this._newFeatures=[];this._deletedFeatures={};this._ulid=this._getUniqueId();var e=S;switch(this.mode=t.isDefined(d.mode)?d.mode:e.MODE_ONDEMAND){case e.MODE_SNAPSHOT:this.currentMode=e.MODE_SNAPSHOT;this._mode=new W(this);this._isSnapshot=!0;break;case e.MODE_ONDEMAND:case e.MODE_AUTO:this.currentMode=e.MODE_ONDEMAND;this._tileWidth=d.tileWidth||512;this._tileHeight=d.tileHeight||512;
this._mode=new Q(this);this.latticeTiling=d.latticeTiling;break;case e.MODE_SELECTION:this.currentMode=e.MODE_SELECTION,this._mode=new O(this),this._isSelOnly=!0}this._initLayer=k.hitch(this,this._initLayer);this._selectHandler=k.hitch(this,this._selectHandler);this._editable=!1;if(k.isObject(a)&&a.layerDefinition)return this._collection=!0,this.mode=e.MODE_SNAPSHOT,this._initLayer(a),this;this._task=new G(this.url,{source:this.source,gdbVersion:this.gdbVersion});c=this._url.path;this._fserver=!1;
-1!==c.search(/\/FeatureServer\//i)&&(this._fserver=!0);this.mode===e.MODE_AUTO&&this.reHostedFS.test(this.url)&&this._queryLimit();(e=d.resourceInfo)?this._initLayer(e):(this.source&&(e={source:this.source.toJson()},this._url.query=k.mixin(this._url.query,{layer:l.toJson(e)})),this.gdbVersion&&(this._url.query=k.mixin(this._url.query,{gdbVersion:this.gdbVersion})),s({url:c,content:k.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler}));this.registerConnectEvents()},
_initLayer:function(a,b){if(a||b){this._json=a;this._findCredential();if(this.credential&&this.credential.ssl||a&&a._ssl)this._useSSL(),this._task._useSSL();this._collection&&(this.currentMode=S.MODE_SNAPSHOT,this._mode=new W(this),this._isSnapshot=!0,this._featureSet=a.featureSet,this._nextId=a.nextObjectId,a=a.layerDefinition);if(a.hasOwnProperty("capabilities")){var d=this.capabilities=a.capabilities;d&&-1!==d.toLowerCase().indexOf("editing")?this._editable=!0:this._editable=!1}else this._collection||
(this._editable=this._fserver);t.isDefined(this._optEditable)&&(this._editable=this._optEditable,delete this._optEditable);this._json=l.toJson(this._json);if(this.isEditable())delete this._maxOffset;else if(this.currentMode!==S.MODE_SNAPSHOT&&("esriGeometryPolyline"===a.geometryType||"esriGeometryPolygon"===a.geometryType))this._autoGeneralize=t.isDefined(this._optAutoGen)?this._optAutoGen:this.currentMode===S.MODE_ONDEMAND,delete this._optAutoGen;var d=a.effectiveMinScale||a.minScale,c=a.effectiveMaxScale||
a.maxScale;!this._hasMin&&d&&this.setMinScale(d);!this._hasMax&&c&&this.setMaxScale(c);this.layerId=a.id;this.name=a.name;this.description=a.description;this.copyright=a.copyrightText;this.type=a.type;this.geometryType=a.geometryType;this.displayField=a.displayField;this.defaultDefinitionExpression=a.definitionExpression;this.fullExtent=new L(a.extent);this.initialExtent=new L(this.fullExtent.toJson());this.fullExtent.spatialReference&&(this.spatialReference=new z(this.fullExtent.spatialReference.toJson()));
this.defaultVisibility=a.defaultVisibility;if("esriGeometryPoint"===this.geometryType||"esriGeometryMultipoint"===this.geometryType)this.latticeTiling=!1;this.indexedFields=a.indexedFields;this.maxRecordCount=a.maxRecordCount;this.canModifyLayer=a.canModifyLayer;this.supportsStatistics=a.supportsStatistics;this.supportsAdvancedQueries=this._collection?!1:a.supportsAdvancedQueries;this.hasLabels=a.hasLabels;this.canScaleSymbols=a.canScaleSymbols;this.supportsRollbackOnFailure=a.supportsRollbackOnFailure;
this.syncCanReturnChanges=a.syncCanReturnChanges;this.isDataVersioned=a.isDataVersioned;this.editFieldsInfo=a.editFieldsInfo;this.ownershipBasedAccessControlForFeatures=a.ownershipBasedAccessControlForFeatures;this.editFieldsInfo&&this.ownershipBasedAccessControlForFeatures&&(this.creatorField=this.editFieldsInfo.creatorField);this.relationships=a.relationships;this.allowGeometryUpdates=t.isDefined(a.allowGeometryUpdates)?a.allowGeometryUpdates:!0;this._isTable="Table"===this.type;for(var g=this.fields=
[],c=a.fields,d=0;d<c.length;d++)g.push(new N(c[d]));if(!this.objectIdField&&(this.objectIdField=a.objectIdField,!this.objectIdField)){c=a.fields;for(d=0;d<c.length;d++)if(g=c[d],"esriFieldTypeOID"===g.type){this.objectIdField=g.name;break}}if(!t.isDefined(this._nextId)){c=this.objectIdField;g=-1;if(this._collection&&c)for(var f=(d=this._featureSet)&&d.features,n=f?f.length:0,h,d=0;d<n;d++)h=(h=f[d].attributes)&&h[c],h>g&&(g=h);this._nextId=g+1}this.globalIdField=a.globalIdField;if(d=this.typeIdField=
a.typeIdField)if(d=!this._getField(d)&&this._getField(d,!0))this.typeIdField=d.name;this.visibilityField=a.visibilityField;if(c=a.defaultSymbol)this.defaultSymbol=C.fromJson(c);var r=this.types=[],m=a.types,s,u,g=(d=this.editFieldsInfo)&&d.creatorField,f=d&&d.editorField;h=g||f;n=[];if(m)for(d=0;d<m.length;d++)s=new T(m[d]),u=s.templates,h&&(u&&u.length)&&(n=n.concat(u)),r.push(s);m=a.templates;s=this.templates=[];if(m)for(d=0;d<m.length;d++)r=new R(m[d]),h&&n.push(r),s.push(r);for(d=0;d<n.length;d++)if(h=
k.getObject("prototype.attributes",!1,n[d]))g&&delete h[g],f&&delete h[f];if(d=a.timeInfo)this.timeInfo=new X(d),this._startTimeField=d.startTimeField,this._endTimeField=d.endTimeField,this._startTimeField&&this._endTimeField&&(this._twoTimeFields=!0),this._trackIdField?d.trackIdField=this._trackIdField:this._trackIdField=d.trackIdField;this.hasAttachments=!this._collection&&a.hasAttachments?!0:!1;this.htmlPopupType=a.htmlPopupType;var d=a.drawingInfo,x;if(g=d&&d.labelingInfo)this.labelingInfo=q.map(g,
function(a){return new V(a)}),this._fixLabelExpr();if(!this.renderer)if(d&&d.renderer){if(x=d.renderer,this.setRenderer(A.fromJson(x)),"classBreaks"===x.type&&this.renderer.setMaxInclusive(!0),!this._collection){var G=x.type,c=[];x=this.renderer;switch(G){case "simple":c.push(x.symbol);break;case "uniqueValue":case "classBreaks":c.push(x.defaultSymbol),c=c.concat(q.map(x.infos,function(a){return a.symbol}))}var c=q.filter(c,t.isDefined),M=this._url.path+"/images/",H=this._getToken();q.forEach(c,function(a){var b=
a.url;b&&(-1===b.search(/https?\:/)&&-1===b.indexOf("data:")&&(a.url=M+b),H&&-1!==a.url.search(/https?\:/)&&(a.url+="?token\x3d"+H))})}}else if(c)m=this.types,0<m.length?(x=new E(this.defaultSymbol,this.typeIdField),q.forEach(m,function(a){x.addValue(a.id,a.symbol)})):x=new B(this.defaultSymbol),this.setRenderer(x);else if(!this._isTable){switch(this.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":G=new y;break;case "esriGeometryPolyline":G=new w;break;case "esriGeometryPolygon":G=
new D}this.setRenderer(G?new B(G):null)}G=d&&d.transparency||0;!this.hasOwnProperty("opacity")&&0<G&&(this.opacity=1-G/100);this.version=a.currentVersion;this.version||(this.version="capabilities"in a||"drawingInfo"in a||"hasAttachments"in a||"htmlPopupType"in a||"relationships"in a||"timeInfo"in a||"typeIdField"in a||"types"in a?10:9.3);if((e("ie")||e("safari"))&&this.isEditable()&&10.02>this.version)this._ts=!0;this.statistics=a.statistics;this._fixRendererFields();this._checkFields();this._updateCaps();
var I=function(){this.loaded=!0;this.onLoad(this);var a=this._loadCallback;a&&(delete this._loadCallback,a(this))};this._collection?(G=this._featureSet,this._featureSet=null,this._mode._drawFeatures(new F(G)),this._fcAdded=!0,I.call(this)):this._forceIdentity(this._limitPromise?function(){var a=this;this._limitPromise.then(function(b){a._checkMode(b)});this._limitPromise.always(function(){a._limitPromise=null;I.call(a)})}:I)}},onRendererChange:function(){this.inherited(arguments);var a=this._getRenderer();
this._ager=!(!a||!a.observationAger||!a.observationRenderer);if(a){var b=[],a=q.filter([a,a.observationRenderer,a.latestObservationRenderer,a.trackRenderer],t.isDefined);q.forEach(a,function(a){k.isFunction(a.attributeField)||b.push(a.attributeField);b.push(a.attributeField2);b.push(a.attributeField3)},this);this._rendererFields=q.filter(b,t.isDefined)}else this._rendererFields=[];this.loaded&&(this._fixRendererFields(),this._checkFields(this._rendererFields),this._collection&&(this._typesDirty=!0))},
redraw:function(){this.inherited(arguments);this._trackManager&&this._trackManager.container&&this._trackManager.container.redraw()},_evalSDRenderer:function(){this.inherited(arguments);var a=this._getRenderer();this._ager=!(!a||!a.observationAger||!a.observationRenderer);this._trackManager&&this._trackManager.container&&this._trackManager.container.setRenderer(a&&a.trackRenderer)},_setMap:function(a){var b=this.inherited(arguments),d=this._mode,c=this;d&&d.initialize(a);this.geometryType&&this.attr("data-geometry-type",
this.geometryType.replace(/esriGeometry/i,"").toLowerCase());this._addHandle=this.on("graphic-node-add",function(a){a=a.graphic.attributes;(a=c._selectedFeatures[a&&a[c.objectIdField]])&&a.attr("data-selected","")});return b},_unsetMap:function(a){var b=this._mode;b&&b.suspend();this._trackManager&&(this._trackManager.destroy(),this._trackManager=null);m.disconnect(this._zoomConnect);m.disconnect(this._addHandle);this._zoomConnect=this._addHandle=null;this._toggleTime(!1);this.inherited("_unsetMap",
arguments)},refresh:function(){var a=this._mode;a&&a.refresh()},getOutFields:function(){return q.filter(this._getOutFields(),function(a){return"*"===a||!!this._getField(a)},this)},setEditable:function(a){if(!this._collection)return this;if(!this.loaded)return this._optEditable=a,this;var b=this._editable;this._editable=a;this._updateCaps();if(b!==a)this.onCapabilitiesChange();return this},getEditCapabilities:function(a){var b={canCreate:!1,canUpdate:!1,canDelete:!1};if(!this.loaded||!this.isEditable())return b;
var d=a&&a.feature;a=a&&a.userId;var c=q.map(this.capabilities?this.capabilities.toLowerCase().split(","):[],k.trim),e=-1<q.indexOf(c,"editing"),g=e&&-1<q.indexOf(c,"create"),b=e&&-1<q.indexOf(c,"update"),c=e&&-1<q.indexOf(c,"delete"),f=this.ownershipBasedAccessControlForFeatures,n=this.editFieldsInfo,h=n&&n.creatorField,n=n&&n.realm,d=(d=d&&d.attributes)&&h?d[h]:void 0,l=!!this.userIsAdmin,h=!f||l||!(!f.allowOthersToUpdate&&!f.allowUpdateToOthers),f=!f||l||!(!f.allowOthersToDelete&&!f.allowDeleteToOthers);
if(l||e&&!g&&!b&&!c)g=b=c=!0;e={canCreate:g,canUpdate:b,canDelete:c};null===d?(e.canUpdate=b&&h,e.canDelete=c&&f):""!==d&&d&&((a=a||this.getUserId())&&n&&(a=a+"@"+n),a.toLowerCase()!==d.toLowerCase()&&(e.canUpdate=b&&h,e.canDelete=c&&f));return e},getUserId:function(){var a;this.loaded&&(a=this.credential&&this.credential.userId||this.userId||"");return a},setUserIsAdmin:function(a){this.userIsAdmin=a},setEditSummaryCallback:function(a){this.editSummaryCallback=a},getEditSummary:function(a,b,d){d=
t.isDefined(d)?d:(new Date).getTime();var c="";d=this.getEditInfo(a,b,d);(b=b&&b.callback||this.editSummaryCallback)&&(d=b(a,d)||"");if(k.isString(d))c=d;else{if(d){a=d.action;b=d.userId;var e=d.timeValue,g=0;a&&g++;b&&g++;t.isDefined(e)&&g++;1<g&&(c=("edit"===a?"edit":"create")+(b?"User":"")+(t.isDefined(e)?d.displayPattern:""))}c=c&&t.substitute(d,this.i18n.layers.FeatureLayer[c])}return c},getEditInfo:function(a,b,d){if(this.loaded){d=t.isDefined(d)?d:(new Date).getTime();b=b&&b.action||"last";
var c=this.editFieldsInfo,e=c&&c.creatorField,g=c&&c.creationDateField,f=c&&c.editorField,c=c&&c.editDateField,f=(a=a&&a.attributes)&&f?a[f]:void 0,c=a&&c?a[c]:null,e=this._getEditData(a&&e?a[e]:void 0,a&&g?a[g]:null,d);d=this._getEditData(f,c,d);var n;switch(b){case "creation":n=e;break;case "edit":n=d;break;case "last":n=d||e}n&&(n.action=n===d?"edit":"creation");return n}},_getEditData:function(a,b,d){var c,e,f;t.isDefined(b)&&(e=d-b,f=0>e?"Full":6E4>e?"Seconds":12E4>e?"Minute":36E5>e?"Minutes":
72E5>e?"Hour":864E5>e?"Hours":6048E5>e?"WeekDay":"Full");if(void 0!==a||f)c=c||{},c.userId=a,f&&(a=g.format,d=new Date(b),c.minutes=Math.floor(e/6E4),c.hours=Math.floor(e/36E5),c.weekDay=a(d,{datePattern:"EEEE",selector:"date"}),c.formattedDate=a(d,{selector:"date"}),c.formattedTime=a(d,{selector:"time"}),c.displayPattern=f,c.timeValue=b);return c},isEditable:function(){return!(!this._editable&&!this.userIsAdmin)},setMaxAllowableOffset:function(a){this.isEditable()||(this._maxOffset=a);return this},
getMaxAllowableOffset:function(){return this._maxOffset},setAutoGeneralize:function(a){if(this.loaded){if(!this.isEditable()&&this.currentMode!==S.MODE_SNAPSHOT&&("esriGeometryPolyline"===this.geometryType||"esriGeometryPolygon"===this.geometryType))if(this._autoGeneralize=a){if((a=this._map)&&a.loaded)this._maxOffset=Math.floor(a.extent.getWidth()/a.width)}else delete this._maxOffset}else this._optAutoGen=a;return this},setGDBVersion:function(a){if(!this._collection&&a!==this.gdbVersion&&(a||this.gdbVersion))this.gdbVersion=
a,this._task.gdbVersion=a,this._url.query=k.mixin(this._url.query,{gdbVersion:a}),this.loaded&&(this.clearSelection(),this._map&&this.refresh()),this.onGDBVersionChange();return this},setDefinitionExpression:function(a){this._defnExpr=a;(a=this._mode)&&a.propertyChangeHandler(1);return this},getDefinitionExpression:function(){return this._defnExpr},setTimeDefinition:function(a){this._isSnapshot&&(this._timeDefn=a,(a=this._mode)&&a.propertyChangeHandler(2));return this},getTimeDefinition:function(){return this._timeDefn},
setTimeOffset:function(a,b){this._timeOffset=a;this._timeOffsetUnits=b;var d=this._mode;d&&d.propertyChangeHandler(0);return this},setUseMapTime:function(a){this.useMapTime=a;this._toggleTime(!this.suspended);(a=this._mode)&&a.propertyChangeHandler(0)},selectFeatures:function(a,b,c,e){b=b||S.SELECTION_NEW;a=this._getShallowClone(a);var g=this._map,f,n=this,k=u._fixDfd(new h(u._dfdCanceller));a.outFields=this.getOutFields();a.returnGeometry=!0;g&&(a.outSpatialReference=new z(g.spatialReference.toJson()));
if(!this._applyQueryFilters(a,!0))return f={features:[]},this._selectHandler(f,b,c,e,k),k;if(g=this._canDoClientSideQuery(a))k._pendingDfd=d(this._doQuery(a,g)),k._pendingDfd.then(function(a){f={features:a};n._selectHandler(f,b,c,e,k)});else{if(this._collection)return this._resolve([Error("FeatureLayer::selectFeatures - "+this.invalidParams)],null,e,k,!0),k;var l=this;this._ts&&(a._ts=(new Date).getTime());(k._pendingDfd=this._task.execute(a)).addCallbacks(function(a){l._selectHandler(a,b,c,e,k)},
function(a){l._resolve([a],null,e,k,!0)})}return k},getSelectedFeatures:function(){var a=this._selectedFeatures,b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(a[d]);return b},clearSelection:function(a){var b=this._selectedFeatures,d=this._mode,c;for(c in b)b.hasOwnProperty(c)&&(this._unSelectFeatureIIf(c,d),d._removeFeatureIIf(c));this._selectedFeatures={};this._isSelOnly&&d._applyTimeFilter(!0);if(!a)this.onSelectionClear();return this},setSelectionSymbol:function(a){if(this._selectionSymbol=a){var b=
this._selectedFeatures,d;for(d in b)b.hasOwnProperty(d)&&b[d].setSymbol(a)}return this},getSelectionSymbol:function(){return this._selectionSymbol},__msigns:[{n:"applyEdits",c:5,a:[{i:0},{i:1}],e:4,f:1}],applyEdits:function(a,b,d,c,e,g){var f=g.assembly,n=g.dfd;this._applyNormalized(a,f&&f[0]);this._applyNormalized(b,f&&f[1]);this.onBeforeApplyEdits(a,b,d);var h={},l=this.objectIdField,f={f:"json"},r=!1;if(this._collection)g={},g.addResults=a?q.map(a,function(){r=!0;return{objectId:this._nextId++,
success:!0}},this):null,g.updateResults=b?q.map(b,function(a){r=!0;var b=a.attributes[l];h[b]=a;return{objectId:b,success:!0}},this):null,g.deleteResults=d?q.map(d,function(a){r=!0;return{objectId:a.attributes[l],success:!0}},this):null,r&&this._editHandler(g,a,h,c,e,n);else{a&&0<a.length&&(f.adds=this._convertFeaturesToJson(a,0,1),r=!0);if(b&&0<b.length){for(g=0;g<b.length;g++){var m=b[g];h[m.attributes[l]]=m}f.updates=this._convertFeaturesToJson(b,0,0,1);r=!0}if(d&&0<d.length){b=[];for(g=0;g<d.length;g++)b.push(d[g].attributes[l]);
f.deletes=b.join(",");r=!0}if(r){var w=this;return s({url:this._url.path+"/applyEdits",content:k.mixin(f,this._url.query),callbackParamName:"callback",load:function(b){w._editHandler(b,a,h,c,e,n)},error:function(a){w._resolve([a],null,e,n,!0)}},{usePost:!0})}}},queryFeatures:function(a,b,d){return this._query("execute","onQueryFeaturesComplete",a,b,d)},queryRelatedFeatures:function(a,b,d){return this._query("executeRelationshipQuery","onQueryRelatedFeaturesComplete",a,b,d)},queryIds:function(a,b,
d){return this._query("executeForIds","onQueryIdsComplete",a,b,d)},queryCount:function(a,b,d){return this._query("executeForCount","onQueryCountComplete",a,b,d)},queryExtent:function(a,b,d){return this._query("executeForExtent","onQueryExtentComplete",a,b,d)},queryAttachmentInfos:function(a,b,d){var e=this._url.path+"/"+a+"/attachments",g=new h(u._dfdCanceller),f=this;g._pendingDfd=s({url:e,content:k.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:function(d){d=d.attachmentInfos;
var n;q.forEach(d,function(b){n=c.objectToQuery({gdbVersion:f._url.query&&f._url.query.gdbVersion,layer:f._url.query&&f._url.query.layer,token:f._getToken()});b.url=e+"/"+b.id+(n?"?"+n:"");b.objectId=a});f._resolve([d],"onQueryAttachmentInfosComplete",b,g)},error:function(a){f._resolve([a],null,d,g,!0)}});return g},addAttachment:function(a,b,d,c){return this._sendAttachment("add",a,b,d,c)},updateAttachment:function(b,d,c,e,g){c.appendChild(a.create("input",{type:"hidden",name:"attachmentId",value:d}));
return this._sendAttachment("update",b,c,e,g)},deleteAttachments:function(a,b,d,c){var e=this._url.path+"/"+a+"/deleteAttachments",g=new h(u._dfdCanceller),f=this;b={f:"json",attachmentIds:b.join(",")};g._pendingDfd=s({url:e,content:k.mixin(b,this._url.query),callbackParamName:"callback",load:k.hitch(this,function(b){b=b.deleteAttachmentResults;b=q.map(b,function(b){b=new U(b);b.attachmentId=b.objectId;b.objectId=a;return b});f._resolve([b],"onDeleteAttachmentsComplete",d,g)}),error:function(a){f._resolve([a],
null,c,g,!0)}},{usePost:!0});return g},addType:function(a){var b=this.types;if(b){if(q.some(b,function(b){return b.id==a.id?!0:!1}))return!1;b.push(a)}else this.types=[a];return this._typesDirty=!0},deleteType:function(a){if(this._collection){var b=this.types;if(b){var d=-1;q.some(b,function(b,c){return b.id==a?(d=c,!0):!1});if(-1<d)return this._typesDirty=!0,b.splice(d,1)[0]}}},toJson:function(){var a=this._json;if(a=k.isString(a)?l.fromJson(a):k.clone(a)){var a=a.layerDefinition?a:{layerDefinition:a},
b=a.layerDefinition,d=this._collection;if(d&&this._typesDirty){b.types=q.map(this.types||[],function(a){return a.toJson()});var c=this.renderer,e=b.drawingInfo;c&&!e&&(e=b.drawingInfo={});e&&(c&&-1===c.declaredClass.indexOf("TemporalRenderer"))&&(e.renderer=c.toJson())}c=null;if(!d||this._fcAdded)c={geometryType:b.geometryType,features:this._convertFeaturesToJson(this.graphics,!0)};a.featureSet=k.mixin({},a.featureSet||{},c);d&&(a.nextObjectId=this._nextId,b.capabilities=this.capabilities);return a}},
onSelectionComplete:function(){},onSelectionClear:function(){},onBeforeApplyEdits:function(){},onEditsComplete:function(){},onQueryFeaturesComplete:function(){},onQueryRelatedFeaturesComplete:function(){},onQueryIdsComplete:function(){},onQueryCountComplete:function(){},onQueryExtentComplete:function(){},onQueryAttachmentInfosComplete:function(){},onAddAttachmentComplete:function(){},onUpdateAttachmentComplete:function(){},onDeleteAttachmentsComplete:function(){},onCapabilitiesChange:function(){},
onGDBVersionChange:function(){},onQueryLimitExceeded:function(){},_forceIdentity:function(a){var b=this,d=this._url&&this._url.path;(this.ownershipBasedAccessControlForFeatures||this.userIsAdmin)&&!this._getToken()&&d&&r.id&&r.id._hasPortalSession()&&r.id._doPortalSignIn(d)?r.id.getCredential(d).then(function(){b._findCredential();a.call(b)},function(){a.call(b)}):a.call(this)},_checkMode:function(a){var b=this.geometryType,d=this.maxRecordCount;a=(a=a&&a.features&&a.features[0])&&a.attributes&&a.attributes.exceedslimit;
if(this.mode===S.MODE_AUTO&&!this.isEditable()&&0===a&&(this.queryPagination||("esriGeometryPolyline"===b||"esriGeometryPolygon"===b||"esriGeometryMultipoint"===b)&&d>=this.maxRecordCountForAuto||"esriGeometryPoint"===b&&d>=this.maxPointCountForAuto))this.currentMode=S.MODE_SNAPSHOT,this._mode=new W(this),this._isSnapshot=!0,this._autoGeneralize=!1},_queryLimit:function(){var a=this,b=new h;this._limitPromise=b.promise;setTimeout(function(){var d=new M,c=new J;c.statisticType="exceedslimit";c.maxPointCount=
a.maxPointCountForAuto;c.maxRecordCount=a.maxRecordCountForAuto;c.maxVertexCount=a.maxVertexCountForAuto;c.outStatisticFieldName="exceedslimit";d.outStatistics=[c];a.queryFeatures(d).promise.then(function(a){b.resolve(a)},function(a){b.reject(a)})},0)},_updateCaps:function(){var a=this._editable,b=k.trim(this.capabilities||""),d=q.map(b?b.split(","):[],k.trim),c=q.map(b?b.toLowerCase().split(","):[],k.trim),b=q.indexOf(c,"editing"),e,c={Create:q.indexOf(c,"create"),Update:q.indexOf(c,"update"),Delete:q.indexOf(c,
"delete")};if(a&&-1===b)d.push("Editing");else if(!a&&-1<b){a=[b];for(e in c)-1<c[e]&&a.push(c[e]);a.sort();for(e=a.length-1;0<=e;e--)d.splice(a[e],1)}this.capabilities=d.join(",")},_counter:{value:0},_getUniqueId:function(){return this._counter.value++},onSuspend:function(){this.inherited(arguments);this._toggleTime(!1);var a=this._mode;a&&a.suspend()},onResume:function(a){this.inherited(arguments);this._toggleTime(!0);this._updateMaxOffset();var b=this._mode,d=this._map,c=this._getRenderer();if(a.firstOccurrence){this._fixRendererFields();
this._checkFields();this.clearSelection();if(this.timeInfo&&(this._trackIdField||c&&(c.latestObservationRenderer||c.trackRenderer)))this._trackManager=new Z(this),this._trackManager.initialize(d);if(this.mode===S.MODE_AUTO&&this.currentMode===S.MODE_SNAPSHOT&&("esriGeometryPolyline"===this.geometryType||"esriGeometryPolygon"===this.geometryType)&&!this.getMaxAllowableOffset())c=this.generalizeForScale,c=this.maxScale?this.maxScale:this.minScale?Math.min(c,this.minScale):Math.min(c,H.getScale(d,this.initialExtent)),
this.setMaxAllowableOffset(d.extent.getWidth()/d.width/d.getScale()*c);this._zoomConnect=m.connect(d,"onZoomEnd",this,this._updateMaxOffset)}b&&(a.firstOccurrence?b.startup():b.resume())},_updateMaxOffset:function(){var a=this._map;a&&a.loaded&&this._autoGeneralize&&(this._maxOffset=Math.floor(a.extent.getWidth()/a.width))},_toggleTime:function(a){var b=this._map;a&&this.timeInfo&&this.useMapTime&&b?(this._mapTimeExtent=b.timeExtent,this._timeConnect||(this._timeConnect=m.connect(b,"onTimeExtentChange",
this,this._timeChangeHandler))):(this._mapTimeExtent=null,m.disconnect(this._timeConnect),this._timeConnect=null)},_timeChangeHandler:function(a){this._mapTimeExtent=a;(a=this._mode)&&a.propertyChangeHandler(0)},_getOffsettedTE:function(a){var b=this._timeOffset,d=this._timeOffsetUnits;return a&&b&&d?a.offset(-1*b,d):a},_getTimeOverlap:function(a,b){return a&&b?a.intersection(b):a||b},_getTimeFilter:function(a){var b=this.getTimeDefinition(),d;if(b&&(d=this._getTimeOverlap(b,null),!d))return[!1];
if(a){if(a=d?this._getTimeOverlap(a,d):a,!a)return[!1]}else a=d;return[!0,a]},_getAttributeFilter:function(a){var b=this.getDefinitionExpression();return a?b?"("+b+") AND ("+a+")":a:b},_applyQueryFilters:function(a,b){a.where=this._getAttributeFilter(a.where);a.maxAllowableOffset=this._maxOffset;b&&this.supportsAdvancedQueries&&(a.orderByFields=a.orderByFields||this.getOrderByFields());if(this.timeInfo){var d=this._getTimeFilter(a.timeExtent);if(d[0])a.timeExtent=d[1];else return!1}return!0},_add:function(a){var b=
this._selectionSymbol,d=a.attributes,c=this.visibilityField;b&&this._isSelOnly&&a.setSymbol(b);if(c&&d&&d.hasOwnProperty(c))a[d[c]?"show":"hide"]();return this.add.apply(this,arguments)},_remove:function(){return this.remove.apply(this,arguments)},_canDoClientSideQuery:function(a){var b=[],d=this._map;if(!(this._isTable||!d&&!this._collection))if(!a.text&&!(a.where&&a.where!==this.getDefinitionExpression()||a.orderByFields&&a.orderByFields.length||a.outStatistics)){var c=this._isSnapshot,e=this._isSelOnly,
g=a.geometry;if(g)if(!e&&a.spatialRelationship===M.SPATIAL_REL_INTERSECTS&&"extent"===g.type&&(c||d.extent.contains(g)))b.push(1);else return;if(d=a.objectIds)if(c)b.push(2);else{var g=d.length,f=this._mode,n=0,h;for(h=0;h<g;h++)f._getFeature(d[h])&&n++;if(n===g)b.push(2);else return}if(this.timeInfo)if(a=a.timeExtent,d=this._mapTimeExtent,c)a&&b.push(3);else if(e){if(a)return}else if(d)if(-1!==q.indexOf(b,2))a&&b.push(3);else return;else if(0<b.length)a&&b.push(3);else if(a)return;return 0<b.length?
b:null}},_doQuery:function(a,b,d){var c=[],e=this._mode,g=this.objectIdField,f=this,n,l,r=new h,m=new h,w=function(a,b){if(!a.length||!b.length)return a.length?a:b;var d,c,e={};a.length>b.length?(c=a,d=b):(c=b,d=a);for(var f=c.length,n=d.length,h;f--;)h=c[f],e[h.attributes[g]]=!0;for(;n--;)h=d[n],e[h.attributes[g]]||c.push(h);return c};if(-1!==q.indexOf(b,1)){l=this.graphics;n=l.length;var s=this.spatialIndex||this._map&&this._map.spatialIndex,C,A=a.geometry._normalize(null,!0);null==s&&Y.autoSpatialIndexing?
C=(this._map||this).addPlugin("esri/plugins/spatialIndex").then(k.hitch(this,k.partial(this._getFromIndex,A,s)),function(a){m.resolve(k.hitch(this,k.partial(this._filterByExtent,l,A)))}):s&&(C=this._getFromIndex(A,s));C?C.then(function(a){for(var b=0;b<a.length;b++)a[b].results&&(c=c.concat(a[b].results));m.resolve(c)}).otherwise(function(a){m.reject(a)}):m.resolve(this._filterByExtent(l,A))}else m.resolve([]);m.then(function(c){var h=[];if(-1!==q.indexOf(b,2)){var k=a.objectIds;for(n=k.length;n--;){var l=
e._getFeature(k[n]);l&&h.push(l)}h=w(c,h)}else h=c;-1!==q.indexOf(b,3)&&this.timeInfo&&(c=a.timeExtent,h=f._filterByTime(h,c.startTime,c.endTime).match);d&&(h=q.map(h,function(a){return a.attributes[g]},this));r.resolve(h)});return r},_getFromIndex:function(a,b){b=b||this.spatialIndex||this._map.spatialIndex;a instanceof Array||(a=[a]);var d=this.id;return n(q.map(a,function(a){return b.intersects(a,d)}))},_filterByExtent:function(a,b){for(var d=[],c=0,e=a.length;c<e;c++){var g=a[c],f=g.geometry;
f&&(this.normalization&&b.length?(b[0].intersects(f)||b[1].intersects(f))&&d.push(g):b.intersects(f)&&d.push(g))}return d},_filterByTime:function(a,b,d){var c=this._startTimeField,e=this._endTimeField,g;this._twoTimeFields||(g=c||e);var f=t.isDefined,n=[],h=[],k,l=a.length,r,q;b=b?b.getTime():-Infinity;d=d?d.getTime():Infinity;if(g)for(k=0;k<l;k++)r=a[k],q=r.attributes,c=q[g],c>=b&&c<=d?n.push(r):h.push(r);else for(k=0;k<l;k++)r=a[k],q=r.attributes,g=q[c],q=q[e],g=f(g)?g:-Infinity,q=f(q)?q:Infinity,
g>=b&&g<=d||q>=b&&q<=d||b>=g&&d<=q?n.push(r):h.push(r);return{match:n,noMatch:h}},_resolve:function(a,b,d,c,e){b&&this[b].apply(this,a);d&&d.apply(null,a);c&&u._resDfd(c,a,e)},_getShallowClone:function(a){var b=new M,d;for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b},_query:function(a,b,c,e,g){var f=this,n=this._map,k=new h(u._dfdCanceller),l=c,r=function(d,c){if(!c&&"execute"===a&&!f._isTable){var g=d.features,n=f._mode,h=f.objectIdField,l;for(l=g.length-1;0<=l;l--){var r=n._getFeature(g[l].attributes[h]);
r&&g.splice(l,1,r)}}f._resolve([d],b,e,k)};if("executeRelationshipQuery"!==a){l=this._getShallowClone(c);l.outFields=this.getOutFields();l.returnGeometry=c.hasOwnProperty("returnGeometry")?c.returnGeometry:!c.outStatistics;var q;n&&(l.outSpatialReference=new z(n.spatialReference.toJson()));if(!this._applyQueryFilters(l,"execute"===a)){switch(a){case "execute":q=new F({features:[]});break;case "executeForIds":q=[];break;case "executeForCount":q=0;break;case "executeForExtent":q={}}r(q,!0);return k}if(c=
"executeForExtent"!==a&&this._canDoClientSideQuery(l))return k._pendingDfd=d(this._doQuery(l,c,"executeForIds"===a||"executeForCount"===a)),k._pendingDfd.then(function(b){switch(a){case "execute":q=new F;q.features=b;break;case "executeForIds":q=b;break;case "executeForCount":q=b.length}r(q,!0)}),k}if(this._collection)return this._resolve([Error("FeatureLayer::_query - "+this.invalidParams)],null,g,k,!0),k;this._ts&&(l._ts=(new Date).getTime());(k._pendingDfd=this._task[a](l)).addCallbacks(r,function(a){f._resolve([a],
null,g,k,!0)});return k},_convertFeaturesToJson:function(a,b,d,c){var e=[],g=this._selectionSymbol,f=this.visibilityField,n,h=this.objectIdField;if(this.loaded&&(d||c))n=q.filter(this.fields,function(a){return!1===a.editable&&(!c||a.name!==h)});for(d=0;d<a.length;d++){var r=a[d],m={},w=r.geometry,s=r.attributes,C=r.symbol;if(w&&(!c||!this.loaded||this.allowGeometryUpdates))m.geometry=w.toJson();f?(m.attributes=s=k.mixin({},s),s[f]=r.visible?1:0):s&&(m.attributes=k.mixin({},s));m.attributes&&(n&&n.length)&&
q.forEach(n,function(a){delete m.attributes[a.name]});C&&C!==g&&(m.symbol=C.toJson());e.push(m)}return b?e:l.toJson(e)},_selectHandler:function(a,b,d,c,e){var g;c=S;switch(b){case c.SELECTION_NEW:this.clearSelection(!0);g=!0;break;case c.SELECTION_ADD:g=!0;break;case c.SELECTION_SUBTRACT:g=!1}c=a.features;var f=this._mode,n=[],h=this.objectIdField,k,l;if(g)for(g=0;g<c.length;g++)k=c[g],l=k.attributes[h],k=f._addFeatureIIf(l,k),n.push(k),this._selectFeatureIIf(l,k,f);else for(g=0;g<c.length;g++)k=
c[g],l=k.attributes[h],this._unSelectFeatureIIf(l,f),l=f._removeFeatureIIf(l),n.push(l||k);this._isSelOnly&&f._applyTimeFilter(!0);this._resolve([n,b,a.exceededTransferLimit?{queryLimitExceeded:!0}:null],"onSelectionComplete",d,e);if(a.exceededTransferLimit)this.onQueryLimitExceeded()},_selectFeatureIIf:function(a,b,d){var c=this._selectedFeatures,e=c[a];e||(d._incRefCount(a),c[a]=b,this._isTable||(this._setSelectSymbol(b),b.attr("data-selected","")));return e||b},_unSelectFeatureIIf:function(a,b){var d=
this._selectedFeatures[a];d&&(b._decRefCount(a),delete this._selectedFeatures[a],this._isTable||(this._setUnSelectSymbol(d),d.attr("data-selected")));return d},_isSelected:function(a){},_setSelectSymbol:function(a){var b=this._selectionSymbol;b&&!this._isSelOnly&&a.setSymbol(b)},_setUnSelectSymbol:function(a){var b=this._selectionSymbol;b&&!this._isSelOnly&&b===a.symbol&&a.setSymbol(null,!0)},_getOutFields:function(){var a=[this.objectIdField,this.typeIdField,this.creatorField,this._startTimeField,
this._endTimeField,this._trackIdField].concat(this._rendererFields).concat(this.dataAttributes),a=q.filter(a,function(a,b,d){return!!a&&q.indexOf(d,a)===b}),b=k.clone(this._outFields);if(b){if(-1!==q.indexOf(b,"*"))return b;q.forEach(a,function(a){-1===q.indexOf(b,a)&&b.push(a)});return b}return a},_checkFields:function(a){var b=a||this._getOutFields();q.forEach(b,function(a){"*"!==a&&this._getField(a)},this);!a&&(!this._isTable&&!this._fserver&&!this._collection)&&q.some(this.fields,function(a){return a&&
"esriFieldTypeGeometry"===a.type?!0:!1})},_fixLabelExpr:function(){var a=/\[([^\[\]]+)\]/ig,b,d=this,c=function(a,b){var c=d._getField(b,!0);return"["+(c&&c.name||b)+"]"};q.forEach(this.labelingInfo,function(d){if(b=d.labelExpression)d.labelExpression=b.replace(a,c)})},_fixRendererFields:function(){var a=this.renderer;this._orderBy=null;if(a&&0<this.fields.length){var b=[],d,c,a=q.filter([a,a.observationRenderer,a.latestObservationRenderer,a.trackRenderer],t.isDefined),e=[].concat(a);q.forEach(a,
function(a){q.forEach(a.rendererInfos,function(a){a.renderer&&e.push(a.renderer)})});q.forEach(e,function(a){if((c=a.attributeField)&&!k.isFunction(c))if(d=!this._getField(c)&&this._getField(c,!0))a.attributeField=d.name;if(c=a.attributeField2)if(d=!this._getField(c)&&this._getField(c,!0))a.attributeField2=d.name;if(c=a.attributeField3)if(d=!this._getField(c)&&this._getField(c,!0))a.attributeField3=d.name;k.isFunction(a.attributeField)||b.push(a.attributeField);b.push(a.attributeField2);b.push(a.attributeField3);
if((c=a.rotationInfo&&a.rotationInfo.field)&&!k.isFunction(c)){if(d=!this._getField(c)&&this._getField(c,!0))c=a.rotationInfo.field=d.name;b.push(c)}if(a.proportionalSymbolInfo){if((c=a.proportionalSymbolInfo.field)&&!k.isFunction(c)){if(d=!this._getField(c)&&this._getField(c,!0))c=a.proportionalSymbolInfo.field=d.name;b.push(c);this._orderBy||(this._orderBy=[c+" DESC"])}if((c=a.proportionalSymbolInfo.normalizationField)&&!k.isFunction(c)){if(d=!this._getField(c)&&this._getField(c,!0))c=a.proportionalSymbolInfo.normalizationField=
d.name;b.push(c)}}if(a.colorInfo){if((c=a.colorInfo.field)&&!k.isFunction(c)){if(d=!this._getField(c)&&this._getField(c,!0))c=a.colorInfo.field=d.name;b.push(c)}if((c=a.colorInfo.normalizationField)&&!k.isFunction(c)){if(d=!this._getField(c)&&this._getField(c,!0))c=a.colorInfo.normalizationField=d.name;b.push(c)}}if(!this._orderBy&&a.addBreak&&!k.isFunction(a.attributeField)&&(a.backgroundFillSymbol||this._hasSizeDiff(a)))this._orderBy=[a.attributeField+" DESC"]},this);this._rendererFields=q.filter(b,
t.isDefined)}},_hasSizeDiff:function(a){var b=Number.MAX_VALUE,d=-Number.MAX_VALUE,c,e;q.forEach(a.infos,function(a){if(e=a.symbol){c=0;switch(e.type){case "simplemarkersymbol":c=e.size;break;case "picturemarkersymbol":c=(e.width+e.height)/2;break;case "simplelinesymbol":case "cartographiclinesymbol":c=e.width;break;case "simplefillsymbol":case "picturefillsymbol":c=e.outline&&e.outline.width}c&&(b=Math.min(b,c),d=Math.max(d,c))}});return b!==Number.MAX_VALUE&&d!==-Number.MAX_VALUE&&1<Math.abs(d-
b)},getOrderByFields:function(){var a=this.orderByFields||this._orderBy;return this.supportsAdvancedQueries&&a?q.filter(a,function(a){a=a.split(" ")[0];return!!this._getField(a,!0)},this):null},_getField:function(a,b){var d=this.fields;if(!d||0===d.length)return null;var c;b&&(a=a.toLowerCase());q.some(d,function(d){var e=!1;(e=b?d&&d.name.toLowerCase()===a?!0:!1:d&&d.name===a?!0:!1)&&(c=d);return e});return c},_getDateOpts:function(){this._dtOpts||(this._dtOpts={properties:q.map(q.filter(this.fields,
function(a){return!!(a&&"esriFieldTypeDate"===a.type)}),function(a){return a.name})});return this._dtOpts},_applyNormalized:function(a,b){a&&b&&q.forEach(a,function(a,d){a&&b[d]&&a.setGeometry(b[d])})},_editHandler:function(a,b,d,c,e,g){e=a.addResults;var f=a.updateResults;a=a.deleteResults;var n,h,k,l,r=this.objectIdField,m=this._mode,w=this._isTable;n=this.editFieldsInfo;var s=this.getOutFields()||[],C=n&&n.creatorField,A=n&&n.creationDateField,t=n&&n.editorField,B=n&&n.editDateField;n=n&&n.realm;
-1===q.indexOf(s,"*")&&(C&&-1===q.indexOf(s,C)&&(C=null),A&&-1===q.indexOf(s,A)&&(A=null),t&&-1===q.indexOf(s,t)&&(t=null),B&&-1===q.indexOf(s,B)&&(B=null));var s=A||B?(new Date).getTime():null,u=C||t?this.getUserId():void 0;u&&n&&(u=u+"@"+n);if(e)for(n=0;n<e.length;n++)e[n]=new U(e[n]),w||(h=e[n],h.success&&(h=h.objectId,k=b[n],(l=k._graphicsLayer)&&l!==this&&l.remove(k),l=k.attributes||{},l[r]=h,C&&(l[C]=u),t&&(l[t]=u),A&&(l[A]=s),B&&(l[B]=s),k.setAttributes(l),m._init&&m.drawFeature(k)));if(f)for(n=
0;n<f.length;n++)if(f[n]=new U(f[n]),!w&&(h=f[n],h.success)){h=h.objectId;k=d[h];if(b=m._getFeature(h))b.geometry!==k.geometry&&b.setGeometry(K.fromJson(k.geometry.toJson())),this._repaint(b,h);k=b||k;l=k.attributes||{};t&&(l[t]=u);B&&(l[B]=s);k.setAttributes(l)}if(a){d=[];for(n=0;n<a.length;n++)if(a[n]=new U(a[n]),!w&&(h=a[n],h.success&&(h=h.objectId,k=m._getFeature(h))))this._unSelectFeatureIIf(h,m)&&d.push(k),k._count=0,m._removeFeatureIIf(h);if(0<d.length)this.onSelectionComplete(d,S.SELECTION_SUBTRACT)}this._resolve([e,
f,a],"onEditsComplete",c,g)},_sendAttachment:function(a,b,d,c,e){var g=this;return s({url:this._url.path+"/"+b+"/"+("add"===a?"addAttachment":"updateAttachment"),form:d,content:k.mixin(this._url.query,{f:"json",token:this._getToken()||void 0}),callbackParamName:"callback.html",handleAs:"json"}).addCallback(function(d){var e="add"===a?"onAddAttachmentComplete":"onUpdateAttachmentComplete";d=new U(d["add"===a?"addAttachmentResult":"updateAttachmentResult"]);d.attachmentId=d.objectId;d.objectId=b;g._resolve([d],
e,c);return d}).addErrback(function(a){g._resolve([a],null,e,null,!0)})},_repaint:function(a,b,d){b=t.isDefined(b)?b:a.attributes[this.objectIdField];(!(b in this._selectedFeatures)||!this._selectionSymbol)&&a.setSymbol(a.symbol,d)},_getKind:function(a){var b=this._trackManager;return b?b.isLatestObservation(a)?1:0:0}});k.mixin(S,{MODE_SNAPSHOT:0,MODE_ONDEMAND:1,MODE_SELECTION:2,SELECTION_NEW:3,SELECTION_ADD:4,SELECTION_SUBTRACT:5,MODE_AUTO:6,POPUP_NONE:"esriServerHTMLPopupTypeNone",POPUP_HTML_TEXT:"esriServerHTMLPopupTypeAsHTMLText",
POPUP_URL:"esriServerHTMLPopupTypeAsURL"});P._createWrappers(S);e("extend-esri")&&k.setObject("layers.FeatureLayer",S,r);return S})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(f,m,k){var q=f.some;return function(f){var h,g;f instanceof Array?g=f:f&&"object"===typeof f&&(h=f);var e,c=[];if(h){g=[];for(var a in h)Object.hasOwnProperty.call(h,a)&&(c.push(a),g.push(h[a]));e={}}else g&&(e=[]);if(!g||!g.length)return(new m).resolve(e);var b=new m;b.promise.always(function(){e=
c=null});var d=g.length;q(g,function(a,g){h||c.push(g);k(a,function(a){b.isFulfilled()||(e[c[g]]=a,0===--d&&b.resolve(e))},b.reject);return b.isFulfilled()});return b.promise}})},"esri/renderers/SimpleRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/lang esri/symbols/jsonUtils esri/renderers/Renderer".split(" "),function(f,m,k,q,l,h,g){f=f(g,{declaredClass:"esri.renderer.SimpleRenderer",constructor:function(e){if(e&&!e.declaredClass){var c=e;this.symbol=(e=
c.symbol)&&(e.declaredClass?e:h.fromJson(e));this.label=c.label;this.description=c.description}else this.symbol=e},getSymbol:function(e){return this.symbol},toJson:function(){var e=m.mixin(this.inherited(arguments),{type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJson()});return l.fixJson(e)}});k("extend-esri")&&m.setObject("renderer.SimpleRenderer",f,q);return f})},"esri/renderers/Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/Color".split(" "),
function(f,m,k,q,l,h){f=f(null,{declaredClass:"esri.renderer.Renderer",constructor:function(g){if(g&&!g.declaredClass){this.rotationInfo=g.rotationInfo;if(!this.rotationInfo){var e=g.rotationType,c=g.rotationExpression;if(e||c)this.rotationInfo={type:e,expression:c}}this.setRotationInfo(this.rotationInfo);this.setProportionalSymbolInfo(g.proportionalSymbolInfo);this.setColorInfo(g.colorInfo)}this.getSymbol=m.hitch(this,this.getSymbol)},getSymbol:function(g){},setRotationInfo:function(g){if((g=this.rotationInfo=
"string"===typeof g?{field:g}:g)&&g.expression&&!g.field){var e=g.expression.match(this.rotationRE);e&&e[1]&&(g.field=e[1])}return this},rotationRE:/^\[([^\]]+)\]$/i,getRotationAngle:function(g){var e=this.rotationInfo,c="arithmetic"===e.type,e=e.field,a=g.attributes,b=0;e&&(m.isFunction(e)?b=e.apply(this,arguments):a&&(b=a[e]||0),b=(b+(c?-90:0))*(c?-1:1));return b},setProportionalSymbolInfo:function(g){this.proportionalSymbolInfo=g;return this},getSize:function(g,e){var c=g.attributes,a=this.proportionalSymbolInfo,
b=a&&a.field,d=0,f="number"===typeof g?g:null;if(b){var h=a.minSize,k=a.maxSize,l=a.minDataValue,q=a.maxDataValue,u=a.valueUnit||"unknown",z=a.valueRepresentation,a=a.normalizationField,y=c?parseFloat(c[a]):void 0,a=e&&e.shape;"number"!==typeof f&&(m.isFunction(b)?f=b.apply(this,arguments):c&&(f=c[b]||0));isNaN(y)||(f/=y);if(null!=h&&null!=k&&null!=l&&null!=q)d=f<=l?h:f>=q?k:h+(f-l)/(q-l)*(k-h);else if("unknown"===u)null!=h&&null!=l&&(h&&l?(f/=l,d="circle"===a?2*Math.sqrt(f*Math.pow(h/2,2)):"square"===
a||"diamond"===a||"image"===a?Math.sqrt(f*Math.pow(h,2)):f*h):d=f+(h||l),d=d<h?h:d,null!=k&&d>k&&(d=k));else{c=(e&&e.resolution?e.resolution:g.getLayer().getMap().getResolutionInMeters())*this._meterIn[u];if("area"===z)d=Math.sqrt(f/Math.PI)/c,d*=2;else if(d=f/c,"radius"===z||"distance"===z)d*=2;null!=h&&d<h&&(d=h);null!=k&&d>k&&(d=k)}}return d=isNaN(d)?0:d},setColorInfo:function(g){this.colorInfo=g;this._interpolateData();return this},getColor:function(g){var e=g.attributes,c=this.colorInfo,a=c&&
c.field,b="number"===typeof g?g:null,d;a&&(c=c.normalizationField,c=e?parseFloat(e[c]):void 0,"number"!==typeof b&&(m.isFunction(a)?b=a.apply(this,arguments):e&&(b=e[a]||0)),isNaN(c)||(b/=c),this._interpolatedValues&&(d=this._getColor(b)));return d},_interpolateData:function(){var g=this.colorInfo,e;if(g)if(g.colors){var c=g.colors.length,a=g.minDataValue,b=(g.maxDataValue-a)/(c-1);e=[];for(g=0;g<c;g++)e[g]=a+g*b}else g.stops&&(e=k.map(g.stops,function(a){return a.value}));this._interpolatedValues=
e},_getColor:function(g){g=this._getColorRange(g);var e=this.colorInfo,c;if(g){c=g[0];var a=g[1];c=c===a?this._getColorObj(e,c):h.blendColors(this._getColorObj(e,c),this._getColorObj(e,a),g[2])}return c},_getColorObj:function(g,e){return g.colors?g.colors[e]:g.stops[e].color},_getColorRange:function(g){var e=this._interpolatedValues,c;if(e){var a=0,b=e.length-1;k.some(e,function(d,c){if(g<d)return b=c,!0;a=c;return!1});c=[a,b,(g-e[a])/(e[b]-e[a])]}return c},_meterIn:{inches:39.3701,feet:3.28084,yards:1.09361,
miles:6.21371E-4,"nautical-miles":5.39957E-4,millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:0.001,"decimal-degrees":180/20015077},toJson:function(){var g=this.proportionalSymbolInfo,e,c=this.colorInfo,a=this.rotationInfo;e=a&&a.field;var b=a&&(a.expression||e&&(m.isFunction(e)?e:"["+e+"]"));c&&(c=m.mixin({},c),c.colors&&(c.colors=k.map(c.colors,function(a){return m.isArray(a)?m.clone(a):h.toJsonColor(a)})),c.stops&&(c.stops=k.map(c.stops,function(a){return{value:a.value,color:m.isArray(a.color)?
m.clone(a.color):h.toJsonColor(a.color)}})));if(g&&(g=m.mixin({},g),e=g.legendOptions))if(g.legendOptions=m.mixin({},e),e=e.customValues)g.legendOptions.customValues=e.slice(0);return{rotationType:b&&(a.type||"geographic"),rotationExpression:b,colorInfo:c,proportionalSymbolInfo:g}}});q("extend-esri")&&m.setObject("renderer.Renderer",f,l);return f})},"esri/renderers/UniqueValueRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has esri/kernel esri/lang esri/symbols/jsonUtils esri/renderers/Renderer".split(" "),
function(f,m,k,q,l,h,g,e){f=f(e,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(c,a,b,d,e){this.values=[];this._symbols={};this.infos=[];c&&!c.declaredClass?(a=c,this.defaultSymbol=(c=a.defaultSymbol)&&(c.declaredClass?c:g.fromJson(c)),this.attributeField=a.field1,this.attributeField2=a.field2,this.attributeField3=a.field3,this.fieldDelimiter=a.fieldDelimiter,this.defaultLabel=a.defaultLabel,m.forEach(a.uniqueValueInfos,this._addValueInfo,this)):(this.defaultSymbol=c,this.attributeField=
a,this.attributeField2=b,this.attributeField3=d,this.fieldDelimiter=e);this._multiple=!!this.attributeField2},addValue:function(c,a){var b=k.isObject(c)?c:{value:c,symbol:a};this._addValueInfo(b)},removeValue:function(c){var a=m.indexOf(this.values,c);-1!==a&&(this.values.splice(a,1),delete this._symbols[c],this.infos.splice(a,1))},getUniqueValueInfo:function(c){var a=this.attributeField,b=c.attributes,d,e;this._multiple?(c=this.attributeField2,d=this.attributeField3,e=[],a&&e.push(b[a]),c&&e.push(b[c]),
d&&e.push(b[d]),a=e.join(this.fieldDelimiter||"")):a=k.isFunction(a)?a(c):b[a];return this._symbols[a]},getSymbol:function(c){return(c=this.getUniqueValueInfo(c))&&c.symbol||this.defaultSymbol},_addValueInfo:function(c){var a=c.value;this.values.push(a);this.infos.push(c);var b=c.symbol;b&&!b.declaredClass&&(c.symbol=g.fromJson(b));this._symbols[a]=c},toJson:function(){var c=h.fixJson,a=k.mixin(this.inherited(arguments),{type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,field3:this.attributeField3,
fieldDelimiter:this.fieldDelimiter,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),defaultLabel:this.defaultLabel,uniqueValueInfos:m.map(this.infos||[],function(a){a=k.mixin({},a);a.symbol=a.symbol&&a.symbol.toJson();a.value+="";return c(a)})});return c(a)}});q("extend-esri")&&k.setObject("renderer.UniqueValueRenderer",f,l);return f})},"esri/renderers/jsonUtils":function(){define("dojo/_base/lang dojo/has esri/kernel esri/renderers/SimpleRenderer esri/renderers/UniqueValueRenderer esri/renderers/ClassBreaksRenderer".split(" "),
function(f,m,k,q,l,h){var g={fromJson:function(e){var c;switch(e.type||""){case "simple":c=new q(e);break;case "uniqueValue":c=new l(e);break;case "classBreaks":c=new h(e)}return c}};m("extend-esri")&&f.mixin(f.getObject("renderer",!0,k),g);return g})},"esri/renderers/ClassBreaksRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has esri/kernel esri/lang esri/symbols/jsonUtils esri/renderers/Renderer".split(" "),function(f,m,k,q,l,h,g,e){f=f(e,{declaredClass:"esri.renderer.ClassBreaksRenderer",
constructor:function(c,a){this.breaks=[];this._symbols={};this.infos=[];if(c&&!c.declaredClass){var b=c;this.attributeField=b.field;this.defaultSymbol=(c=b.defaultSymbol)&&(c.declaredClass?c:g.fromJson(c));this.backgroundFillSymbol=(c=b.backgroundFillSymbol)&&(c.declaredClass?c:g.fromJson(c));this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],b,this);var d=b.minValue;(b=b.classBreakInfos)&&(b[0]&&h.isDefined(b[0].classMaxValue))&&
m.forEach(b,function(a){var b=a.classMaxValue;a.minValue=d;d=a.maxValue=b},this);m.forEach(b,this._addBreakInfo,this)}else this.defaultSymbol=c,this.attributeField=a},addBreak:function(c,a,b){c=k.isObject(c)?c:{minValue:c,maxValue:a,symbol:b};this._addBreakInfo(c)},removeBreak:function(c,a){var b,d=this.breaks,e,g=d.length,f=this._symbols;for(e=0;e<g;e++)if(b=d[e],b[0]==c&&b[1]==a){d.splice(e,1);delete f[c+"-"+a];this.infos.splice(e,1);break}},clearBreaks:function(){this.breaks=[];this._symbols={};
this.infos=[]},getBreakIndex:function(c){var a=this.attributeField,b=c.attributes,d=this.breaks,e=d.length,g=this.isMaxInclusive;if(k.isFunction(a))c=a(c);else{c=parseFloat(b[a]);var a=this.normalizationType,f;a&&(f=parseFloat(this.normalizationTotal),b=parseFloat(b[this.normalizationField]),"log"===a?c=Math.log(c)*Math.LOG10E:"percent-of-total"===a&&!isNaN(f)?c=100*(c/f):"field"===a&&!isNaN(b)&&(c/=b))}for(b=0;b<e;b++)if(a=d[b],a[0]<=c&&(g?c<=a[1]:c<a[1]))return b;return-1},getBreakInfo:function(c){c=
this.getBreakIndex(c);return-1!==c?this.infos[c]:null},getSymbol:function(c){return(c=this.breaks[this.getBreakIndex(c)])?this._symbols[c[0]+"-"+c[1]]:this.defaultSymbol},setMaxInclusive:function(c){this.isMaxInclusive=c},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],
["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"]],_copy:function(c,a,b){m.forEach(c,function(d){var c=d.split(":"),e,g,f;1<c.length&&(d=c[0],e=this["_"+d+"Enums"],"rest"===c[1]?(g="1",f="0"):"sdk"===c[1]&&(g="0",f="1"));c=a[d];if(void 0!==c&&(b[d]=c,e&&g)){var h,k=e.length;for(h=0;h<k;h++)if(e[h][g]===c){b[d]=e[h][f];break}}},this)},_addBreakInfo:function(c){var a=c.minValue,b=c.maxValue;this.breaks.push([a,b]);this.infos.push(c);var d=
c.symbol;d&&!d.declaredClass&&(c.symbol=g.fromJson(d));this._symbols[a+"-"+b]=c.symbol},toJson:function(){var c=this.infos||[],a=h.fixJson,b=c[0]&&c[0].minValue,d=this.backgroundFillSymbol,c=k.mixin(this.inherited(arguments),{type:"classBreaks",field:this.attributeField,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),backgroundFillSymbol:d&&d.toJson(),minValue:-Infinity===b?-Number.MAX_VALUE:b,classBreakInfos:m.map(c,function(b){b=k.mixin({},b);b.symbol=b.symbol&&b.symbol.toJson();b.classMaxValue=
Infinity===b.maxValue?Number.MAX_VALUE:b.maxValue;delete b.minValue;delete b.maxValue;return a(b)})});this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],this,c);return a(c)}});q("extend-esri")&&k.setObject("renderer.ClassBreaksRenderer",f,l);return f})},"esri/tasks/QueryTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has esri/kernel esri/request esri/deferredUtils esri/geometry/normalizeUtils esri/tasks/Task esri/tasks/FeatureSet".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d){f=f(b,{declaredClass:"esri.tasks.QueryTask",_eventMap:{complete:["featureSet"],"execute-for-count-complete":["count"],"execute-for-ids-complete":["objectIds"],"execute-relationship-query-complete":["featureSets"]},constructor:function(a,b){this._handler=m.hitch(this,this._handler);this._relationshipQueryHandler=m.hitch(this,this._relationshipQueryHandler);this._executeForIdsHandler=m.hitch(this,this._executeForIdsHandler);this._countHandler=m.hitch(this,this._countHandler);
this._extentHandler=m.hitch(this,this._extentHandler);this.source=b&&b.source;this.gdbVersion=b&&b.gdbVersion;this.registerConnectEvents()},__msigns:[{n:"execute",c:4,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForIds",c:3,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForCount",c:3,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForExtent",c:3,a:[{i:0,p:["geometry"]}],e:2}],onComplete:function(){},onExecuteRelationshipQueryComplete:function(){},onExecuteForIdsComplete:function(){},onExecuteForCountComplete:function(){},
onExecuteForExtentComplete:function(){},execute:function(a,b,d,c,g){var f=g.assembly;a=this._encode(m.mixin({},this._url.query,{f:"json"},a.toJson(f&&f[0])));var h=this._handler,k=this._errorHandler;this.source&&(f={source:this.source.toJson()},a.layer=l.toJson(f));this.gdbVersion&&(a.gdbVersion=this.gdbVersion);return e({url:this._url.path+"/query",content:a,callbackParamName:"callback",load:function(a,c){h(a,c,b,d,g.dfd)},error:function(a){k(a,d,g.dfd)},callbackSuffix:c},this.requestOptions)},executeRelationshipQuery:function(a,
b,d){a=this._encode(m.mixin({},this._url.query,{f:"json"},a.toJson()));var g=this._relationshipQueryHandler,f=this._errorHandler;this.gdbVersion&&(a.gdbVersion=this.gdbVersion);var h=new q(c._dfdCanceller);h._pendingDfd=e({url:this._url.path+"/queryRelatedRecords",content:a,callbackParamName:"callback",load:function(a,c){g(a,c,b,d,h)},error:function(a){f(a,d,h)}},this.requestOptions);return h},executeForIds:function(a,b,d,c){var g=c.assembly;a=this._encode(m.mixin({},this._url.query,{f:"json",returnIdsOnly:!0},
a.toJson(g&&g[0])));var f=this._executeForIdsHandler,h=this._errorHandler;this.source&&(g={source:this.source.toJson()},a.layer=l.toJson(g));this.gdbVersion&&(a.gdbVersion=this.gdbVersion);return e({url:this._url.path+"/query",content:a,callbackParamName:"callback",load:function(a,e){f(a,e,b,d,c.dfd)},error:function(a){h(a,d,c.dfd)}},this.requestOptions)},executeForCount:function(a,b,d,c){var g=c.assembly;a=this._encode(m.mixin({},this._url.query,{f:"json",returnIdsOnly:!0,returnCountOnly:!0},a.toJson(g&&
g[0])));var f=this._countHandler,h=this._errorHandler;this.source&&(g={source:this.source.toJson()},a.layer=l.toJson(g));this.gdbVersion&&(a.gdbVersion=this.gdbVersion);return e({url:this._url.path+"/query",content:a,callbackParamName:"callback",load:function(a,e){f(a,e,b,d,c.dfd)},error:function(a){h(a,d,c.dfd)}},this.requestOptions)},executeForExtent:function(a,b,d,c){var g=c.assembly;a=this._encode(m.mixin({},this._url.query,{f:"json",returnExtentOnly:!0,returnCountOnly:!0},a.toJson(g&&g[0])));
var f=this._extentHandler,h=this._errorHandler;this.source&&(g={source:this.source.toJson()},a.layer=l.toJson(g));this.gdbVersion&&(a.gdbVersion=this.gdbVersion);return e({url:this._url.path+"/query",content:a,callbackParamName:"callback",load:function(a,e){f(a,e,b,d,c.dfd)},error:function(a){h(a,d,c.dfd)}},this.requestOptions)},_handler:function(a,b,c,e,g){try{var f=new d(a);this._successHandler([f],"onComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},_relationshipQueryHandler:function(a,b,c,e,
g){try{var f=a.geometryType,h=a.spatialReference,l={};k.forEach(a.relatedRecordGroups,function(a){var b={};b.geometryType=f;b.spatialReference=h;b.features=a.relatedRecords;b=new d(b);l[a.objectId]=b});this._successHandler([l],"onExecuteRelationshipQueryComplete",c,g)}catch(q){this._errorHandler(q,e,g)}},_executeForIdsHandler:function(a,b,d,c,e){try{this._successHandler([a.objectIds],"onExecuteForIdsComplete",d,e)}catch(g){this._errorHandler(g,c,e)}},_countHandler:function(a,b,d,c,e){try{var g,f=
a.features,h=a.objectIds;if(h)g=h.length;else{if(f)throw Error("Unable to perform query. Please check your parameters.");g=a.count}this._successHandler([g],"onExecuteForCountComplete",d,e)}catch(k){this._errorHandler(k,c,e)}},_extentHandler:function(a,b,d,c,e){try{this._successHandler([a],"onExecuteForExtentComplete",d,e)}catch(g){this._errorHandler(g,c,e)}}});a._createWrappers(f);h("extend-esri")&&m.setObject("tasks.QueryTask",f,g);return f})},"esri/geometry/normalizeUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/has esri/kernel esri/config esri/deferredUtils esri/geometry/Polyline esri/geometry/Polygon esri/geometry/webMercatorUtils esri/geometry/jsonUtils".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b){function d(a,b){return Math.ceil((a-b)/(2*b))}function n(a,b){var d=a.paths||a.rings,c,e,g=d.length,f;for(c=0;c<g;c++){f=d[c].length;for(e=0;e<f;e++){var h=a.getPoint(c,e);a.setPoint(c,e,h.offset(b,0))}}return a}function r(a,b){if(!(a instanceof e||a instanceof c))throw console.error("_straightLineDensify: the input geometry is neither polyline nor polygon"),Error("_straightLineDensify: the input geometry is neither polyline nor polygon");var d=a instanceof e,g=[],
h;f.forEach(d?a.paths:a.rings,function(a){g.push(h=[]);h.push([a[0][0],a[0][1]]);var d,c,e,f,n,k,l,q,r,m,w,s;for(n=0;n<a.length-1;n++){d=a[n][0];c=a[n][1];e=a[n+1][0];f=a[n+1][1];l=Math.sqrt((e-d)*(e-d)+(f-c)*(f-c));q=(f-c)/l;r=(e-d)/l;m=l/b;if(1<m){for(k=1;k<=m-1;k++)s=k*b,w=r*s+d,s=q*s+c,h.push([w,s]);k=(l+Math.floor(m-1)*b)/2;w=r*k+d;s=q*k+c;h.push([w,s])}h.push([e,f])}});return d?new e({paths:g,spatialReference:a.spatialReference}):new c({rings:g,spatialReference:a.spatialReference})}function t(b,
d,c){d&&(b=r(b,1E6),b=a.webMercatorToGeographic(b,!0));c&&(b=n(b,c));return b}function s(a,b,c){var e=a.x||a[0],g;e>b?(g=d(e,b),a.x?a=a.offset(g*-2*b,0):a[0]=e+g*-2*b):e<c&&(g=d(e,c),a.x?a=a.offset(g*-2*c,0):a[0]=e+g*-2*c);return a}function x(a,b){var c=-1;f.forEach(b.cutIndexes,function(e,g){var h=b.geometries[g];f.forEach(h.rings||h.paths,function(a,b){f.some(a,function(c){if(!(180>c[0])){c=0;var e,g=a.length,f;for(e=0;e<g;e++)f=a[e][0],c=f>c?f:c;c=-360*d(c,180);g=a.length;for(e=0;e<g;e++)f=h.getPoint(b,
e),h.setPoint(b,e,f.offset(c,0))}return!0})});e===c?h.rings?f.forEach(h.rings,function(b,d){a[e]=a[e].addRing(b)}):f.forEach(h.paths,function(b,d){a[e]=a[e].addPath(b)}):(c=e,a[e]=h)});return a}function u(g,h,l,q){var r=new k;r.addCallbacks(l,q);var m=[],w=[],u,D,z,y,H,I,N,X,T=0;f.forEach(g,function(a){if(a)if(u||(u=a.spatialReference,D=u._getInfo(),y=(z=u._isWebMercator())?2.0037508342788905E7:180,H=z?-2.0037508342788905E7:-180,I=z?102100:4326,N=new e({paths:[[[y,H],[y,y]]],spatialReference:{wkid:I}}),
X=new e({paths:[[[H,H],[H,y]]],spatialReference:{wkid:I}})),D){var g=b.fromJson(a.toJson()),h=a.getExtent();"point"===a.type?m.push(s(g,y,H)):"multipoint"===a.type?(g.points=f.map(g.points,function(a){return s(a,y,H)}),m.push(g)):"extent"===a.type?(g=h._normalize(null,null,D),m.push(g.rings?new c(g):g)):(a=d(h.xmin,H)*2*y,g=0===a?g:n(g,a),h=h.offset(a,0),h.intersects(N)&&h.xmax!==y?(T=h.xmax>T?h.xmax:T,g=t(g,z),w.push(g),m.push("cut")):h.intersects(X)&&h.xmin!==H?(T=h.xmax*2*y>T?h.xmax*2*y:T,g=t(g,
z,360),w.push(g),m.push("cut")):m.push(g))}else m.push(a);else m.push(a)});l=new e;q=d(T,y);for(var R=-90,U=q;0<q;){var V=-180+360*q;l.addPath([[V,R],[V,-1*R]]);R*=-1;q--}0<w.length&&0<U?h?h.cut(w,l,function(b){w=x(w,b);var d=[];f.forEach(m,function(b,c){if("cut"===b){var e=w.shift();g[c].rings&&1<g[c].rings.length&&e.rings.length>=g[c].rings.length?(m[c]="simplify",d.push(e)):m[c]=!0===z?a.geographicToWebMercator(e):e}});0<d.length?h.simplify(d,function(b){f.forEach(m,function(d,c){"simplify"===
d&&(m[c]=!0===z?a.geographicToWebMercator(b.shift()):b.shift())});r.callback(m)},function(a){r.errback(a)}):r.callback(m)},function(a){r.errback(a)}):r.errback(Error("esri.geometry.normalizeCentralMeridian: 'geometryService' argument is missing.")):(f.forEach(m,function(b,d){if("cut"===b){var c=w.shift();m[d]=!0===z?a.geographicToWebMercator(c):c}}),r.callback(m));return r}function z(a,b,d,c){var e=!1,g;m.isObject(a)&&a&&(m.isArray(a)?a.length&&((g=a[0]&&a[0].declaredClass)&&-1!==g.indexOf("Graphic")?
(a=f.map(a,function(a){return a.geometry}),e=a.length?!0:!1):g&&-1!==g.indexOf("esri.geometry.")&&(e=!0)):(g=a.declaredClass)&&-1!==g.indexOf("FeatureSet")?(a=f.map(a.features||[],function(a){return a.geometry}),e=a.length?!0:!1):g&&-1!==g.indexOf("esri.geometry.")&&(e=!0));e&&b.push({index:d,property:c,value:a})}function y(a,b){var d=[];f.forEach(b,function(b){var c=b.i,e=a[c];b=b.p;var g;if(m.isObject(e)&&e)if(b)if("*"===b[0])for(g in e)e.hasOwnProperty(g)&&z(e[g],d,c,g);else f.forEach(b,function(a){z(m.getObject(a,
!1,e),d,c,a)});else z(e,d,c)});return d}function w(a,b){var d=0,c={};f.forEach(b,function(b){var e=b.index,g=b.property,f=b.value,h=f.length||1,n=a.slice(d,d+h);m.isArray(f)||(n=n[0]);d+=h;delete b.value;g?(c[e]=c[e]||{},c[e][g]=n):c[e]=n});return c}var D={normalizeCentralMeridian:u,_foldCutResults:x,_prepareGeometryForCut:t,_offsetMagnitude:d,_pointNormalization:s,_updatePolyGeometry:n,_straightLineDensify:r,_createWrappers:function(a){var b=m.isObject(a)?a.prototype:m.getObject(a+".prototype");
f.forEach(b.__msigns,function(a){var d=b[a.n];b[a.n]=function(){var b=this,c=[],e,n=new k(g._dfdCanceller);a.f&&g._fixDfd(n);for(e=0;e<a.c;e++)c[e]=arguments[e];var l={dfd:n};c.push(l);var q,r=[],m;b.normalization&&!b._isTable&&(q=y(c,a.a),f.forEach(q,function(a){r=r.concat(a.value)}),r.length&&(m=u(r,h.defaults.geometryService)));m?(n._pendingDfd=m,m.addCallbacks(function(a){n.canceled||(l.assembly=w(a,q),n._pendingDfd=d.apply(b,c))},function(d){var e=b.declaredClass;e&&-1!==e.indexOf("FeatureLayer")?
b._resolve([d],null,c[a.e],n,!0):b._errorHandler(d,c[a.e],n)})):n._pendingDfd=d.apply(b,c);return n}})},_disassemble:y,_addToBucket:z,_reassemble:w};q("extend-esri")&&m.mixin(m.getObject("geometry",!0,l),D);return D})},"esri/tasks/Task":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has esri/kernel esri/deferredUtils esri/urlUtils esri/Evented".split(" "),function(f,m,k,q,l,h,g,e){f=f(e,{declaredClass:"esri.tasks._Task",_eventMap:{error:["error"],complete:["result"]},constructor:function(c,
a){c&&m.isString(c)&&(this._url=g.urlToObject(this.url=c));a&&a.requestOptions&&(this.requestOptions=a.requestOptions);this.normalization=!0;this._errorHandler=m.hitch(this,this._errorHandler);this.registerConnectEvents()},_useSSL:function(){var c=this._url,a=/^http:/i;this.url&&(this.url=this.url.replace(a,"https:"));c&&c.path&&(c.path=c.path.replace(a,"https:"))},_encode:function(c,a,b){var d,e,g={},f,h;for(f in c)if("declaredClass"!==f&&(d=c[f],e=typeof d,null!==d&&void 0!==d&&"function"!==e))if(m.isArray(d)){g[f]=
[];h=d.length;for(e=0;e<h;e++)g[f][e]=this._encode(d[e])}else"object"===e?d.toJson&&(e=d.toJson(b&&b[f]),"esri.tasks.FeatureSet"===d.declaredClass&&e.spatialReference&&(e.sr=e.spatialReference,delete e.spatialReference),g[f]=a?e:k.toJson(e)):g[f]=d;return g},_successHandler:function(c,a,b,d){a&&this[a].apply(this,c);b&&b.apply(null,c);d&&h._resDfd(d,c)},_errorHandler:function(c,a,b){this.onError(c);a&&a(c);b&&b.errback(c)},setNormalization:function(c){this.normalization=c},onError:function(){}});
q("extend-esri")&&(l.Task=f);return f})},"esri/tasks/FeatureSet":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/lang esri/graphic esri/SpatialReference esri/graphicsUtils esri/geometry/jsonUtils esri/symbols/jsonUtils".split(" "),function(f,m,k,q,l,h,g,e,c,a,b){f=f(null,{declaredClass:"esri.tasks.FeatureSet",constructor:function(d){if(d){m.mixin(this,d);var c=this.features,f=d.spatialReference,h=a.getGeometryType(d.geometryType),f=this.spatialReference=
new e(f);this.geometryType=d.geometryType;d.fields&&(this.fields=d.fields);k.forEach(c,function(a,d){var e=a.geometry&&a.geometry.spatialReference;c[d]=new g(h&&a.geometry?new h(a.geometry):null,a.symbol&&b.fromJson(a.symbol),a.attributes);c[d].geometry&&!e&&c[d].geometry.setSpatialReference(f)})}else this.features=[]},displayFieldName:null,geometryType:null,spatialReference:null,fieldAliases:null,toJson:function(b){var e={};this.displayFieldName&&(e.displayFieldName=this.displayFieldName);this.fields&&
(e.fields=this.fields);this.spatialReference?e.spatialReference=this.spatialReference.toJson():this.features[0]&&this.features[0].geometry&&(e.spatialReference=this.features[0].geometry.spatialReference.toJson());this.features[0]&&(this.features[0].geometry&&(e.geometryType=a.getJsonType(this.features[0].geometry)),e.features=c._encodeGraphics(this.features,b));e.exceededTransferLimit=this.exceededTransferLimit;return h.fixJson(e)}});q("extend-esri")&&m.setObject("tasks.FeatureSet",f,l);return f})},
"esri/graphicsUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","esri/kernel","esri/geometry/Extent"],function(f,m,k,q,l){var h={graphicsExtent:function(g){var e=g[0].geometry,c=e.getExtent(),a,b,d=g.length;null===c&&(c=new l(e.x,e.y,e.x,e.y,e.spatialReference));for(b=1;b<d;b++)a=(e=g[b].geometry).getExtent(),null===a&&(a=new l(e.x,e.y,e.x,e.y,e.spatialReference)),c=c.union(a);return 0>=c.getWidth()&&0>=c.getHeight()?null:c},getGeometries:function(g){return m.map(g,function(e){return e.geometry})},
_encodeGraphics:function(g,e){var c=[],a,b,d;m.forEach(g,function(g,f){a=g.toJson();b={};a.geometry&&(d=e&&e[f],b.geometry=d&&d.toJson()||a.geometry);a.attributes&&(b.attributes=a.attributes);c[f]=b});return c}};k("extend-esri")&&f.mixin(q,h);return h})},"esri/tasks/query":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has esri/kernel esri/geometry/jsonUtils esri/tasks/SpatialRelationship dojo/has!extend-esri?esri/tasks/QueryTask dojo/has!extend-esri?esri/tasks/RelationshipQuery dojo/has!extend-esri?esri/tasks/StatisticDefinition".split(" "),
function(f,m,k,q,l,h,g,e){var c=f(null,{declaredClass:"esri.tasks.Query",constructor:function(){this.spatialRelationship=c.SPATIAL_REL_INTERSECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:!1,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,distance:null,units:null,resultOffset:null,resultRecordCount:null,_units:{meters:"esriSRUnit_Meter",kilometers:"esriSRUnit_Kilometer",
feet:"esriSRUnit_Foot",miles:"esriSRUnit_StatuteMile","nautical-miles":"esriSRUnit_NauticalMile","us-nautical-miles":"esriSRUnit_USNauticalMile"},toJson:function(a){var b={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},d=a&&a.geometry||this.geometry,e=this.objectIds,f=this.outFields,h=this.outSpatialReference,l=this.groupByFieldsForStatistics,m=this.orderByFields,
u=this.outStatistics;a=this.distance;d&&(b.geometry=d,b.geometryType=g.getJsonType(d),b.inSR=d.spatialReference.wkid||q.toJson(d.spatialReference.toJson()));e&&(b.objectIds=e.join(","));f&&(b.outFields=f.join(","));l&&(b.groupByFieldsForStatistics=l.join(","));m&&(b.orderByFields=m.join(","));if(u){var z=[];k.forEach(u,function(a,b){z.push(a.toJson())});b.outStatistics=q.toJson(z)}null!==h?b.outSR=h.wkid||q.toJson(h.toJson()):d&&(b.outSR=d.spatialReference.wkid||q.toJson(d.spatialReference.toJson()));
d=this.timeExtent;b.time=d?d.toJson().join(","):null;if((d=this.relationParam)&&this.spatialRelationship===c.SPATIAL_REL_RELATION)b.relationParam=d;a&&(b.distance=this.distance,this.hasOwnProperty("units")?b.units=this._units[this.units]||this._units.meters:(console.warn("esri/tasks/query::no distance unit provided, defaulting to meters"),b.units=this._units.meters));this.hasOwnProperty("start")&&(b.resultOffset=this.start,b.resultRecordCount=10,""===b.where&&(b.where="1\x3d1"));this.hasOwnProperty("num")&&
(b.resultRecordCount=this.num);b.pixelSize=this.pixelSize?q.toJson(this.pixelSize.toJson()):null;b._ts=this._ts;return b}});m.mixin(c,e);l("extend-esri")&&m.setObject("tasks.Query",c,h);return c})},"esri/tasks/SpatialRelationship":function(){define(["dojo/_base/lang","dojo/has","esri/kernel"],function(f,m,k){var q={SPATIAL_REL_INTERSECTS:"esriSpatialRelIntersects",SPATIAL_REL_CONTAINS:"esriSpatialRelContains",SPATIAL_REL_CROSSES:"esriSpatialRelCrosses",SPATIAL_REL_ENVELOPEINTERSECTS:"esriSpatialRelEnvelopeIntersects",
SPATIAL_REL_INDEXINTERSECTS:"esriSpatialRelIndexIntersects",SPATIAL_REL_OVERLAPS:"esriSpatialRelOverlaps",SPATIAL_REL_TOUCHES:"esriSpatialRelTouches",SPATIAL_REL_WITHIN:"esriSpatialRelWithin",SPATIAL_REL_RELATION:"esriSpatialRelRelation"};m("extend-esri")&&f.setObject("tasks._SpatialRelationship",q,k);return q})},"esri/tasks/StatisticDefinition":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(f,m,k,q){f=f(null,{declaredClass:"esri.tasks.StatisticDefinition",
toJson:function(){return{statisticType:this.statisticType,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount}}});k("extend-esri")&&m.setObject("tasks.StatisticDefinition",f,q);return f})},"esri/layers/Field":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/layers/RangeDomain esri/layers/CodedValueDomain".split(" "),function(f,m,
k,q,l,h){f=f(null,{declaredClass:"esri.layers.Field",constructor:function(g){if(g&&m.isObject(g)&&(this.name=g.name,this.type=g.type,this.alias=g.alias,this.length=g.length,this.editable=g.editable,this.nullable=g.nullable,(g=g.domain)&&m.isObject(g)))switch(g.type){case "range":this.domain=new l(g);break;case "codedValue":this.domain=new h(g)}}});k("extend-esri")&&m.setObject("layers.Field",f,q);return f})},"esri/layers/RangeDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/lang esri/layers/Domain".split(" "),
function(f,m,k,q,l,h){f=f([h],{declaredClass:"esri.layers.RangeDomain",constructor:function(g){g&&m.isObject(g)&&(this.minValue=g.range[0],this.maxValue=g.range[1])},toJson:function(){var g=this.inherited(arguments);g.range=[this.minValue,this.maxValue];return l.fixJson(g)}});k("extend-esri")&&m.setObject("layers.RangeDomain",f,q);return f})},"esri/layers/Domain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(f,m,k,q,l){f=f(null,{declaredClass:"esri.layers.Domain",
constructor:function(f){f&&m.isObject(f)&&(this.name=f.name,this.type=f.type)},toJson:function(){return l.fixJson({name:this.name,type:this.type})}});k("extend-esri")&&m.setObject("layers.Domain",f,q);return f})},"esri/layers/CodedValueDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/lang esri/layers/Domain".split(" "),function(f,m,k,q,l,h){f=f([h],{declaredClass:"esri.layers.CodedValueDomain",constructor:function(g){g&&m.isObject(g)&&(this.codedValues=g.codedValues)},
toJson:function(){var g=this.inherited(arguments);g.codedValues=m.clone(this.codedValues);return l.fixJson(g)}});k("extend-esri")&&m.setObject("layers.CodedValueDomain",f,q);return f})},"esri/layers/FeatureType":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/lang esri/symbols/jsonUtils esri/layers/RangeDomain esri/layers/CodedValueDomain esri/layers/InheritedDomain esri/layers/FeatureTemplate".split(" "),function(f,m,k,q,l,h,g,e,c,a,b){f=f(null,{declaredClass:"esri.layers.FeatureType",
constructor:function(d){if(d&&m.isObject(d)){this.id=d.id;this.name=d.name;var f=d.symbol;f&&(this.symbol=g.fromJson(f));var f=d.domains,h,k=this.domains={};for(h in f)if(f.hasOwnProperty(h)){var l=f[h];switch(l.type){case "range":k[h]=new e(l);break;case "codedValue":k[h]=new c(l);break;case "inherited":k[h]=new a(l)}}if(h=d.templates){f=this.templates=[];for(d=0;d<h.length;d++)f.push(new b(h[d]))}}},toJson:function(){var a={id:this.id,name:this.name,symbol:this.symbol&&this.symbol.toJson()},b,c=
this.domains,e=this.templates,g=h.fixJson;if(c){var f=a.domains={};for(b in c)c.hasOwnProperty(b)&&(f[b]=c[b]&&c[b].toJson());g(f)}e&&(a.templates=k.map(e,function(a){return a.toJson()}));return g(a)}});q("extend-esri")&&m.setObject("layers.FeatureType",f,l);return f})},"esri/layers/InheritedDomain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/layers/Domain"],function(f,m,k,q,l){f=f([l],{declaredClass:"esri.layers.InheritedDomain"});k("extend-esri")&&m.setObject("layers.InheritedDomain",
f,q);return f})},"esri/layers/FeatureTemplate":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/lang esri/graphic".split(" "),function(f,m,k,q,l,h){f=f(null,{declaredClass:"esri.layers.FeatureTemplate",constructor:function(g){g&&m.isObject(g)&&(this.name=g.name,this.description=g.description,this.drawingTool=g.drawingTool,g=g.prototype,this.prototype=new h(g.geometry,null,g.attributes))},toJson:function(){return l.fixJson({name:this.name,description:this.description,
drawingTool:this.drawingTool,prototype:this.prototype&&this.prototype.toJson()})}});m.mixin(f,{TOOL_AUTO_COMPLETE_POLYGON:"esriFeatureEditToolAutoCompletePolygon",TOOL_CIRCLE:"esriFeatureEditToolCircle",TOOL_ELLIPSE:"esriFeatureEditToolEllipse",TOOL_FREEHAND:"esriFeatureEditToolFreehand",TOOL_LINE:"esriFeatureEditToolLine",TOOL_NONE:"esriFeatureEditToolNone",TOOL_POINT:"esriFeatureEditToolPoint",TOOL_POLYGON:"esriFeatureEditToolPolygon",TOOL_RECTANGLE:"esriFeatureEditToolRectangle",TOOL_ARROW:"esriFeatureEditToolArrow",
TOOL_TRIANGLE:"esriFeatureEditToolTriangle",TOOL_LEFT_ARROW:"esriFeatureEditToolLeftArrow",TOOL_RIGHT_ARROW:"esriFeatureEditToolRightArrow",TOOL_UP_ARROW:"esriFeatureEditToolUpArrow",TOOL_DOWN_ARROW:"esriFeatureEditToolDownArrow"});k("extend-esri")&&m.setObject("layers.FeatureTemplate",f,q);return f})},"esri/layers/FeatureEditResult":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(f,m,k,q){f=f(null,{declaredClass:"esri.layers.FeatureEditResult",constructor:function(f){f&&
m.isObject(f)&&(this.objectId=f.objectId,this.success=f.success,f.success||(f=f.error,this.error=Error(),this.error.code=f.code,this.error.message=f.description))}});k("extend-esri")&&m.setObject("layers.FeatureEditResult",f,q);return f})},"esri/layers/LabelClass":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/lang esri/symbols/TextSymbol".split(" "),function(f,m,k,q,l,h){f=f(null,{declaredClass:"esri.layers.LabelClass",labelPlacement:null,labelExpression:null,useCodedValues:null,
symbol:null,maxScale:0,minScale:0,where:null,_labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter","below-left":"esriServerPointLabelPlacementBelowLeft","below-right":"esriServerPointLabelPlacementBelowRight","center-center":"esriServerPointLabelPlacementCenterCenter","center-left":"esriServerPointLabelPlacementCenterLeft",
"center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd","below-after":"esriServerLinePlacementBelowAfter","below-along":"esriServerLinePlacementBelowAlong","below-before":"esriServerLinePlacementBelowBefore","below-start":"esriServerLinePlacementBelowStart",
"below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd","always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},constructor:function(g){g&&(m.mixin(this,g),this.labelPlacement=l.valueOf(this._labelPlacementLookup,g.labelPlacement),g.symbol&&(this.symbol=
new h(g.symbol)))},toJson:function(){var g={};g.labelExpression=this.labelExpression;g.useCodedValues=this.useCodedValues;g.maxScale=this.maxScale;g.minScale=this.minScale;g.where=this.where;this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)?g.labelPlacement=this._labelPlacementLookup[this.labelPlacement]:g.labelPlacement=this.labelPlacement;this.symbol&&(g.symbol=this.symbol.toJson());return l.fixJson(g)}});k("extend-esri")&&m.setObject("layers.LabelClass",f,q);return f})},"esri/layers/SnapshotMode":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/SpatialReference esri/tasks/query esri/layers/RenderMode".split(" "),
function(f,m,k,q,l,h,g){f=f([g],{declaredClass:"esri.layers._SnapshotMode",constructor:function(e){this.featureLayer=e;this.pagination=e.queryPagination;this._featureMap={};this._drawFeatures=m.hitch(this,this._drawFeatures);this._queryErrorHandler=m.hitch(this,this._queryErrorHandler)},startup:function(){this.pagination=this.pagination&&null!=this.featureLayer.maxRecordCount;this.featureLayer._collection?this._applyTimeFilter():this._fetchAll()},propertyChangeHandler:function(e){this._init&&(e?this.featureLayer._collection||
this._fetchAll():this._applyTimeFilter())},drawFeature:function(e){var c=e.attributes[this.featureLayer.objectIdField];this._addFeatureIIf(c,e);this._incRefCount(c)},resume:function(){this.propertyChangeHandler(0)},refresh:function(){var e=this.featureLayer;e._collection?(e._fireUpdateStart(),e._refresh(!0),e._fireUpdateEnd()):this._fetchAll()},_getRequestId:function(e){return("_"+e.name+e.layerId+e._ulid).replace(/[^a-zA-Z0-9\_]+/g,"_")},_fetchAll:function(){var e=this.featureLayer;!e._collection&&
!e.suspended&&(e._fireUpdateStart(),this._clearIIf(),this._sendRequest())},_sendRequest:function(e){var c=this.map,a=this.featureLayer,b=a.getDefinitionExpression(),d=new h;d.outFields=a.getOutFields();d.where=b||"1\x3d1";d.returnGeometry=!0;d.outSpatialReference=new l(c.spatialReference.toJson());d.timeExtent=a.getTimeDefinition();d.maxAllowableOffset=a._maxOffset;a._ts&&(d._ts=(new Date).getTime());d.orderByFields=a.supportsAdvancedQueries?a.getOrderByFields():null;this.pagination&&(this._start=
d.start=null==e?0:e,d.num=a.maxRecordCount);var g;a._usePatch&&(g=this._getRequestId(a),this._cancelPendingRequest(null,g));a._task.execute(d,this._drawFeatures,this._queryErrorHandler,g)},_drawFeatures:function(e){this._purgeRequests();var c=e.features,a=this.featureLayer,b=a.objectIdField,d,g=c.length,f=e.exceededTransferLimit&&!a._collection,h,k;for(d=0;d<g;d++)h=c[d],k=h.attributes[b],this._addFeatureIIf(k,h),this._incRefCount(k);this._applyTimeFilter(!0);if(!this.pagination||!f)a._fireUpdateEnd(null,
e.exceededTransferLimit?{queryLimitExceeded:!0}:null);f&&(this.pagination&&this._sendRequest(this._start+a.maxRecordCount),a.onQueryLimitExceeded())},_queryErrorHandler:function(e){this._purgeRequests();var c=this.featureLayer;c._errorHandler(e);c._fireUpdateEnd(e)}});k("extend-esri")&&m.setObject("layers._SnapshotMode",f,q);return f})},"esri/layers/RenderMode":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/io/script esri/kernel".split(" "),
function(f,m,k,q,l,h,g){m=m(null,{declaredClass:"esri.layers._RenderMode",constructor:function(){this._prefix="jsonp_"+(f._scopeName||"dojo")+"IoScript"},initialize:function(e){this.map=e;this._init=!0},startup:function(){},propertyChangeHandler:function(e){},destroy:function(){this._init=!1},drawFeature:function(e){},suspend:function(){},resume:function(){},refresh:function(){},_incRefCount:function(e){(e=this._featureMap[e])&&e._count++},_decRefCount:function(e){(e=this._featureMap[e])&&e._count--},
_getFeature:function(e){return this._featureMap[e]},_addFeatureIIf:function(e,c){var a=this._featureMap,b=a[e],d=this.featureLayer;b||(a[e]=c,d._add(c),c._count=0);return b||c},_removeFeatureIIf:function(e){var c=this._featureMap[e],a=this.featureLayer;if(c){if(c._count)return;delete this._featureMap[e];a._remove(c)}return c},_clearIIf:function(){var e;e=this.featureLayer;var c=e.graphics,a=e._selectedFeatures,b=e.objectIdField;for(e=c.length-1;0<=e;e--){var d=c[e],g=d.attributes[b];g in a?d._count=
1:(d._count=0,this._removeFeatureIIf(g))}},_isPending:function(e){return h[this._prefix+e]?!0:!1},_cancelPendingRequest:function(e,c){if(e=e||h[this._prefix+c])try{e.cancel(),h._validCheck(e)}catch(a){}},_purgeRequests:function(){h._validCheck(null)},_toggleVisibility:function(e){var c=this.featureLayer,a=c.graphics,b=e?"show":"hide",d,g=a.length;e=e&&c._ager;for(d=0;d<g;d++){var f=a[d];f[b]();e&&c._repaint(f)}},_applyTimeFilter:function(e){var c=this.featureLayer;if(c.timeInfo&&!c.suspended){e||
c._fireUpdateStart();var a=c._trackManager;a&&a.clearTracks();var b=c.getTimeDefinition(),d=c._getOffsettedTE(c._mapTimeExtent);d?(d=c._getTimeOverlap(b,d))?(b=c._filterByTime(c.graphics,d.startTime,d.endTime),a&&a.addFeatures(b.match),q.forEach(b.match,function(a){var b=a._shape;a.visible||(a.show(),(b=a._shape)&&b._moveToFront());c._ager&&b&&c._repaint(a)}),q.forEach(b.noMatch,function(a){a.visible&&a.hide()})):this._toggleVisibility(!1):(a&&a.addFeatures(c.graphics),this._toggleVisibility(!0));
a&&(a.moveLatestToFront(),a.drawTracks());e||c._fireUpdateEnd()}}});l("extend-esri")&&k.setObject("layers._RenderMode",m,g);return m})},"esri/layers/OnDemandMode":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/geometry/Point esri/tasks/query esri/layers/RenderMode esri/layers/GridLayout".split(" "),function(f,m,k,q,l,h,g,e,c,a){f=f([c],{declaredClass:"esri.layers._OnDemandMode",constructor:function(a){this.featureLayer=a;this._featureMap=
{};this._queryErrorHandler=k.hitch(this,this._queryErrorHandler)},initialize:function(b){this.inherited(arguments);var d=this.featureLayer,c=d._srInfo;this._gridLayer=new a(new g(c?c.valid[0]:b.extent.xmin,b.extent.ymax,b.spatialReference),{width:d._tileWidth,height:d._tileHeight},{width:b.width,height:b.height},c);this._cellMap={};this._gridLayer.setResolution(b.extent)},startup:function(){this._ioQueue=[];this.featureLayer.suspended||(this._zoomHandler(),this._enableConnectors())},propertyChangeHandler:function(a){this._init&&
2>a&&this._zoomHandler()},destroy:function(){this._disableConnectors();this.inherited(arguments)},drawFeature:function(a){var d=this._gridLayer,c=a.geometry,e=[];if(c)for(var e=d.getCellsInExtent("point"===c.type?{xmin:c.x,ymin:c.y,xmax:c.x,ymax:c.y}:c.getExtent(),!1).cells,d=this._cellMap,g,f=a.attributes[this.featureLayer.objectIdField],h,k,l,c=0;c<e.length;c++)g=e[c],h=g.latticeID,k=g.row,l=g.col,h?g=d[h]=d[h]||g:(d[k]=d[k]||{},g=d[k][l]=d[k][l]||g),g.features=g.features||[],g.features.push(a),
this._addFeatureIIf(f,a),this._incRefCount(f)},suspend:function(){this._init&&this._disableConnectors()},resume:function(){this._init&&(this._enableConnectors(),this._zoomHandler())},refresh:function(){this._zoomHandler()},_enableConnectors:function(){var a=this.map;this._zoomConnect=m.connect(a,"onZoomEnd",this,this._zoomHandler);this._panConnect=m.connect(a,"onPanEnd",this,this._panHandler);this._resizeConnect=m.connect(a,"onResize",this,this._panHandler)},_disableConnectors:function(){m.disconnect(this._zoomConnect);
m.disconnect(this._panConnect);m.disconnect(this._resizeConnect)},_zoomHandler:function(){this._processIOQueue(!0);var a=this.featureLayer,d=this.map;a.suspended||(a._fireUpdateStart(),this._clearIIf(),(a=a._trackManager)&&a.clearTracks(),this._cellMap={},this._gridLayer.setResolution(d.extent),this._sendRequest())},_panHandler:function(a){this.featureLayer._fireUpdateStart();this._sendRequest(this.featureLayer._resized&&a)},_getRequestId:function(a,d){return("_"+a.name+a.layerId+a._ulid+"_"+d.resolution+
"_"+(d.latticeID||d.row+"_"+d.col)).replace(/[^a-zA-Z0-9\_]+/g,"_")},_sendRequest:function(a){this._exceeds=!1;var d=this.featureLayer,c=this.map;a=a||c.extent;c=this._gridLayer.getCellsInExtent(a,d.latticeTiling).cells;if(!d.isEditable())var g=this._cellMap,c=q.filter(c,function(a){if(a.lattice){if(g[a.latticeID])return!1}else if(g[a.row]&&g[a.row][a.col])return!1;return!0});var f=d.getOutFields(),h=d.getDefinitionExpression(),k=d._getOffsettedTE(d._mapTimeExtent),l=d.supportsAdvancedQueries?d.getOrderByFields():
null,m=d._usePatch,y=this._ioQueue,w,D=this,C=this._drawFeatures,B,E,A;this._pending=this._pending||0;for(w=0;w<c.length;w++){B=c[w];E=new e;E.geometry=B.extent||B.lattice;E.outFields=f;E.where=h;d.latticeTiling&&B.extent&&(E.spatialRelationship=e.SPATIAL_REL_CONTAINS);E.returnGeometry=!0;E.timeExtent=k;E.maxAllowableOffset=d._maxOffset;d._ts&&(E._ts=(new Date).getTime());E.orderByFields=l;A=null;if(m&&(A=this._getRequestId(d,B),this._isPending(A)))continue;this._pending++;y.push(d._task.execute(E,
function(){var a=B;return function(b){C.apply(D,[b,a])}}.call(this),this._queryErrorHandler,A))}this._removeOldCells(a);this._endCheck()},_drawFeatures:function(a,d){this._exceeds=this._exceeds||a.exceededTransferLimit;this._finalizeIO();var c=this.map.extent,e=d.extent,g=d.row,f=d.col,h=this.featureLayer.objectIdField,k=a.features,l=this._gridLayer,q=this._cellMap,m=d.latticeID,D=m?q[m]:q[g]&&q[g][f];if(d.resolution!=l._resolution||(m?m!==l.getLatticeID(c):!l.intersects(e,c)))D&&this._removeCell(g,
f,m);else if(D)this._updateCell(D,k);else{d.features=k;m?q[m]=d:(q[g]=q[g]||{},q[g][f]=d);e=k.length;for(c=0;c<e;c++)g=k[c],f=g.attributes[h],this._addFeatureIIf(f,g),this._incRefCount(f)}this._endCheck()},_queryErrorHandler:function(a){this._finalizeIO();this.featureLayer._errorHandler(a);this._endCheck(!0)},_finalizeIO:function(){this._purgeRequests();this._pending--},_endCheck:function(a){if(0===this._pending){this._processIOQueue();var d=this.featureLayer,c=d._trackManager;c&&(c.clearTracks(),
c.addFeatures(d.graphics),d._ager&&q.forEach(d.graphics,function(a){a._shape&&d._repaint(a)}),c.moveLatestToFront(),c.drawTracks());this.featureLayer._fireUpdateEnd(a&&Error("FeatureLayer: an error occurred while updating the layer"),this._exceeds?{queryLimitExceeded:!0}:null);if(this._exceeds)d.onQueryLimitExceeded()}},_processIOQueue:function(a){this._ioQueue=q.filter(this._ioQueue,function(a){return-1<a.fired?!1:!0});a&&q.forEach(this._ioQueue,this._cancelPendingRequest)},_removeOldCells:function(a){var d=
this._cellMap,c=this._gridLayer,e,g;for(e in d)if(d[e]){var f=d[e],h=f.latticeID,k=0,l=0;if(h)k++,h!==c.getLatticeID(a)&&(this._removeCell(null,null,h),l++);else for(g in f)f[g]&&(k++,c.intersects(f[g].extent,a)||(this._removeCell(e,g),l++));l===k&&delete d[e]}},_updateCell:function(a,d){var c=this.featureLayer,e=c.objectIdField,c=c._selectedFeatures,g,f=d.length;a.features=a.features||[];for(g=0;g<f;g++){var h=d[g],k=h.attributes[e],l=this._addFeatureIIf(k,h);l===h?(this._incRefCount(k),a.features.push(l)):
k in c||(l.setGeometry(h.geometry),l.setAttributes(h.attributes))}},_removeCell:function(a,d,c){var e=this._cellMap,g=this.featureLayer,f=g.objectIdField,h=c?e[c]:e[a]&&e[a][d];if(h){c?delete e[c]:delete e[a][d];a=h.features;for(d=0;d<a.length;d++)c=a[d].attributes[f],this._decRefCount(c),c in g._selectedFeatures||this._removeFeatureIIf(c)}}});l("extend-esri")&&k.setObject("layers._OnDemandMode",f,h);return f})},"esri/layers/GridLayout":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/SpatialReference esri/geometry/Extent esri/geometry/Polyline".split(" "),
function(f,m,k,q,l,h,g,e){f=f(null,{declaredClass:"esri.layers._GridLayout",constructor:function(c,a,b,d){this.origin=c;this.cellWidth=a.width;this.cellHeight=a.height;this.mapWidth=b.width;this.mapHeight=b.height;this.srInfo=d},setResolution:function(c){this._resolution=(c.xmax-c.xmin)/this.mapWidth;this.srInfo&&(c=Math.round(2*this.srInfo.valid[1]/this._resolution),c=Math.round(c/this.cellWidth),this._frameStats=[c,0,c-1])},getCellCoordinates:function(c){var a=this._resolution,b=this.origin;return{row:Math.floor((b.y-
c.y)/(this.cellHeight*a)),col:Math.floor((c.x-b.x)/(this.cellWidth*a))}},normalize:function(c){var a=this._frameStats;if(a){var b=a[0],d=a[1],a=a[2];c<d?(c%=b,c=c<d?c+b:c):c>a&&(c%=b)}return c},intersects:function(c,a){var b=this.srInfo;return b?k.some(a._getParts(b),function(a){return c.intersects(a.extent)}):c.intersects(a)},getCellExtent:function(c,a){var b=this._resolution,d=this.origin,e=this.cellWidth,f=this.cellHeight;return new g(a*e*b+d.x,d.y-(c+1)*f*b,(a+1)*e*b+d.x,d.y-c*f*b,new h(d.spatialReference.toJson()))},
getLatticeID:function(c){var a=this.getCellCoordinates({x:c.xmin,y:c.ymax}),b=this.getCellCoordinates({x:c.xmax,y:c.ymin});c=a.row;var d=b.row,a=this.normalize(a.col),b=this.normalize(b.col);return c+"_"+d+"_"+a+"_"+b},sorter:function(c,a){return c<a?-1:1},getCellsInExtent:function(c,a){var b=this.getCellCoordinates({x:c.xmin,y:c.ymax}),d=this.getCellCoordinates({x:c.xmax,y:c.ymin}),g=b.row,f=d.row,b=b.col,d=d.col,h=[],k,l,q,m=[],y=[],w,D,C,B=[];for(k=g;k<=f;k++)for(l=b;l<=d;l++)q=this.normalize(l),
c=this.getCellExtent(k,q),h.push({row:k,col:q,extent:c,resolution:this._resolution}),a&&(m.push(c.xmin,c.xmax),y.push(c.ymin,c.ymax));b=this.normalize(b);d=this.normalize(d);m.sort(this.sorter);y.sort(this.sorter);l=m.length;for(k=l-1;0<=k;k--)k<l-1&&m[k]===m[k+1]&&m.splice(k,1);l=y.length;for(k=l-1;0<=k;k--)k<l-1&&y[k]===y[k+1]&&y.splice(k,1);if(m.length&&y.length){q=m[0];w=m[m.length-1];D=y[0];C=y[y.length-1];l=m.length;for(k=0;k<l;k++)B.push([[m[k],C],[m[k],D]]);l=y.length;for(k=0;k<l;k++)B.push([[q,
y[k]],[w,y[k]]]);k=new e({paths:B,spatialReference:this.origin.spatialReference.toJson()});h.push({latticeID:g+"_"+f+"_"+b+"_"+d,lattice:k,resolution:this._resolution})}return{minRow:g,maxRow:f,minCol:b,maxCol:d,cells:h}}});q("extend-esri")&&m.setObject("layers._GridLayout",f,l);return f})},"esri/layers/SelectionMode":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/layers/RenderMode"],function(f,m,k,q,l){f=f([l],{declaredClass:"esri.layers._SelectionMode",
constructor:function(f){this.featureLayer=f;this._featureMap={}},propertyChangeHandler:function(f){this._init&&0===f&&this._applyTimeFilter()},resume:function(){this.propertyChangeHandler(0)}});k("extend-esri")&&m.setObject("layers._SelectionMode",f,q);return f})},"esri/layers/TrackManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/graphic esri/geometry/Polyline esri/layers/GraphicsLayer".split(" "),function(f,m,k,q,l,h,g,e){f=f(null,{declaredClass:"esri.layers._TrackManager",
constructor:function(c){this.layer=c;this.trackMap={}},initialize:function(c){this.map=c;var a=this.layer,b=a._getRenderer(),b=b&&b.trackRenderer;if("esriGeometryPoint"===a.geometryType){var d=this.container=new e._GraphicsLayer({id:a.id+"_tracks",_child:!0});d.loaded=!0;d.onLoad(d);d._setMap(c,a._div);d.setRenderer(b)}},addFeatures:function(c){var a,b=this.trackMap,d=this.layer,e=d._trackIdField,g,f;k.forEach(c,function(d){g=d.attributes;a=g[e];f=b[a]=b[a]||[];f.push(d)});var h=d._startTimeField,
l=d.objectIdField;c=function(a,b){var d=a.attributes[h],c=b.attributes[h];return d===c?a.attributes[l]<b.attributes[l]?-1:1:d<c?-1:1};for(a in b)b[a].sort(c)},drawTracks:function(){var c=this.container;if(c){var a=this.trackMap,b=this.map.spatialReference,d,e,f,k,l,q=this.layer._trackIdField;for(d in a){e=a[d];f=[];for(k=e.length-1;0<=k;k--)(l=e[k].geometry)&&f.push([l.x,l.y]);e={};e[q]=d;0<f.length&&c.add(new h(new g({paths:[f],spatialReference:b}),null,e))}}},moveLatestToFront:function(){k.forEach(this.getLatestObservations(),
function(c){var a=c._shape;a&&a._moveToFront();this._repaint(c,null,!0)},this.layer)},getLatestObservations:function(){var c=[],a=this.layer._getRenderer(),b=this.trackMap,d;if(!a.latestObservationRenderer)return c;for(d in b)a=b[d],c.push(a[a.length-1]);return c},clearTracks:function(){var c=this.getLatestObservations();this.trackMap={};var a=this.container;a&&a.clear();k.forEach(c,function(a){this._repaint(a,null,!0)},this.layer)},isLatestObservation:function(c){var a=this.trackMap[c.attributes[this.layer._trackIdField]];
return a?a[a.length-1]===c:!1},destroy:function(){var c=this.container;c&&(c.clear(),c._unsetMap(this.map,this.layer._div));this.map=this.layer=this.trackMap=this.container=null}});q("extend-esri")&&m.setObject("layers._TrackManager",f,l);return f})},"esri/tasks/GeometryService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/has esri/kernel esri/request esri/deferredUtils esri/tasks/Task esri/geometry/Extent esri/geometry/Polyline esri/geometry/Polygon esri/geometry/Multipoint esri/geometry/jsonUtils".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t){f=f(a,{declaredClass:"esri.tasks.GeometryService",_eventMap:{"areas-and-lengths-complete":["result"],"auto-complete-complete":["geometries"],"buffer-complete":["geometries"],"convex-hull-complete":["geometry"],"cut-complete":["result"],"difference-complete":["geometries"],"distance-complete":["distance"],"generalize-complete":["geometries"],"intersect-complete":["geometries"],"label-points-complete":["geometries"],"lengths-complete":["result"],"offset-complete":["geometries"],
"project-complete":["geometries"],"relation-complete":["relations"],"reshape-complete":["geometry"],"simplify-complete":["geometries"],"trim-extend-complete":["geometries"],"union-complete":["geometry"]},constructor:function(a){a=m.hitch;this._projectHandler=a(this,this._projectHandler);this._simplifyHandler=a(this,this._simplifyHandler);this._bufferHandler=a(this,this._bufferHandler);this._areasAndLengthsHandler=a(this,this._areasAndLengthsHandler);this._lengthsHandler=a(this,this._lengthsHandler);
this._labelPointsHandler=a(this,this._labelPointsHandler);this._relationHandler=a(this,this._relationHandler);this._convexHullHandler=a(this,this._convexHullHandler);this._unionHandler=a(this,this._unionHandler);this._autoCompleteHandler=a(this,this._autoCompleteHandler);this._reshapeHandler=a(this,this._reshapeHandler);this._cutHandler=a(this,this._cutHandler);this._intersectHandler=a(this,this._intersectHandler);this._differenceHandler=a(this,this._differenceHandler);this._trimExtendHandler=a(this,
this._trimExtendHandler);this._densifyHandler=a(this,this._densifyHandler);this._generalizeHandler=a(this,this._densifyHandler);this._offsetHandler=a(this,this._offsetHandler);this._distanceHandler=a(this,this._distanceHandler);this.registerConnectEvents()},_encodeGeometries:function(a){var b=[],d,c=a.length;for(d=0;d<c;d++)b.push(a[d].toJson());return{geometryType:t.getJsonType(a[0]),geometries:b}},_decodeGeometries:function(a,b,d){var c=t.getGeometryType(b);a=a.geometries;var e=[],g={spatialReference:d.toJson()},
f=m.mixin;k.forEach(a,function(a,b){e[b]=new c(f(a,g))});return e},_toProjectGeometry:function(a){var c=a.spatialReference.toJson();return a instanceof b?new n({rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]],spatialReference:c}):new d({paths:[[].concat(a.points)],spatialReference:c})},_fromProjectedGeometry:function(a,d,c){return"esriGeometryEnvelope"===d?(a=a.rings[0],new b(a[0][0],a[0][1],a[2][0],a[2][1],c)):new r({points:a.paths[0],spatialReference:c.toJson()})},
project:function(a,b,d,g){var f=m.mixin({},this._url.query,{f:"json"}),h;a.geometries?(g=d,d=b,b=a.outSR,h=a.geometries[0],f=m.mixin(f,a.toJson())):(h=a[0],f=m.mixin(f,{outSR:b.wkid||q.toJson(b.toJson()),inSR:h.spatialReference.wkid||q.toJson(h.spatialReference.toJson()),geometries:q.toJson(this._encodeGeometries(a))}));var n=t.getJsonType(h),k=this._projectHandler,r=this._errorHandler,E=new l(c._dfdCanceller);E._pendingDfd=e({url:this._url.path+"/project",content:f,callbackParamName:"callback",load:function(a,
c){k(a,c,n,b,d,g,E)},error:function(a){r(a,g,E)}});return E},_projectHandler:function(a,b,d,c,e,g,f){try{var h=this._decodeGeometries(a,d,c);this._successHandler([h],"onProjectComplete",e,f)}catch(n){this._errorHandler(n,g,f)}},onProjectComplete:function(){},simplify:function(a,b,d){var g=a[0].spatialReference,f=m.mixin({},this._url.query,{f:"json",sr:g.wkid?g.wkid:q.toJson(g.toJson()),geometries:q.toJson(this._encodeGeometries(a))}),h=t.getJsonType(a[0]),n=this._simplifyHandler,k=this._errorHandler,
r=new l(c._dfdCanceller);r._pendingDfd=e({url:this._url.path+"/simplify",content:f,callbackParamName:"callback",load:function(a,c){n(a,c,h,g,b,d,r)},error:function(a){k(a,d,r)}});return r},_simplifyHandler:function(a,b,d,c,e,g,f){try{var h=this._decodeGeometries(a,d,c);this._successHandler([h],"onSimplifyComplete",e,f)}catch(n){this._errorHandler(n,g,f)}},onSimplifyComplete:function(){},convexHull:function(a,b,d){var g=a[0].spatialReference;a=m.mixin({},this._url.query,{f:"json",sr:q.toJson(g.toJson()),
geometries:q.toJson(this._encodeGeometries(a))});var f=this._convexHullHandler,h=this._errorHandler,n=new l(c._dfdCanceller);n._pendingDfd=e({url:this._url.path+"/convexHull",content:a,callbackParamName:"callback",load:function(a,c){f(a,c,g,b,d,n)},error:function(a){h(a,d,n)}});return n},_convexHullHandler:function(a,b,d,c,e,g){try{var f=t.fromJson(a.geometry).setSpatialReference(d);this._successHandler([f],"onConvexHullComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onConvexHullComplete:function(){},
union:function(a,b,d){var g=a[0].spatialReference;a=m.mixin({},this._url.query,{f:"json",sr:q.toJson(g.toJson()),geometries:q.toJson(this._encodeGeometries(a))});var f=this._unionHandler,h=this._errorHandler,n=new l(c._dfdCanceller);n._pendingDfd=e({url:this._url.path+"/union",content:a,callbackParamName:"callback",load:function(a,c){f(a,c,g,b,d,n)},error:function(a){h(a,d,n)}});return n},_unionHandler:function(a,b,d,c,e,g){try{var f=t.fromJson(a.geometry).setSpatialReference(d);this._successHandler([f],
"onUnionComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onUnionComplete:function(){},autoComplete:function(a,b,d,g){var f=a[0].spatialReference;a=m.mixin({},this._url.query,{f:"json",sr:q.toJson(f.toJson()),polygons:q.toJson(this._encodeGeometries(a).geometries),polylines:q.toJson(this._encodeGeometries(b).geometries)});var h=this._autoCompleteHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/autoComplete",content:a,callbackParamName:"callback",load:function(a,
b){h(a,b,f,d,g,k)},error:function(a){n(a,g,k)}});return k},_autoCompleteHandler:function(a,b,d,c,e,g){try{var f=a.geometries;a=[];var h,k=f.length;for(h=0;h<k;h++)a[h]=new n({spatialReference:d,rings:f[h].rings});this._successHandler([a],"onAutoCompleteComplete",c,g)}catch(l){this._errorHandler(l,e,g)}},onAutoCompleteComplete:function(){},reshape:function(a,b,d,g){var f=a.spatialReference;a=m.mixin({},this._url.query,{f:"json",sr:q.toJson(f.toJson()),target:q.toJson({geometryType:t.getJsonType(a),
geometry:a.toJson()}),reshaper:q.toJson(b.toJson())});var h=this._reshapeHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/reshape",content:a,callbackParamName:"callback",load:function(a,b){h(a,b,f,d,g,k)},error:function(a){n(a,g,k)}});return k},_reshapeHandler:function(a,b,d,c,e,g){try{var f=t.fromJson(a.geometry).setSpatialReference(d);this._successHandler([f],"onReshapeComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onReshapeComplete:function(){},cut:function(a,
b,d,g){var f=a[0].spatialReference,h=k.map(a,function(a){return a.toJson()});a=m.mixin({},this._url.query,{f:"json",sr:q.toJson(f.toJson()),target:q.toJson({geometryType:t.getJsonType(a[0]),geometries:h}),cutter:q.toJson(b.toJson())});var n=this._cutHandler,r=this._errorHandler,B=new l(c._dfdCanceller);B._pendingDfd=e({url:this._url.path+"/cut",content:a,callbackParamName:"callback",load:function(a,b){n(a,b,f,d,g,B)},error:function(a){r(a,g,B)}});return B},_cutHandler:function(a,b,d,c,e,g){try{var f=
a.geometries,h={};h.cutIndexes=a.cutIndexes;h.geometries=[];k.forEach(f,function(a){h.geometries.push(t.fromJson(a).setSpatialReference(d))});this._successHandler([h],"onCutComplete",c,g)}catch(n){this._errorHandler(n,e,g)}},onCutComplete:function(){},intersect:function(a,b,d,g){var f=a[0].spatialReference;a=m.mixin({},this._url.query,{f:"json",sr:q.toJson(f.toJson()),geometries:q.toJson(this._encodeGeometries(a)),geometry:q.toJson({geometryType:t.getJsonType(b),geometry:b.toJson()})});var h=this._intersectHandler,
n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/intersect",content:a,callbackParamName:"callback",load:function(a,b){h(a,b,f,d,g,k)},error:function(a){n(a,g,k)}});return k},_intersectHandler:function(a,b,d,c,e,g){try{var f=[];k.forEach(a.geometries,function(a){f.push(t.fromJson(a).setSpatialReference(d))});this._successHandler([f],"onIntersectComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onIntersectComplete:function(){},difference:function(a,b,d,g){var f=
a[0].spatialReference;a=m.mixin({},this._url.query,{f:"json",sr:q.toJson(f.toJson()),geometries:q.toJson(this._encodeGeometries(a)),geometry:q.toJson({geometryType:t.getJsonType(b),geometry:b.toJson()})});var h=this._differenceHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/difference",content:a,callbackParamName:"callback",load:function(a,b){h(a,b,f,d,g,k)},error:function(a){n(a,g,k)}});return k},_differenceHandler:function(a,b,d,c,e,g){try{var f=[];k.forEach(a.geometries,
function(a){f.push(t.fromJson(a).setSpatialReference(d))});this._successHandler([f],"onDifferenceComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onDifferenceComplete:function(){},buffer:function(a,b,d){var g=m.mixin({},this._url.query,{f:"json"},a.toJson()),f=a.outSpatialReference||a.geometries[0].spatialReference,h=this._bufferHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/buffer",content:g,callbackParamName:"callback",load:function(a,c){h(a,c,f,b,
d,k)},error:function(a){n(a,d,k)}});return k},_bufferHandler:function(a,b,d,c,e,g){try{var f=a.geometries;a=[];var h,k=f.length;for(h=0;h<k;h++)a[h]=new n({spatialReference:d,rings:f[h].rings});this._successHandler([a],"onBufferComplete",c,g)}catch(l){this._errorHandler(l,e,g)}},onBufferComplete:function(){},areasAndLengths:function(a,b,d){a=m.mixin({},this._url.query,{f:"json"},a.toJson());var g=this._areasAndLengthsHandler,f=this._errorHandler,h=new l(c._dfdCanceller);h._pendingDfd=e({url:this._url.path+
"/areasAndLengths",content:a,callbackParamName:"callback",load:function(a,c){g(a,c,b,d,h)},error:function(a){f(a,d,h)}});return h},_areasAndLengthsHandler:function(a,b,d,c,e){try{this._successHandler([a],"onAreasAndLengthsComplete",d,e)}catch(g){this._errorHandler(g,c,e)}},onAreasAndLengthsComplete:function(){},lengths:function(a,b,d){a=m.mixin({},this._url.query,{f:"json"},a.toJson());var g=this._lengthsHandler,f=this._errorHandler,h=new l(c._dfdCanceller);h._pendingDfd=e({url:this._url.path+"/lengths",
content:a,callbackParamName:"callback",load:function(a,c){g(a,c,b,d,h)},error:function(a){f(a,d,h)}});return h},_lengthsHandler:function(a,b,d,c,e){try{this._successHandler([a],"onLengthsComplete",d,e)}catch(g){this._errorHandler(g,c,e)}},onLengthsComplete:function(){},labelPoints:function(a,b,d){var g=k.map(a,function(a){return a.toJson()}),f=a[0].spatialReference,g=m.mixin({},this._url.query,{f:"json",sr:f.wkid?f.wkid:q.toJson(f.toJson()),polygons:q.toJson(g)}),h=this._labelPointsHandler,n=this._errorHandler,
r=new l(c._dfdCanceller);r._pendingDfd=e({url:this._url.path+"/labelPoints",content:g,callbackParamName:"callback",load:function(c,e){h(c,e,a,f,b,d,r)},error:function(a){n(a,d,r)}});return r},_labelPointsHandler:function(a,b,d,c,e,g,f){try{var h=[];k.forEach(a.labelPoints,function(a){h.push(t.fromJson(a).setSpatialReference(c))});this._successHandler([h],"onLabelPointsComplete",e,f)}catch(n){this._errorHandler(n,g,f)}},onLabelPointsComplete:function(){},relation:function(a,b,d){a=m.mixin({},this._url.query,
{f:"json"},a.toJson());var g=this._relationHandler,f=this._errorHandler,h=new l(c._dfdCanceller);h._pendingDfd=e({url:this._url.path+"/relation",content:a,callbackParamName:"callback",load:function(a,c){g(a,c,b,d,h)},error:function(a){f(a,d,h)}});return h},_relationHandler:function(a,b,d,c,e){try{this._successHandler([a.relations],"onRelationComplete",d,e)}catch(g){this._errorHandler(g,c,e)}},onRelationComplete:function(){},trimExtend:function(a,b,d){var g=m.mixin({},this._url.query,{f:"json"},a.toJson()),
f=a.sr,h=this._trimExtendHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/trimExtend",content:g,callbackParamName:"callback",load:function(a,c){h(a,c,f,b,d,k)},error:function(a){n(a,d,k)}});return k},_trimExtendHandler:function(a,b,c,e,g,f){try{var h=a.geometries;a=[];var n,k=h.length;for(n=0;n<k;n++)a[n]=new d({spatialReference:c,paths:h[n].paths});this._successHandler([a],"onTrimExtendComplete",e,f)}catch(l){this._errorHandler(l,g,f)}},onTrimExtendComplete:function(){},
densify:function(a,b,d){var g=m.mixin({},this._url.query,{f:"json"},a.toJson()),f=a.geometries[0].spatialReference,h=this._densifyHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/densify",content:g,callbackParamName:"callback",load:function(a,c){h(a,c,f,b,d,k)},error:function(a){n(a,d,k)}});return k},_densifyHandler:function(a,b,d,c,e,g){try{var f=[];k.forEach(a.geometries,function(a){f.push(t.fromJson(a).setSpatialReference(d))});this._successHandler([f],
"onDensifyComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onDensifyComplete:function(){},generalize:function(a,b,d){var g=m.mixin({},this._url.query,{f:"json"},a.toJson()),f=a.geometries[0].spatialReference,h=this._generalizeHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/generalize",content:g,callbackParamName:"callback",load:function(a,c){h(a,c,f,b,d,k)},error:function(a){n(a,d,k)}});return k},_generalizeHandler:function(a,b,d,c,e,g){try{var f=[];
k.forEach(a.geometries,function(a){f.push(t.fromJson(a).setSpatialReference(d))});this._successHandler([f],"onGeneralizeComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onGeneralizeComplete:function(){},offset:function(a,b,d){var g=m.mixin({},this._url.query,{f:"json"},a.toJson()),f=a.geometries[0].spatialReference,h=this._offsetHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+"/offset",content:g,callbackParamName:"callback",load:function(a,c){h(a,c,f,b,
d,k)},error:function(a){n(a,d,k)}});return k},_offsetHandler:function(a,b,d,c,e,g){try{var f=[];k.forEach(a.geometries,function(a){f.push(t.fromJson(a).setSpatialReference(d))});this._successHandler([f],"onOffsetComplete",c,g)}catch(h){this._errorHandler(h,e,g)}},onOffsetComplete:function(){},distance:function(a,b,d){var g=m.mixin({},this._url.query,{f:"json"},a.toJson()),f=a.geometry1.spatialReference,h=this._distanceHandler,n=this._errorHandler,k=new l(c._dfdCanceller);k._pendingDfd=e({url:this._url.path+
"/distance",content:g,callbackParamName:"callback",load:function(a,c){h(a,c,f,b,d,k)},error:function(a){n(a,d,k)}});return k},_distanceHandler:function(a,b,d,c,e,g){try{a=a&&a.distance,this._successHandler([a],"onDistanceComplete",c,g)}catch(f){this._errorHandler(f,e,g)}},onDistanceComplete:function(){}});m.mixin(f,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,
UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,
UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,
UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",
UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});h("extend-esri")&&m.setObject("tasks.GeometryService",f,g);return f})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(f,m,k,q){var l={};m.setObject("dojo.colors",l);var h=function(e,c,a){0>a&&++a;1<a&&--a;var b=
6*a;return 1>b?e+(c-e)*b:1>2*a?c:2>3*a?e+6*(c-e)*(2/3-a):e};f.colorFromRgb=k.fromRgb=function(e,c){var a=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var b=a[2].split(/\s*,\s*/),d=b.length,a=a[1];if("rgb"==a&&3==d||"rgba"==a&&4==d)return a=b[0],"%"==a.charAt(a.length-1)?(a=q.map(b,function(a){return 2.56*parseFloat(a)}),4==d&&(a[3]=b[3]),k.fromArray(a,c)):k.fromArray(b,c);if("hsl"==a&&3==d||"hsla"==a&&4==d){var a=(parseFloat(b[0])%360+360)%360/360,g=parseFloat(b[1])/100,f=parseFloat(b[2])/
100,g=0.5>=f?f*(g+1):f+g-f*g,f=2*f-g,a=[256*h(f,g,a+1/3),256*h(f,g,a),256*h(f,g,a-1/3),1];4==d&&(a[3]=b[3]);return k.fromArray(a,c)}}return null};var g=function(e,c,a){e=Number(e);return isNaN(e)?a:e<c?c:e>a?a:e};k.prototype.sanitize=function(){this.r=Math.round(g(this.r,0,255));this.g=Math.round(g(this.g,0,255));this.b=Math.round(g(this.b,0,255));this.a=g(this.a,0,1);return this};l.makeGrey=k.makeGrey=function(e,c){return k.fromArray([e,e,e,c])};m.mixin(k.named,{aliceblue:[240,248,255],antiquewhite:[250,
235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,
183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,
220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,
211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,
209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],
rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,
205,50]});return k})},"esri/tasks/MultipartColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has esri/kernel esri/symbols/Symbol esri/tasks/ColorRamp".split(" "),function(f,m,k,q,l,h){f=f(h,{declaredClass:"esri.tasks.MultipartColorRamp",type:"multipart",constructor:function(){this.colorRamps=[]},addColorRamp:function(g){this.colorRamps.push(g)},toJson:function(){return{type:"multipart",colorRamps:k.map(this.colorRamps,function(g){return g.toJson()})}}});q("extend-esri")&&
m.setObject("tasks.MultipartColorRamp",f,l);return f})},"esri/tasks/ColorRamp":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(f,m,k,q){f=f(null,{declaredClass:"esri.tasks.ColorRamp",type:null});k("extend-esri")&&m.setObject("tasks.ColorRamp",f,q);return f})},"esri/tasks/AlgorithmicColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/has esri/kernel esri/Color esri/tasks/ColorRamp".split(" "),function(f,m,k,q,l,h){f=f(h,{declaredClass:"esri.tasks.AlgorithmicColorRamp",
type:"algorithmic",fromColor:null,toColor:null,algorithm:null,toJson:function(){var g;switch(this.algorithm.toLowerCase()){case "cie-lab":g="esriCIELabAlgorithm";break;case "hsv":g="esriHSVAlgorithm";break;case "lab-lch":g="esriLabLChAlgorithm"}g={type:"algorithmic",algorithm:g};g.fromColor=l.toJsonColor(this.fromColor);g.toColor=l.toJsonColor(this.toColor);return g}});k("extend-esri")&&m.setObject("tasks.AlgorithmicColorRamp",f,q);return f})},"dojox/widget/ColorPicker":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/connect dojo/_base/sniff dojo/_base/window dojo/_base/event dojo/dom dojo/dom-class dojo/keys dojo/fx dojo/dnd/move dijit/registry dijit/_base/focus dijit/form/_FormWidget dijit/typematic dojox/color dojo/i18n dojo/i18n!./nls/ColorPicker dojo/i18n!dojo/cldr/nls/number dojo/text!./ColorPicker/ColorPicker.html".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D,C){f.experimental("dojox.widget.ColorPicker");return m("dojox.widget.ColorPicker",x,{showRgb:!0,showHsv:!0,showHex:!0,webSafe:!0,animatePoint:!0,slideDuration:250,liveUpdate:!1,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:f.moduleUrl("dojox.widget","ColorPicker/images/underlay.png"),_hueUnderlay:f.moduleUrl("dojox.widget","ColorPicker/images/hue.png"),
_pickerPointer:f.moduleUrl("dojox.widget","ColorPicker/images/pickerPointer.png"),_huePickerPointer:f.moduleUrl("dojox.widget","ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:f.moduleUrl("dojox.widget","ColorPicker/images/hueHandleA11y.png"),templateString:C,postMixInProperties:function(){b.contains(e.body(),"dijit_a11y")&&(this._huePickerPointer=this._huePickerPointerAlly);this._uId=t.getUniqueId(this.id);k.mixin(this,y.getLocalization("dojox.widget","ColorPicker"));k.mixin(this,y.getLocalization("dojo.cldr",
"number"));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);7>g("ie")&&(this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this._underlay+"', sizingMethod\x3d'scale')",this.colorUnderlay.src=this._blankGif.toString());this.showRgb||(this.rgbNode.style.visibility="hidden");this.showHsv||(this.hsvNode.style.visibility="hidden");this.showHex||(this.hexNode.style.visibility="hidden");this.webSafe||(this.safePreviewNode.style.visibility=
"hidden")},startup:function(){this._started||(this._started=!0,this.set("value",this.value),this._mover=new r.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}}),this._hueMover=new r.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}}),this._subs=[],this._subs.push(h.subscribe("/dnd/move/stop",k.hitch(this,"_clearTimer"))),this._subs.push(h.subscribe("/dnd/move/start",
k.hitch(this,"_setTimer"))),this._keyListeners=[],this._connects.push(u.addKeyListener(this.hueCursorNode,{charOrCode:d.UP_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,k.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(u.addKeyListener(this.hueCursorNode,{charOrCode:d.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,k.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(u.addKeyListener(this.cursorNode,{charOrCode:d.UP_ARROW,shiftKey:!1,metaKey:!1,
ctrlKey:!1,altKey:!1},this,k.hitch(this,this._updateCursorNode),25,25)),this._connects.push(u.addKeyListener(this.cursorNode,{charOrCode:d.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,k.hitch(this,this._updateCursorNode),25,25)),this._connects.push(u.addKeyListener(this.cursorNode,{charOrCode:d.LEFT_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,k.hitch(this,this._updateCursorNode),25,25)),this._connects.push(u.addKeyListener(this.cursorNode,{charOrCode:d.RIGHT_ARROW,shiftKey:!1,
metaKey:!1,ctrlKey:!1,altKey:!1},this,k.hitch(this,this._updateCursorNode),25,25)))},_setValueAttr:function(a){this._started&&this.setColor(a,!0)},setColor:function(a,b){a=z.fromString(a);this._updatePickerLocations(a);this._updateColorInputs(a);this._updateValue(a,b)},_setTimer:function(b){b.node==this.cursorNode&&(s.focus(b.node),a.setSelectable(this.domNode,!1),this._timer=setInterval(k.hitch(this,"_updateColor"),45))},_clearTimer:function(b){this._timer&&(clearInterval(this._timer),this._timer=
null,this.onChange(this.value),a.setSelectable(this.domNode,!0))},_setHue:function(a){l.style(this.colorUnderlay,"backgroundColor",z.fromHsv(a,100,100).toHex())},_updateHueCursorNode:function(a,b,c){if(-1!==a){a=l.style(this.hueCursorNode,"top");b=this.PICKER_HUE_SELECTOR_H/2;a+=b;var e=!1;c.charOrCode==d.UP_ARROW?0<a&&(a-=1,e=!0):c.charOrCode==d.DOWN_ARROW&&a<this.PICKER_HUE_H&&(a+=1,e=!0);e&&l.style(this.hueCursorNode,"top",a-b+"px")}else this._updateColor(!0)},_updateCursorNode:function(a,b,c){b=
this.PICKER_SAT_SELECTOR_H/2;var e=this.PICKER_SAT_SELECTOR_W/2;if(-1!==a){a=l.style(this.cursorNode,"top");var g=l.style(this.cursorNode,"left");a+=b;var g=g+e,f=!1;c.charOrCode==d.UP_ARROW?0<a&&(a-=1,f=!0):c.charOrCode==d.DOWN_ARROW?a<this.PICKER_SAT_VAL_H&&(a+=1,f=!0):c.charOrCode==d.LEFT_ARROW?0<g&&(g-=1,f=!0):c.charOrCode==d.RIGHT_ARROW&&g<this.PICKER_SAT_VAL_W&&(g+=1,f=!0);f&&(g-=e,l.style(this.cursorNode,"top",a-b+"px"),l.style(this.cursorNode,"left",g+"px"))}else this._updateColor(!0)},_updateColor:function(a){var b=
this.PICKER_HUE_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_H/2,c=this.PICKER_SAT_SELECTOR_W/2,b=l.style(this.hueCursorNode,"top")+b,d=l.style(this.cursorNode,"top")+d,c=l.style(this.cursorNode,"left")+c,b=Math.round(360-360*(b/this.PICKER_HUE_H)),c=z.fromHsv(b,100*(c/this.PICKER_SAT_VAL_W),100-100*(d/this.PICKER_SAT_VAL_H));this._updateColorInputs(c);this._updateValue(c,a);b!=this._hue&&this._setHue(b)},_colorInputChange:function(a){var b,d=!1;switch(a.target){case this.hexCode:b=z.fromString(a.target.value);
d=!0;break;case this.Rval:case this.Gval:case this.Bval:b=z.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);d=!0;break;case this.Hval:case this.Sval:case this.Vval:b=z.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value),d=!0}d&&(this._updatePickerLocations(b),this._updateColorInputs(b),this._updateValue(b,!0))},_updateValue:function(a,b){var d=a.toHex();this.value=this.valueNode.value=d;if(b&&(!this._timer||this.liveUpdate))this.onChange(d)},_updatePickerLocations:function(a){var b=
this.PICKER_HUE_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_H/2,c=this.PICKER_SAT_SELECTOR_W/2;a=a.toHsv();b=Math.round(this.PICKER_HUE_H-a.h/360*this.PICKER_HUE_H)-b;c=Math.round(a.s/100*this.PICKER_SAT_VAL_W)-c;d=Math.round(this.PICKER_SAT_VAL_H-a.v/100*this.PICKER_SAT_VAL_H)-d;this.animatePoint?(n.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:b,left:0}).play(),n.slideTo({node:this.cursorNode,duration:this.slideDuration,top:d,left:c}).play()):(l.style(this.hueCursorNode,"top",b+"px"),
l.style(this.cursorNode,{left:c+"px",top:d+"px"}));a.h!=this._hue&&this._setHue(a.h)},_updateColorInputs:function(a){var b=a.toHex();this.showRgb&&(this.Rval.value=a.r,this.Gval.value=a.g,this.Bval.value=a.b);this.showHsv&&(a=a.toHsv(),this.Hval.value=Math.round(a.h),this.Sval.value=Math.round(a.s),this.Vval.value=Math.round(a.v));this.showHex&&(this.hexCode.value=b);this.previewNode.style.backgroundColor=b;this.webSafe&&(this.safePreviewNode.style.backgroundColor=b)},_setHuePoint:function(a){a=a.layerY-
this.PICKER_HUE_SELECTOR_H/2;this.animatePoint?n.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:a,left:0,onEnd:k.hitch(this,function(){this._updateColor(!1);s.focus(this.hueCursorNode)})}).play():(l.style(this.hueCursorNode,"top",a+"px"),this._updateColor(!1))},_setPoint:function(a){var b=a.layerY-this.PICKER_SAT_SELECTOR_H/2,d=a.layerX-this.PICKER_SAT_SELECTOR_W/2;a&&s.focus(a.target);this.animatePoint?n.slideTo({node:this.cursorNode,duration:this.slideDuration,top:b,left:d,onEnd:k.hitch(this,
function(){this._updateColor(!0);s.focus(this.cursorNode)})}).play():(l.style(this.cursorNode,{left:d+"px",top:b+"px"}),this._updateColor(!1))},_handleKey:function(a){},focus:function(){this.focused||s.focus(this.focusNode)},_stopDrag:function(a){c.stop(a)},destroy:function(){this.inherited(arguments);q.forEach(this._subs,function(a){h.unsubscribe(a)});delete this._subs}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(f,
m,k,q,l,h){q=f("dojo.dnd.move.constrainedMoveable",h,{constraints:function(){},within:!1,constructor:function(g,e){e||(e={});this.constraints=e.constraints;this.within=e.within},onFirstMove:function(g){var e=this.constraintBox=this.constraints.call(this,g);e.r=e.l+e.w;e.b=e.t+e.h;this.within&&(g=m.getMarginSize(g.node),e.r-=g.w,e.b-=g.h)},onMove:function(g,e){var c=this.constraintBox,a=g.node.style;this.onMoving(g,e);e.l=e.l<c.l?c.l:c.r<e.l?c.r:e.l;e.t=e.t<c.t?c.t:c.b<e.t?c.b:e.t;a.left=e.l+"px";
a.top=e.t+"px";this.onMoved(g,e)}});l=f("dojo.dnd.move.boxConstrainedMoveable",q,{box:{},constructor:function(g,e){var c=e&&e.box;this.constraints=function(){return c}}});f=f("dojo.dnd.move.parentConstrainedMoveable",q,{area:"content",constructor:function(g,e){var c=e&&e.area;this.constraints=function(){var a=this.node.parentNode,b=k.getComputedStyle(a),d=m.getMarginBox(a,b);if("margin"==c)return d;var e=m.getMarginExtents(a,b);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("border"==c)return d;e=m.getBorderExtents(a,
b);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("padding"==c)return d;e=m.getPadExtents(a,b);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;return d}}});return{constrainedMoveable:q,boxConstrainedMoveable:l,parentConstrainedMoveable:f}})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(f,m,k,q){var l=k.getObject("dojo.dnd",!0);l.getCopyKeyState=function(h){return h[f("mac")?"metaKey":"ctrlKey"]};l._uniqueId=0;l.getUniqueId=function(){var f;do f=m._scopeName+"Unique"+
++l._uniqueId;while(q.byId(f));return f};l._empty={};l.isFormElement=function(f){f=f.target;3==f.nodeType&&(f=f.parentNode);return 0<=" button textarea input select option ".indexOf(" "+f.tagName.toLowerCase()+" ")};return l})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n){return m("dojo.dnd.Mover",[c],{constructor:function(d,
c,e){function g(a){a.preventDefault();a.stopPropagation()}this.node=h.byId(d);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=e;d=d.ownerDocument;this.events=[a(d,b.move,k.hitch(this,"onFirstMove")),a(d,b.move,k.hitch(this,"onMouseMove")),a(d,b.release,k.hitch(this,"onMouseUp")),a(d,"dragstart",g),a(d.body,"selectstart",g)];n.autoScrollStart(d);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+
a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(q("webkit")&&q("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,d,c=this.host;switch(b.position){case "relative":case "absolute":d=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=g.getMarginBox(this.node);d=l.doc.body;var f=e.getComputedStyle(d),
h=g.getMarginBox(d,f),f=g.getContentBox(d,f);d=b.l-(f.l-h.l);b=b.t-(f.t-h.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(c&&c.onFirstMove)c.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){f.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),
function(f,m,k,q,l,h,g,e,c,a){function b(a,b,d){return s&&d?function(a,b){return h(a,d,b)}:r?function(d,c){var e=h(d,b,c),g=h(d,a,function(a){(!E||(new Date).getTime()>E+1E3)&&c.call(this,a)});return{remove:function(){e.remove();g.remove()}}}:function(b,d){return h(b,a,d)}}function d(a){do if(a.dojoClick)return a.dojoClick;while(a=a.parentNode)}function n(b,c,e){if(u=!b.target.disabled&&d(b.target))z=b.target,y=b.touches?b.touches[0].pageX:b.clientX,w=b.touches?b.touches[0].pageY:b.clientY,D=("object"==
typeof u?u.x:"number"==typeof u?u:0)||4,C=("object"==typeof u?u.y:"number"==typeof u?u:0)||4,x||(x=!0,a.doc.addEventListener(c,function(a){u=u&&a.target==z&&Math.abs((a.touches?a.touches[0].pageX:a.clientX)-y)<=D&&Math.abs((a.touches?a.touches[0].pageY:a.clientY)-w)<=C},!0),a.doc.addEventListener(e,function(a){if(u){B=(new Date).getTime();var b=a.target;"LABEL"===b.tagName&&(b=k.byId(b.getAttribute("for"))||b);setTimeout(function(){h.emit(b,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})})}},!0),
b=function(b){a.doc.addEventListener(b,function(a){!a._dojo_click&&((new Date).getTime()<=B+1E3&&!("INPUT"==a.target.tagName&&q.contains(a.target,"dijitOffScreen")))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"==b&&(("INPUT"!=a.target.tagName||"radio"==a.target.type||"checkbox"==a.target.type)&&"TEXTAREA"!=a.target.tagName&&"AUDIO"!=a.target.tagName&&"VIDEO"!=a.target.tagName)&&a.preventDefault())},!0)},b("click"),b("mousedown"),b("mouseup"))}var r=g("touch"),
t=5>g("ios"),s=navigator.msPointerEnabled,x,u,z,y,w,D,C,B,E,A;r&&(s?c(function(){a.doc.addEventListener("MSPointerDown",function(a){n(a,"MSPointerMove","MSPointerUp")},!0)}):c(function(){function b(a){var d=l.delegate(a,{bubbles:!0});6<=g("ios")&&(d.touches=a.touches,d.altKey=a.altKey,d.changedTouches=a.changedTouches,d.ctrlKey=a.ctrlKey,d.metaKey=a.metaKey,d.shiftKey=a.shiftKey,d.targetTouches=a.targetTouches);return d}A=a.body();a.doc.addEventListener("touchstart",function(a){E=(new Date).getTime();
var b=A;A=a.target;h.emit(b,"dojotouchout",{relatedTarget:A,bubbles:!0});h.emit(A,"dojotouchover",{relatedTarget:b,bubbles:!0});n(a,"touchmove","touchend")},!0);h(a.doc,"touchmove",function(d){E=(new Date).getTime();var c=a.doc.elementFromPoint(d.pageX-(t?0:a.global.pageXOffset),d.pageY-(t?0:a.global.pageYOffset));c&&(A!==c&&(h.emit(A,"dojotouchout",{relatedTarget:c,bubbles:!0}),h.emit(c,"dojotouchover",{relatedTarget:A,bubbles:!0}),A=c),h.emit(c,"dojotouchmove",b(d)))});h(a.doc,"touchend",function(d){E=
(new Date).getTime();var c=a.doc.elementFromPoint(d.pageX-(t?0:a.global.pageXOffset),d.pageY-(t?0:a.global.pageYOffset))||a.body();h.emit(c,"dojotouchend",b(d))})}));m={press:b("mousedown","touchstart","MSPointerDown"),move:b("mousemove","dojotouchmove","MSPointerMove"),release:b("mouseup","dojotouchend","MSPointerUp"),cancel:b(e.leave,"touchcancel",r?"MSPointerCancel":null),over:b("mouseover","dojotouchover","MSPointerOver"),out:b("mouseout","dojotouchout","MSPointerOut"),enter:e._eventHandler(b("mouseover",
"dojotouchover","MSPointerOver")),leave:e._eventHandler(b("mouseout","dojotouchout","MSPointerOut"))};return f.touch=m})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(f,m,k,q,l,h){var g={};f.setObject("dojo.dnd.autoscroll",g);g.getViewport=h.getBox;g.V_TRIGGER_AUTOSCROLL=32;g.H_TRIGGER_AUTOSCROLL=32;g.V_AUTOSCROLL_VALUE=16;g.H_AUTOSCROLL_VALUE=16;var e,c=k.doc,a=Infinity,b=Infinity;g.autoScrollStart=function(d){c=
d;e=h.getBox(c);d=k.body(c).parentNode;a=Math.max(d.scrollHeight-e.h,0);b=Math.max(d.scrollWidth-e.w,0)};g.autoScroll=function(d){var f=e||h.getBox(c),l=k.body(c).parentNode,q=0,m=0;d.clientX<g.H_TRIGGER_AUTOSCROLL?q=-g.H_AUTOSCROLL_VALUE:d.clientX>f.w-g.H_TRIGGER_AUTOSCROLL&&(q=Math.min(g.H_AUTOSCROLL_VALUE,b-l.scrollLeft));d.clientY<g.V_TRIGGER_AUTOSCROLL?m=-g.V_AUTOSCROLL_VALUE:d.clientY>f.h-g.V_TRIGGER_AUTOSCROLL&&(m=Math.min(g.V_AUTOSCROLL_VALUE,a-l.scrollTop));window.scrollBy(q,m)};g._validNodes=
{div:1,p:1,td:1};g._validOverflow={auto:1,scroll:1};g.autoScrollNodes=function(a){for(var b,c,e,f,h,u,z=0,y=0,w=a.target;w;){if(1==w.nodeType&&w.tagName.toLowerCase()in g._validNodes){e=l.getComputedStyle(w);f=e.overflow.toLowerCase()in g._validOverflow;h=e.overflowX.toLowerCase()in g._validOverflow;u=e.overflowY.toLowerCase()in g._validOverflow;if(f||h||u)b=q.getContentBox(w,e),c=q.position(w,!0);if(f||h){e=Math.min(g.H_TRIGGER_AUTOSCROLL,b.w/2);h=a.pageX-c.x;if(m("webkit")||m("opera"))h+=k.body().scrollLeft;
z=0;0<h&&h<b.w&&(h<e?z=-e:h>b.w-e&&(z=e),w.scrollLeft+=z)}if(f||u){f=Math.min(g.V_TRIGGER_AUTOSCROLL,b.h/2);u=a.pageY-c.y;if(m("webkit")||m("opera"))u+=k.body().scrollTop;y=0;0<u&&u<b.h&&(u<f?y=-f:u>b.h-f&&(y=f),w.scrollTop+=y)}if(z||y)return}try{w=w.parentNode}catch(D){w=null}}g.autoScroll(a)};return g})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(f,
m,k,q,l,h,g,e,c,a,b,d){return m("dojo.dnd.Moveable",[h],{handle:"",delay:0,skip:!1,constructor:function(a,d){this.node=q.byId(a);d||(d={});this.handle=d.handle?q.byId(d.handle):null;this.handle||(this.handle=this.node);this.delay=0<d.delay?d.delay:0;this.skip=d.skip;this.mover=d.mover?d.mover:b;this.events=[g(this.handle,c.press,k.hitch(this,"onMouseDown")),g(this.handle,"dragstart",k.hitch(this,"onSelectStart")),g(this.handle,"selectstart",k.hitch(this,"onSelectStart"))]},markupFactory:function(a,
b,d){return new d(b,a)},destroy:function(){f.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(b){if(!this.skip||!a.isFormElement(b)){if(this.delay)this.events.push(g(this.handle,c.move,k.hitch(this,"onMouseMove")),g(this.handle,c.release,k.hitch(this,"onMouseUp"))),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);b.stopPropagation();b.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||
Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(b){if(!this.skip||!a.isFormElement(b))b.stopPropagation(),b.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){e.publish("/dnd/move/start",a);l.add(d.body(),"dojoMove");l.add(this.node,"dojoMoveItem")},
onMoveStop:function(a){e.publish("/dnd/move/stop",a);l.remove(d.body(),"dojoMove");l.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var d=a.node.style;d.left=b.l+"px";d.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),function(f,m,k,q,l,h,g,e){h.focus=function(c){if(c){var a=
"node"in c?c.node:c,b=c.bookmark;c=c.openedForWindow;var d=b?b.isCollapsed:!1;if(a){var g="iframe"==a.tagName.toLowerCase()?a.contentWindow:a;if(g&&g.focus)try{g.focus()}catch(f){}h._onFocusNode(a)}if(b&&l.withGlobal(c||l.global,e.isCollapsed)&&!d){c&&c.focus();try{l.withGlobal(c||l.global,e.moveToBookmark,null,[b])}catch(k){}}}};h.watch("curNode",function(c,a,b){e._curFocus=b;e._prevFocus=a;b&&q.publish("focusNode",b)});h.watch("activeStack",function(c,a,b){e._activeStack=b});h.on("widget-blur",
function(c,a){q.publish("widgetBlur",c,a)});h.on("widget-focus",function(c,a){q.publish("widgetFocus",c,a)});k.mixin(e,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return e.getBookmark().isCollapsed},getBookmark:function(){return(l.global==window?g:new g.SelectionManager(l.global)).getBookmark()},moveToBookmark:function(c){return(l.global==window?g:new g.SelectionManager(l.global)).moveToBookmark(c)},getFocus:function(c,a){var b=!h.curNode||c&&m.isDescendant(h.curNode,c.domNode)?e._prevFocus:
h.curNode;return{node:b,bookmark:b&&b==h.curNode&&l.withGlobal(a||l.global,e.getBookmark),openedForWindow:a}},_activeStack:[],registerIframe:function(c){return h.registerIframe(c)},unregisterIframe:function(c){c&&c.remove()},registerWin:function(c,a){return h.registerWin(c,a)},unregisterWin:function(c){c&&c.remove()}});return e})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-class dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x){var u,z=new (m([d,g],{curNode:null,activeStack:[],constructor:function(){var a=e.hitch(this,function(a){k.isDescendant(this.curNode,a)&&this.set("curNode",null);k.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});f.before(l,"empty",a);f.before(l,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var d=this,e=a.document&&a.document.body;if(e){var g=c(a.document,"mousedown, touchstart",function(a){d._justMouseDowned=
!0;setTimeout(function(){d._justMouseDowned=!1},0);if(!a||!(a.target&&null==a.target.parentNode))d._onTouchNode(b||a.target,"mouse")}),f=c(e,"focusin",function(a){u=(new Date).getTime();if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"==c||"body"==c||(t.isTabNavigable(a.target)?d._onFocusNode(b||a.target):d._onTouchNode(b||a.target))}}),h=c(e,"focusout",function(a){(new Date).getTime()<u+100||d._onBlurNode(b||a.target)});return{remove:function(){g.remove();f.remove();h.remove();
e=g=f=h=null}}}},_onBlurNode:function(a){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(e.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(e.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0))},_onTouchNode:function(a,b){this._clearActiveWidgetsTimer&&
(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var d=[];try{a&&(h.contains(a,"dijitMenuPopup")&&!a.getAttribute("dijitPopupParent"))&&(a=a.firstChild);for(;a;){var c=q.get(a,"dijitPopupParent");if(c)a=s.byId(c).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===n.body())break;a=r.get(a.ownerDocument).frameElement}else{var e=a.getAttribute&&a.getAttribute("widgetId"),g=e&&s.byId(e);g&&!("mouse"==b&&g.get("disabled"))&&d.unshift(e);a=a.parentNode}}}catch(f){}this._setStack(d,
b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var d=this.activeStack,c=d.length-1,e=a.length-1;if(a[e]!=d[c]){this.set("activeStack",a);var g;for(g=c;0<=g&&d[g]!=a[g];g--)if(c=s.byId(d[g]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),this.emit("widget-blur",
c,b);for(g++;g<=e;g++)if(c=s.byId(a[g]))c.set("focused",!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));a(function(){var a=z.registerWin(r.get(document));b("ie")&&c(window,"unload",function(){a&&(a.remove(),a=null)})});x.focus=function(a){z.focus(a)};for(var y in z)/^_/.test(y)||(x.focus[y]="function"==typeof z[y]?e.hitch(z,y):z[y]);z.watch(function(a,b,d){x.focus[a]=d});return z})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(f,m,k,q,l,h,g){var e={_isElementShown:function(c){var a=q.get(c);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=k.get(c,"type")},hasDefaultTabStop:function(c){switch(c.nodeName.toLowerCase()){case "a":return k.has(c,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var b=c.contentDocument;if("designMode"in b&&"on"==b.designMode)return!0;a=b.body}catch(d){try{a=c.contentWindow.document.body}catch(e){return!1}}return a&&
("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==c.contentEditable}},isTabNavigable:function(c){return k.get(c,"disabled")?!1:k.has(c,"tabIndex")?0<=k.get(c,"tabIndex"):e.hasDefaultTabStop(c)},_getTabNavigable:function(c){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var b,d,g,f,l,q,m={},u=e._isElementShown,z=e.isTabNavigable,y=function(c){for(c=c.firstChild;c;c=c.nextSibling)if(!(1!=
c.nodeType||9>=h("ie")&&"HTML"!==c.scopeName||!u(c))){if(z(c)){var e=+k.get(c,"tabIndex");if(!k.has(c,"tabIndex")||0==e)b||(b=c),d=c;else if(0<e){if(!g||e<f)f=e,g=c;if(!l||e>=q)q=e,l=c}e=a(c);k.get(c,"checked")&&e&&(m[e]=c)}"SELECT"!=c.nodeName.toUpperCase()&&y(c)}};u(c)&&y(c);return{first:m[a(b)]||b,last:m[a(d)]||d,lowest:m[a(g)]||g,highest:m[a(l)]||l}},getFirstInTabbingOrder:function(c,a){var b=e._getTabNavigable(m.byId(c,a));return b.lowest?b.lowest:b.first},getLastInTabbingOrder:function(c,a){var b=
e._getTabNavigable(m.byId(c,a));return b.last?b.last:b.highest}};l.mixin(g,e);return e})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),function(f,m,k,q,l,h){var g=function(c){var a=c.document;this.getType=function(){if(a.getSelection){var b="text",d;try{d=c.getSelection()}catch(e){}d&&1==d.rangeCount&&(d=d.getRangeAt(0),d.startContainer==d.endContainer&&(1==d.endOffset-d.startOffset&&3!=d.startContainer.nodeType)&&
(b="control"));return b}return a.selection.type.toLowerCase()};this.getSelectedText=function(){if(a.getSelection){var b=c.getSelection();return b?b.toString():""}return"control"==this.getType()?null:a.selection.createRange().text};this.getSelectedHtml=function(){if(a.getSelection){var b=c.getSelection();if(b&&b.rangeCount){var d,e="";for(d=0;d<b.rangeCount;d++){var g=b.getRangeAt(d).cloneContents(),f=a.createElement("div");f.appendChild(g);e+=f.innerHTML}return e}return null}return"control"==this.getType()?
null:a.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(a.getSelection){var b=c.getSelection();return b.anchorNode.childNodes[b.anchorOffset]}if((b=a.selection.createRange())&&b.item)return a.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var b=this.getSelectedElement();if(b)return b.parentNode}else if(a.getSelection){if(b=a.getSelection()){for(b=b.anchorNode;b&&1!=b.nodeType;)b=b.parentNode;
return b}}else return b=a.selection.createRange(),b.collapse(!0),b.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var d=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(d,arguments)};this.isTag=function(a,d){if(a&&a.tagName)for(var c=a.tagName.toLowerCase(),e=0;e<d.length;e++){var g=String(d[e]).toLowerCase();if(c==g)return g}return""};this.getParentOfType=
function(a,d){for(;a;){if(this.isTag(a,d).length)return a;a=a.parentNode}return null};this.collapse=function(b){if(a.getSelection){var d=c.getSelection();d.removeAllRanges?b?d.collapseToStart():d.collapseToEnd():d.collapse(b)}else d=a.selection.createRange(),d.collapse(b),d.select()};this.remove=function(){var b=a.selection;a.getSelection?(b=c.getSelection(),b.deleteFromDocument()):"none"!=b.type.toLowerCase()&&b.clear();return b};this.selectElementChildren=function(b,d){var e;b=m.byId(b);if(a.getSelection){var g=
c.getSelection();q("opera")?(e=g.rangeCount?g.getRangeAt(0):a.createRange(),e.setStart(b,0),e.setEnd(b,3==b.nodeType?b.length:b.childNodes.length),g.addRange(e)):g.selectAllChildren(b)}else if(e=b.ownerDocument.body.createTextRange(),e.moveToElementText(b),!d)try{e.select()}catch(f){}};this.selectElement=function(b,d){var c;b=m.byId(b);if(a.getSelection){var e=a.getSelection();c=a.createRange();e.removeAllRanges&&(q("opera")&&e.getRangeAt(0)&&(c=e.getRangeAt(0)),c.selectNode(b),e.removeAllRanges(),
e.addRange(c))}else try{e=b.tagName?b.tagName.toLowerCase():"",c="img"===e||"table"===e?l.body(a).createControlRange():l.body(a).createRange(),c.addElement(b),d||c.select()}catch(g){this.selectElementChildren(b,d)}};this.inSelection=function(b){if(b){var d,e;if(a.getSelection){var g=c.getSelection();g&&0<g.rangeCount&&(e=g.getRangeAt(0));if(e&&e.compareBoundaryPoints&&a.createRange)try{if(d=a.createRange(),d.setStart(b,0),1===e.compareBoundaryPoints(e.START_TO_END,d))return!0}catch(f){}}else{e=a.selection.createRange();
try{d=b.ownerDocument.body.createTextRange(),d.moveToElementText(b)}catch(h){}if(e&&d&&1===e.compareEndPoints("EndToStart",d))return!0}}return!1};this.getBookmark=function(){var b,d,e=a.selection,g=h.curNode;if(a.getSelection){if(e=c.getSelection())if(e.isCollapsed){if(b=g?g.tagName:"")if(b=b.toLowerCase(),"textarea"==b||"input"==b&&(!g.type||"text"==g.type.toLowerCase()))return e={start:g.selectionStart,end:g.selectionEnd,node:g,pRange:!0},{isCollapsed:e.end<=e.start,mark:e};b={isCollapsed:!0};e.rangeCount&&
(b.mark=e.getRangeAt(0).cloneRange())}else d=e.getRangeAt(0),b={isCollapsed:!1,mark:d.cloneRange()}}else if(e){b=g?g.tagName:"";b=b.toLowerCase();if(g&&b&&("button"==b||"textarea"==b||"input"==b)){if(e.type&&"none"==e.type.toLowerCase())return{isCollapsed:!0,mark:null};d=e.createRange();return{isCollapsed:d.text&&d.text.length?!1:!0,mark:{range:d,pRange:!0}}}b={};try{d=e.createRange(),b.isCollapsed=!("Text"==e.type?d.htmlText.length:d.length)}catch(f){return b.isCollapsed=!0,b}if("CONTROL"==e.type.toUpperCase())if(d.length){b.mark=
[];e=0;for(g=d.length;e<g;)b.mark.push(d.item(e++))}else b.isCollapsed=!0,b.mark=null;else b.mark=d.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return b};this.moveToBookmark=function(b){if(b=b.mark)if(a.getSelection){var d=c.getSelection();d&&d.removeAllRanges?b.pRange?(d=b.node,d.selectionStart=b.start,d.selectionEnd=b.end):(d.removeAllRanges(),d.addRange(b)):console.warn("No idea how to restore selection for this browser!")}else if(a.selection&&
b){var e;b.pRange?e=b.range:k.isArray(b)?(e=a.body.createControlRange(),f.forEach(b,function(a){e.addElement(a)})):(e=a.body.createTextRange(),e.moveToBookmark(b));e.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},e=new g(window);e.SelectionManager=g;return e})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(f,m,k,q,l,h,g,e){m("dijit-legacy-requires")&&
q(0,function(){require(["dijit/form/_FormValueWidget"])});return f("dijit.form._FormWidget",[l,g,h,e],{setDisabled:function(c){k.deprecated("setDisabled("+c+") is deprecated. Use set('disabled',"+c+") instead.","","2.0");this.set("disabled",c)},setValue:function(c){k.deprecated("dijit.form._FormWidget:setValue("+c+") is deprecated.  Use set('value',"+c+") instead.","","2.0");this.set("value",c)},getValue:function(){k.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!m("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(f,m,k,q,l,h,g,e,c,
a,b,d,n){function r(){}function t(a){return function(b,d,c,e){return b&&"string"==typeof d&&b[d]==r?b.on(d.substring(2).toLowerCase(),g.hitch(c,e)):a.apply(k,arguments)}}f.around(k,"connect",t);h.connect&&f.around(h,"connect",t);f=q("dijit._Widget",[b,d,n],{onClick:r,onDblClick:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onMouseDown:r,onMouseMove:r,onMouseOut:r,onMouseOver:r,onMouseLeave:r,onMouseEnter:r,onMouseUp:r,constructor:function(a){this._toConnect={};for(var b in a)this[b]===r&&(this._toConnect[b.replace(/^on/,
"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===r?k.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){h.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,
b)},attr:function(a,b){if(m.isDebug){var d=arguments.callee._ach||(arguments.callee._ach={}),c=(arguments.callee.caller||"unknown caller").toString();d[c]||(h.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+c,"","2.0"),d[c]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){h.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?
e("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});l("dijit-legacy-requires")&&c(0,function(){require(["dijit/_base"])});return f})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w,D,C){function B(a){return function(b){e[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}n.add("dijit-legacy-requires",!r.isAsync);n.add("dojo-bidi",!1);n("dijit-legacy-requires")&&x(0,function(){f(["dijit/_base/manager"])});var E={};q=h("dijit._WidgetBase",[u,w],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:B("lang"),dir:"",_setDirAttr:B("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:q.blankGif||f.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,d=a._setterAttrs=[],a=a._onMap={},c;for(c in b.attributeMap)d.push(c);for(c in b)/^on/.test(c)&&(a[c.substring(2).toLowerCase()]=c),/^_set[A-Z](.*)Attr$/.test(c)&&(c=c.charAt(4).toLowerCase()+c.substr(5,c.length-
9),(!b.attributeMap||!(c in b.attributeMap))&&d.push(c))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=g.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,t.mixin(this,a));this.postMixInProperties();this.id||(this.id=C.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=y.body(this.ownerDocument);C.add(this);this.buildRendering();var d;if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&(c.parentNode&&this.domNode!==c)&&(c.parentNode.replaceChild(this.domNode,c),d=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();d&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);m.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var d=this._get(b);d&&this.set(b,d)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));c.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,m.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&t.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(d){d.destroyRecursive?d.destroyRecursive(a):d.destroy&&d.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,t.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(C.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
C.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?e.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;t.isObject(a)?
d.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,d){d=3<=arguments.length?d:this.attributeMap[a];m.forEach(t.isArray(d)?d:[d],function(d){var g=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":t.isFunction(b)&&(b=t.hitch(this,b));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;g.tagName?e.set(g,d,b):g.set(d,b);break;case "innerText":g.innerHTML="";g.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":g.innerHTML=b;break;case "class":c.replace(g,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var d in a)this.set(d,a[d]);return this}d=this._getAttrNames(a);var c=this[d.s];if(t.isFunction(c))var e=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!t.isFunction(this.focusNode)?"focusNode":"domNode",g=this[c]&&this[c].tagName,f;if(f=g)if(!(f=
E[g])){f=this[c];var h={},k;for(k in f)h[k.toLowerCase()]=!0;f=E[g]=h}k=f;d=a in this.attributeMap?this.attributeMap[a]:d.s in this?this[d.s]:k&&d.l in k&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?c:null;null!=d&&this._attrToDom(a,b,d);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var d=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+d+"Attr",
g:"_get"+d+"Attr",l:d.toLowerCase()}},_set:function(a,b){var d=this[a];this[a]=b;this._created&&b!==d&&(this._watchCallbacks&&this._watchCallbacks(a,d,b),this.emit("attrmodified-"+a,{detail:{prevValue:d,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,d){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var c,e=this["on"+a];e&&(c=e.apply(this,d?d:[b]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,
a.toLowerCase(),b);return c},on:function(a,b){var d=this._onMap(a);return d?k.after(this,d,b,!0):this.own(s(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,d=b._onMap;if(!d){var d=b._onMap={},c;for(c in b.prototype)/^on/.test(c)&&(d[c.replace(/^on/,"").toLowerCase()]=c)}return d["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?C.findWidgets(this.containerNode):
[]},getParent:function(){return C.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,d){return this.own(l.connect(a,b,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(z.subscribe(a,t.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:b.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=d.get(this.domNode,"display")},placeAt:function(b,d){var c=!b.tagName&&
C.byId(b);c&&c.addChild&&(!d||"number"===typeof d)?c.addChild(this,d):(c=c?c.containerNode&&!/after|before|replace/.test(d||"")?c.containerNode:c.domNode:g.byId(b,this.ownerDocument),a.place(this.domNode,c,d),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var d=setTimeout(t.hitch(this,function(){d&&(d=null,this._destroyed||t.hitch(this,a)())}),b||0);return{remove:function(){d&&(clearTimeout(d),d=null);return null}}}});n("dojo-bidi")&&q.extend(D);
return q})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(f,m,k){return k("dijit.Destroyable",null,{destroy:function(f){this._destroyed=!0},own:function(){f.forEach(arguments,function(f){var k="destroyRecursive"in f?"destroyRecursive":"destroy"in f?"destroy":"remove",h=m.before(this,"destroy",function(e){f[k](e)}),g=m.after(f,k,function(){h.remove();g.remove()},!0)},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),
function(f,m,k,q,l,h){f=q("dijit._OnDijitClickMixin",null,{connect:function(g,e,c){return this.inherited(arguments,[g,"ondijitclick"==e?h:e,c])}});f.a11yclick=h;return f})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(f,m,k,q){function l(e){if((e.keyCode===f.ENTER||e.keyCode===f.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName))for(e=e.target;e;e=e.parentNode)if(e.dojoClick)return!0}var h;k(document,"keydown",function(e){l(e)?(h=e.target,e.preventDefault()):
h=null});k(document,"keyup",function(e){l(e)&&e.target==h&&(h=null,k.emit(e.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type}))});var g=function(e,c){e.dojoClick=!0;return k(e,"click",c)};g.click=g;g.press=function(e,c){var a=k(e,q.press,function(a){("mousedown"!=a.type||m.isLeft(a))&&c(a)}),b=k(e,"keydown",function(a){(a.keyCode===f.ENTER||a.keyCode===f.SPACE)&&c(a)});return{remove:function(){a.remove();b.remove()}}};
g.release=function(e,c){var a=k(e,q.release,function(a){("mouseup"!=a.type||m.isLeft(a))&&c(a)}),b=k(e,"keyup",function(a){(a.keyCode===f.ENTER||a.keyCode===f.SPACE)&&c(a)});return{remove:function(){a.remove();b.remove()}}};g.move=q.move;return g})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(f,m,k,q){q.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});
return k("dijit._FocusMixin",null,{_focusManager:f})})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(f,m,k,q){k(function(){m("highcontrast")&&f.add(q.body(),"dijit_a11y")});return m})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(f,m,k,q,l,h,g){l.add("highcontrast",function(){var e=g.doc.createElement("div");e.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+
(m.blankGif||f.toUrl("./resources/blank.gif"))+");";g.body().appendChild(e);var c=q.getComputedStyle(e),a=c.backgroundImage,c=c.borderTopColor==c.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=l("ie")?e.outerHTML="":g.body().removeChild(e);return c});h(function(){l("highcontrast")&&k.add(g.body(),"dj_a11y")});return l})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d){m=m("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);f.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,h.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(d){b=b.concat(f.map(b,function(a){return a+d}),"dijit"+d)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var d="mixed"==this.checked?"Mixed":
this.checked?"Checked":"";this.checked&&a(d);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var d=this.stateNode||this.domNode,c={};f.forEach(d.className.split(" "),function(a){c[a]=!0});"_stateClasses"in this&&f.forEach(this._stateClasses,function(a){delete c[a]});f.forEach(b,function(a){c[a]=!0});var e=[],g;for(g in c)e.push(g);d.className=
e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,d){function c(d){q.toggle(a,b+"Active",d)}if(!this.disabled&&!this.readOnly)switch(d.type){case "mouseover":case "MSPointerOver":q.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":q.toggle(a,b+"Hover",!1);c(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":c(!0);break;case "mouseup":case "MSPointerUp":case "dojotouchend":case "keyup":c(!1);break;case "focus":case "focusin":q.toggle(a,
b+"Focused",!0);break;case "blur":case "focusout":q.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});e(function(){function e(a,b,c){if(!c||!k.isDescendant(c,b))for(;b&&b!=c;b=b.parentNode)if(b._cssState){var g=d.getEnclosingWidget(b);g&&(b==g.domNode?g._cssMouseEvent(a):g._subnodeCssMouseEvent(b,b._cssState,a))}}var f=a.body(),h;g(f,c.over,function(a){e(a,a.target,a.relatedTarget)});g(f,c.out,function(a){e(a,a.target,a.relatedTarget)});g(f,b.press,function(a){h=a.target;
e(a,h)});g(f,b.release,function(a){e(a,h);h=null});g(f,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=d.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return m})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(f,m,k,q,l,h,g,e){var c=m("dijit._TemplatedMixin",e,{templateString:null,templatePath:null,
_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,d=this;return g.substitute(a,this,function(a,c){"!"==c.charAt(0)&&(a=q.getObject(c.substr(1),!1,d));if("undefined"==typeof a)throw Error(b+" template:"+c);return null==a?"":"!"==c.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=f(this.templatePath,{sanitize:!0}));var a=c.getCachedTemplate(this.templateString,this._skipNodeCache,
this.ownerDocument),b;if(q.isString(a)){if(b=k.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});c._templateCache={};c.getCachedTemplate=function(a,b,d){var e=c._templateCache,f=a,h=e[f];if(h){try{if(!h.ownerDocument||
h.ownerDocument==(d||document))return h}catch(l){}k.destroy(h)}a=g.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return e[f]=a;b=k.toDom(a,d);if(1!=b.nodeType)throw Error("Invalid template: "+a);return e[f]=b};h("ie")&&l(window,"unload",function(){var a=c._templateCache,b;for(b in a){var d=a[b];"object"==typeof d&&k.destroy(d);delete a[b]}});return c})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(f){return f.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has",
"./request"],function(f,m,k,q){var l;l=function(a,b,d){q(a,{sync:!!b}).then(d)};var h={},g=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},e={},c={};f.cache=function(a,b,d){var c;"string"==typeof a?/\//.test(a)?(c=a,d=b):c=m.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(c=a+"",d=b);a=void 0!=d&&"string"!=typeof d?d.value:d;d=d&&d.sanitize;if("string"==typeof a)return h[c]=
a,d?g(a):a;if(null===a)return delete h[c],null;c in h||l(c,!0,function(a){h[c]=a});return d?g(h[c]):h[c]};return{dynamic:!0,normalize:function(a,b){var d=a.split("!"),c=d[0];return(/^\./.test(c)?b(c):c)+(d[1]?"!"+d[1]:"")},load:function(a,b,d){a=a.split("!");var f=1<a.length,k=a[0],q=b.toUrl(a[0]);a="url:"+q;var m=e,x=function(a){d(f?g(a):a)};k in h?m=h[k]:b.cache&&a in b.cache?m=b.cache[a]:q in h&&(m=h[q]);if(m===e)if(c[q])c[q].push(x);else{var u=c[q]=[x];l(q,!b.async,function(a){h[k]=h[q]=a;for(var b=
0;b<u.length;)u[b++](a);delete c[q]})}else x(m)}}})},"dojo/request":function(){define(["./request/default!"],function(f){return f})},"dojo/request/default":function(){define(["exports","require","../has"],function(f,m,k){var q=k("config-requestProvider");q||(q="./xhr");f.getPlatformDefaultId=function(){return"./xhr"};f.load=function(f,h,g,e){m(["platform"==f?"./xhr":q],function(c){g(c)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(f,m,k,q,l,h,g,e,c){var a=l.delegate(e,{mouseenter:h.enter,mouseleave:h.leave,keypress:k._keypress}),b;k=q("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,c){var e=!0,g=this.attachScope||this,f=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(f)for(var h=f.split(/\s*,\s*/);f=h.shift();)l.isArray(g[f])?g[f].push(a):g[f]=a,e="containerNode"!=f,this._attachPoints.push(f);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){f=b.split(/\s*,\s*/);for(h=l.trim;b=f.shift();)if(b){var k=
null;-1!=b.indexOf(":")?(k=b.split(":"),b=h(k[0]),k=h(k[1])):b=h(b);k||(k=b);this._attachEvents.push(c(a,b,l.hitch(g,k)))}}return e},_attach:function(d,c,e){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?b||(b=f("./a11yclick")):a[c]||c;return g(d,c,e)},_detachTemplateNodes:function(){var a=this.attachScope||this;m.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];m.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});l.extend(c,{dojoAttachEvent:"",dojoAttachPoint:""});return k})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(f,m,k,q,l,h,g,e,c,a){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,
_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);k.set(this.focusNode,"disabled",b);this.valueNode&&k.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",f.forEach(l.isArray(b)?b:[b],function(b){b=this[b];e("webkit")||a.hasDefaultTabStop(b)?b.setAttribute("tabIndex",
"-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var d=this.own(g(this.focusNode,"focus",function(){e.remove();d.remove()}))[0],e=this.own(g(this.ownerDocumentBody,"mouseup, touchend",l.hitch(this,function(a){e.remove();d.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){c.scrollIntoView(this.domNode)});this.inherited(arguments)},
isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=q.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,d){return"number"==typeof a&&"number"==typeof d?isNaN(a)&&isNaN(d)?0:a-d:a>d?1:a<d?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,d){if(void 0==this._lastValueReported&&(null===d||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=
this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||d||void 0===d)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&
(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(f,m,k,q,l,h){var g=h.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*
this._subsequentDelay),this._minDelay);this._timer=setTimeout(k.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(e,c,a,b,d,g,f,h){if(d!=this._obj){this.stop();this._initialDelay=f||500;this._subsequentDelay=g||0.9;this._minDelay=h||10;this._obj=d;this._node=a;this._count=this._currentTimeout=-1;this._callback=k.hitch(c,b);this._evt={faux:!0};for(var l in e)"layerX"!=l&&"layerY"!=l&&(c=e[l],"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[l]=c));this._fireEventAndReload()}},
stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(e,c,a,b,d,h,l){var t="keyCode"in c?"keyCode":"charCode"in c?"charCode":"charOrCode",s=[q(e,"keyCode"in c?"keydown":"charCode"in c?"keypress":m._keypress,k.hitch(this,function(f){f[t]==c[t]&&(void 0===c.ctrlKey||c.ctrlKey==f.ctrlKey)&&(void 0===c.altKey||c.altKey==f.altKey)&&(void 0===c.metaKey||c.metaKey==(f.metaKey||!1))&&(void 0===
c.shiftKey||c.shiftKey==f.shiftKey)?(f.stopPropagation(),f.preventDefault(),g.trigger(f,a,e,b,c,d,h,l)):g._obj==c&&g.stop()})),q(e,"keyup",k.hitch(this,function(){g._obj==c&&g.stop()}))];return{remove:function(){f.forEach(s,function(a){a.remove()})}}},addMouseListener:function(e,c,a,b,d,h){var m=[q(e,"mousedown",k.hitch(this,function(f){f.preventDefault();g.trigger(f,c,e,a,e,b,d,h)})),q(e,"mouseup",k.hitch(this,function(a){this._obj&&a.preventDefault();g.stop()})),q(e,"mouseout",k.hitch(this,function(a){this._obj&&
a.preventDefault();g.stop()})),q(e,"dblclick",k.hitch(this,function(f){f.preventDefault();9>l("ie")&&(g.trigger(f,c,e,a,e,b,d,h),setTimeout(k.hitch(this,g.stop),50))}))];return{remove:function(){f.forEach(m,function(a){a.remove()})}}},addListener:function(e,c,a,b,d,g,h,k){var l=[this.addKeyListener(c,a,b,d,g,h,k),this.addMouseListener(e,b,d,g,h,k)];return{remove:function(){f.forEach(l,function(a){a.remove()})}}}};return g})},"dojox/color":function(){define(["./color/_base"],function(f){return f})},
"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(f,m,k,q){f=m.getObject("color",!0,f);f.Color=k;f.blend=k.blendColors;f.fromRgb=k.fromRgb;f.fromHex=k.fromHex;f.fromArray=k.fromArray;f.fromString=k.fromString;f.greyscale=q.makeGrey;m.mixin(f,{fromCmy:function(f,h,g){m.isArray(f)?(h=f[1],g=f[2],f=f[0]):m.isObject(f)&&(h=f.m,g=f.y,f=f.c);h=1-h/100;g=1-g/100;return new k({r:Math.round(255*(1-f/100)),g:Math.round(255*h),b:Math.round(255*g)})},
fromCmyk:function(f,h,g,e){m.isArray(f)?(h=f[1],g=f[2],e=f[3],f=f[0]):m.isObject(f)&&(h=f.m,g=f.y,e=f.b,f=f.c);h/=100;g/=100;e/=100;f=1-Math.min(1,f/100*(1-e)+e);h=1-Math.min(1,h*(1-e)+e);g=1-Math.min(1,g*(1-e)+e);return new k({r:Math.round(255*f),g:Math.round(255*h),b:Math.round(255*g)})},fromHsl:function(f,h,g){m.isArray(f)?(h=f[1],g=f[2],f=f[0]):m.isObject(f)&&(h=f.s,g=f.l,f=f.h);h/=100;for(g/=100;0>f;)f+=360;for(;360<=f;)f-=360;var e,c;120>f?(e=(120-f)/60,c=f/60,f=0):240>f?(e=0,c=(240-f)/60,f=
(f-120)/60):(e=(f-240)/60,c=0,f=(360-f)/60);e=2*h*Math.min(e,1)+(1-h);c=2*h*Math.min(c,1)+(1-h);f=2*h*Math.min(f,1)+(1-h);0.5>g?(e*=g,c*=g,f*=g):(e=(1-g)*e+2*g-1,c=(1-g)*c+2*g-1,f=(1-g)*f+2*g-1);return new k({r:Math.round(255*e),g:Math.round(255*c),b:Math.round(255*f)})}});f.fromHsv=function(f,h,g){m.isArray(f)?(h=f[1],g=f[2],f=f[0]):m.isObject(f)&&(h=f.s,g=f.v,f=f.h);360==f&&(f=0);h/=100;g/=100;var e,c,a;if(0==h)c=a=e=g;else{var b=f/60;f=Math.floor(b);var d=b-f,b=g*(1-h),n=g*(1-h*d);h=g*(1-h*(1-
d));switch(f){case 0:e=g;c=h;a=b;break;case 1:e=n;c=g;a=b;break;case 2:e=b;c=g;a=h;break;case 3:e=b;c=n;a=g;break;case 4:e=h;c=b;a=g;break;case 5:e=g,c=b,a=n}}return new k({r:Math.round(255*e),g:Math.round(255*c),b:Math.round(255*a)})};m.extend(k,{toCmy:function(){var f=1-this.g/255,h=1-this.b/255;return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*f),y:Math.round(100*h)}},toCmyk:function(){var f,h,g,e=this.r/255;f=this.g/255;h=this.b/255;g=Math.min(1-e,1-f,1-h);f=(1-f-g)/(1-g);h=(1-h-g)/(1-
g);return{c:Math.round(100*((1-e-g)/(1-g))),m:Math.round(100*f),y:Math.round(100*h),b:Math.round(100*g)}},toHsl:function(){var f=this.r/255,h=this.g/255,g=this.b/255,e=Math.min(f,g,h),c=Math.max(f,h,g),a=c-e,b=0,d=0,e=(e+c)/2;0<e&&1>e&&(d=a/(0.5>e?2*e:2-2*e));0<a&&(c==f&&c!=h&&(b+=(h-g)/a),c==h&&c!=g&&(b+=2+(g-f)/a),c==g&&c!=f&&(b+=4+(f-h)/a),b*=60);return{h:b,s:Math.round(100*d),l:Math.round(100*e)}},toHsv:function(){var f=this.r/255,h=this.g/255,g=this.b/255,e=Math.min(f,g,h),c=Math.max(f,h,g),
e=c-e,a=null,b=0==c?0:e/c;0==b?a=0:(a=f==c?60*(h-g)/e:h==c?120+60*(g-f)/e:240+60*(f-h)/e,0>a&&(a+=360));return{h:a,s:Math.round(100*b),v:Math.round(100*c)}}});return f})},"dojox/main":function(){define(["dojo/_base/kernel"],function(f){return f.dojox})},"dojox/editor/plugins/TextColor":function(){define("dojo dijit dojox dijit/_base/popup dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_editor/_Plugin dijit/TooltipDialog dijit/form/Button dijit/form/DropDownButton dojox/widget/ColorPicker dojo/_base/connect dojo/_base/declare dojo/i18n dojo/i18n!dojox/editor/plugins/nls/TextColor".split(" "),
function(f,m,k,q,l,h,g,e){f.experimental("dojox.editor.plugins.TextColor");var c=f.declare("dojox.editor.plugins._TextColorDropDown",[l,h,g],{templateString:"\x3cdiv style\x3d'display: none; position: absolute; top: -10000; z-index: -10000'\x3e\x3cdiv dojoType\x3d'dijit.TooltipDialog' dojoAttachPoint\x3d'dialog' class\x3d'dojoxEditorColorPicker'\x3e\x3cdiv dojoType\x3d'dojox.widget.ColorPicker' dojoAttachPoint\x3d'_colorPicker'\x3e\x3c/div\x3e\x3cbr\x3e\x3ccenter\x3e\x3cbutton dojoType\x3d'dijit.form.Button' type\x3d'button' dojoAttachPoint\x3d'_setButton'\x3e${setButtonText}\x3c/button\x3e\x26nbsp;\x3cbutton dojoType\x3d'dijit.form.Button' type\x3d'button' dojoAttachPoint\x3d'_cancelButton'\x3e${cancelButtonText}\x3c/button\x3e\x3c/center\x3e\x3c/div\x3e\x3c/div\x3e",
widgetsInTemplate:!0,constructor:function(){var a=f.i18n.getLocalization("dojox.editor.plugins","TextColor");f.mixin(this,a)},startup:function(){this._started||(this.inherited(arguments),this.connect(this._setButton,"onClick",f.hitch(this,function(){this.onChange(this.get("value"))})),this.connect(this._cancelButton,"onClick",f.hitch(this,function(){m.popup.close(this.dialog);this.onCancel()})),f.style(this.domNode,"display","block"))},_setValueAttr:function(a,d){this._colorPicker.set("value",a,d)},
_getValueAttr:function(){return this._colorPicker.get("value")},onChange:function(a){},onCancel:function(){}}),a=f.declare("dojox.editor.plugins.TextColor",e,{buttonClass:m.form.DropDownButton,useDefaultCommand:!1,constructor:function(){this._picker=new c;f.body().appendChild(this._picker.domNode);this._picker.startup();this.dropDown=this._picker.dialog;this.connect(this._picker,"onChange",function(a){this.editor.execCommand(this.command,a)});this.connect(this._picker,"onCancel",function(){this.editor.focus()})},
updateState:function(){var a=this.editor,d=this.command;if(a&&a.isLoaded&&d.length){var c=this.get("disabled"),e;if(this.button){this.button.set("disabled",c);if(c)return;try{e=a.queryCommandValue(d)||""}catch(g){e=""}}""==e&&(e="#000000");"transparent"==e&&(e="#ffffff");"string"==typeof e?-1<e.indexOf("rgb")&&(e=f.colorFromRgb(e).toHex()):(e=((e&255)<<16|e&65280|(e&16711680)>>>16).toString(16),e="#000000".slice(0,7-e.length)+e);e!==this._picker.get("value")&&this._picker.set("value",e,!1)}},destroy:function(){this.inherited(arguments);
this._picker.destroyRecursive();delete this._picker}});a._TextColorDropDown=c;f.subscribe(m._scopeName+".Editor.getPlugin",null,function(b){if(!b.plugin)switch(b.args.name){case "foreColor":case "hiliteColor":b.plugin=new a({command:b.args.name})}});return a})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser ./_base/loader".split(" "),
function(f,m,k,q,l,h,g,e){g.isDebug&&k(["./_firebug/firebug"]);var c=g.require;c&&(c=h.map(l.isArray(c)?c:[c],function(a){return a.replace(/\./g,"/")}),f.isAsync?k(c):e(1,function(){k(c)}));return f})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(f){return f})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array",
"./html","../NodeList-dom"],function(f,m,k){m=m.NodeList;var q=m.prototype;q.connect=m._adaptAsForEach(function(){return f.connect.apply(this,arguments)});q.coords=m._adaptAsMap(f.coords);m.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(m.events,function(f){var h="on"+f;q[h]=function(g,e){return this.connect(h,g,e)}});return f.NodeList=m})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),
function(f,m,k,q,l,h,g){var e=function(a){return a.replace(/\./g,"/")},c=/\/\/>>built/,a=[],b=[],d=function(d,c,e){a.push(e);g.forEach(d.split(","),function(a){a=F(a,c.module);b.push(a);J(a)});n()},n=function(){var b,d;for(d in G)if(b=G[d],void 0===b.noReqPluginCheck&&(b.noReqPluginCheck=/loadInit\!/.test(d)||/require\!/.test(d)?1:0),!b.executed&&!b.noReqPluginCheck&&b.injected==w)return;N(function(){var b=a;a=[];g.forEach(b,function(a){a(1)})})},r=function(a,b,d){var c=/\(|\)/g,e=1;for(c.lastIndex=
b;(b=c.exec(a))&&!(e=")"==b[0]?e-1:e+1,0==e););if(0!=e)throw"unmatched paren around character "+c.lastIndex+" in: "+a;return[f.trim(a.substring(d,c.lastIndex))+";\n",c.lastIndex]},t=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,s=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,x=/(^|\s)(require|define)\s*\(/m,u=function(a,b){var d,c,e,g=[],f=[];d=[];for(b=b||a.replace(t,function(a){s.lastIndex=x.lastIndex=0;return s.test(a)||x.test(a)?"":a});d=s.exec(b);)c=
s.lastIndex,e=c-d[0].length,c=r(b,c,e),"loadInit"==d[2]?g.push(c[0]):f.push(c[0]),s.lastIndex=c[1];d=g.concat(f);return d.length||!x.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 \x26\x26 dojo.loadInit("),d.join(""),d]:0},z=k.initSyncLoader(d,n,function(a,b){var d,e,g=[],f=[];if(c.test(b)||!(d=u(b)))return 0;e=a.mid+"-*loadInit";for(var h in F("dojo",a).result.scopeMap)g.push(h),f.push('"'+h+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+e+"',{\n\tnames:"+l.stringify(g)+",\n\tdef:function("+
g.join(",")+"){"+d[1]+"}});\n\ndefine("+l.stringify(g.concat(["dojo/loadInit!"+e]))+", function("+g.join(",")+"){\n"+d[0]+"});"}),y=z.sync,w=z.requested,D=z.arrived,C=z.nonmodule,B=z.executing,E=z.executed,A=z.syncExecStack,G=z.modules,M=z.execQ,F=z.getModule,J=z.injectModule,L=z.setArrived,K=z.signal,P=z.finishExec,H=z.execModule,I=z.getLegacyMode,N=z.guardCheckComplete,d=z.dojoRequirePlugin;f.provide=function(a){var b=A[0],d=h.mixin(F(e(a),k.module),{executed:B,result:h.getObject(a,!0)});L(d);b&&
(b.provides||(b.provides=[])).push(function(){d.result=h.getObject(a);delete d.provides;d.executed!==E&&P(d)});return d.result};m.add("config-publishRequireResult",1,0,0);f.require=function(a,b){var d=function(a,b){var d=F(e(a),k.module);if(A.length&&A[0].finish)A[0].finish.push(a);else{if(d.executed)return d.result;b&&(d.result=C);var c=I();J(d);c=I();d.executed!==E&&d.injected===D&&z.guardCheckComplete(function(){H(d)});if(d.executed)return d.result;c==y?d.cjs?M.unshift(d):A.length&&(A[0].finish=
[a]):M.push(d)}}(a,b);m("config-publishRequireResult")&&(!h.exists(a)&&void 0!==d)&&h.setObject(a,d);return d};f.loadInit=function(a){a()};f.registerModulePath=function(a,b){var d={};d[a.replace(/\./g,"/")]=b;k({paths:d})};f.platformRequire=function(a){a=(a.common||[]).concat(a[f._name]||a["default"]||[]);for(var b;a.length;)h.isArray(b=a.shift())?f.require.apply(f,b):f.require(b)};f.requireIf=f.requireAfterIf=function(a,b,d){a&&f.require(b,d)};f.requireLocalization=function(a,b,d){k(["../i18n"],
function(c){c.getLocalization(a,b,d)})};return{extractLegacyApiApplications:u,require:d,loadInit:function(a,b,c){b([a],function(a){b(a.names,function(){for(var g="",h=[],k=0;k<arguments.length;k++)g+="var "+a.names[k]+"\x3d arguments["+k+"]; ",h.push(arguments[k]);eval(g);var n=b.module,l=[],m,g={provide:function(a){a=e(a);a=F(a,n);a!==n&&L(a)},require:function(a,b){a=e(a);b&&(F(a,n).result=C);l.push(a)},requireLocalization:function(a,b,d){m||(m=["dojo/i18n"]);d=(d||f.locale).toLowerCase();a=e(a)+
"/nls/"+(/root/i.test(d)?"":d+"/")+e(b);F(a,n).isXd&&m.push("dojo/i18n!"+a)},loadInit:function(a){a()}},k={},r;try{for(r in g)k[r]=f[r],f[r]=g[r];a.def.apply(null,h)}catch(w){K("error",[{src:q.id,id:"failedDojoLoadInit"},w])}finally{for(r in g)f[r]=k[r]}m&&(l=l.concat(m));l.length?d(l.join(","),b,c):c()})})}}})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(f,m,k){var q=k._createWrapper;k._createWrapper=function(h){h.declaredClass||
(h={_popupWrapper:h.parentNode&&f.contains(h.parentNode,"dijitPopup")?h.parentNode:null,domNode:h,destroy:function(){},ownerDocument:h.ownerDocument,ownerDocumentBody:m.body(h.ownerDocument)});return q.call(this,h)};var l=k.open;k.open=function(f){if(f.orient&&"string"!=typeof f.orient&&!("length"in f.orient)){var g=[],e;for(e in f.orient)g.push({aroundCorner:e,corner:f.orient[e]});f.orient=g}return l.call(this,f)};return k})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s){function x(){this._popupWrapper&&(h.destroy(this._popupWrapper),delete this._popupWrapper)}k=k(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,d=g.position(this._firstAroundNode,!0),c=d.x-a.x,a=d.y-a.y;if(c||a){this._firstAroundPosition=d;for(d=0;d<this._stack.length;d++){var e=this._stack[d].wrapper.style;e.top=parseInt(e.top,10)+a+"px";"auto"==e.right?e.left=parseInt(e.left,10)+
c+"px":e.right=parseInt(e.right,10)-c+"px"}}this._aroundMoveListener=setTimeout(b.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,d=a.domNode;b||(b=h.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(d),d=d.style,d.display="",d.visibility="",d.position="",d.top="0px",a._popupWrapper=b,m.after(a,"destroy",x,!0));return b},moveOffScreen:function(a){var b=
this._createWrapper(a);a=g.isBodyLtr(a.ownerDocument);var d={visibility:"hidden",top:"-9999px",display:""};d[a?"left":"right"]="-9999px";d[a?"right":"left"]="auto";e.set(b,d);return b},hide:function(a){var b=this._createWrapper(a);e.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(f){for(var h=
this._stack,k=f.popup,m=k.domNode,s=f.orient||["below","below-alt","above","above-alt"],C=f.parent?f.parent.isLeftToRight():g.isBodyLtr(k.ownerDocument),B=f.around,x=f.around&&f.around.id?f.around.id+"_dropdown":"popup_"+this._idGen++;h.length&&(!f.parent||!q.isDescendant(f.parent.domNode,h[h.length-1].widget.domNode));)this.close(h[h.length-1].widget);var A=this.moveOffScreen(k);k.startup&&!k._started&&k.startup();var G,M=g.position(m);if("maxHeight"in f&&-1!=f.maxHeight)G=f.maxHeight||Infinity;
else{G=t.getEffectiveBox(this.ownerDocument);var F=B?g.position(B,!1):{y:f.y-(f.padding||0),h:2*(f.padding||0)};G=Math.floor(Math.max(F.y,G.h-(F.y+F.h)))}M.h>G&&(M=e.getComputedStyle(m),e.set(A,{overflowY:"scroll",height:G+"px",border:M.borderLeftWidth+" "+M.borderLeftStyle+" "+M.borderLeftColor}),m._originalStyle=m.style.cssText,m.style.border="none");l.set(A,{id:x,style:{zIndex:this._beginZIndex+h.length},"class":"dijitPopup "+(k.baseClass||k["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:f.parent?
f.parent.id:""});0==h.length&&B&&(this._firstAroundNode=B,this._firstAroundPosition=g.position(B,!0),this._aroundMoveListener=setTimeout(b.hitch(this,"_repositionAll"),50));c("config-bgIframe")&&!k.bgIframe&&(k.bgIframe=new r(A));x=k.orient?b.hitch(k,"orient"):null;s=B?n.around(A,B,s,C,x):n.at(A,f,"R"==s?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],f.padding,x);A.style.visibility="visible";m.style.visibility="visible";m=[];m.push(d(A,"keydown",b.hitch(this,function(b){if(b.keyCode==a.ESCAPE&&f.onCancel)b.stopPropagation(),
b.preventDefault(),f.onCancel();else if(b.keyCode==a.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));k.onCancel&&f.onCancel&&m.push(k.on("cancel",f.onCancel));m.push(k.on(k.onExecute?"execute":"change",b.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));h.push({widget:k,wrapper:A,parent:f.parent,onExecute:f.onExecute,onCancel:f.onCancel,onClose:f.onClose,handlers:m});if(k.onOpen)k.onOpen(s);return s},close:function(a){for(var b=
this._stack;a&&f.some(b,function(b){return b.widget==a})||!a&&b.length;){var d=b.pop(),c=d.widget,e=d.onClose;if(c.onClose)c.onClose();for(var g;g=d.handlers.pop();)g.remove();c&&c.domNode&&this.hide(c);e&&e()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return s.popup=new k})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(f,m,k,q,l,h,g){function e(a,b,d,c){var e=h.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&l.body(a.ownerDocument).appendChild(a);var g=null;f.some(b,function(b){var f=b.corner,h=b.pos,k=0,l={w:{L:e.l+e.w-h.x,R:h.x-e.l,M:e.w}[f.charAt(1)],h:{T:e.t+e.h-h.y,B:h.y-e.t,M:e.h}[f.charAt(0)]},q=a.style;q.left=q.right="auto";d&&(k=d(a,b.aroundCorner,f,l,c),k="undefined"==typeof k?0:k);var s=a.style,A=s.display,u=s.visibility;"none"==s.display&&
(s.visibility="hidden",s.display="");q=m.position(a);s.display=A;s.visibility=u;A={L:h.x,R:h.x-q.w,M:Math.max(e.l,Math.min(e.l+e.w,h.x+(q.w>>1))-q.w)}[f.charAt(1)];u={T:h.y,B:h.y-q.h,M:Math.max(e.t,Math.min(e.t+e.h,h.y+(q.h>>1))-q.h)}[f.charAt(0)];h=Math.max(e.l,A);s=Math.max(e.t,u);A=Math.min(e.l+e.w,A+q.w);u=Math.min(e.t+e.h,u+q.h);A-=h;u-=s;k+=q.w-A+(q.h-u);if(null==g||k<g.overflow)g={corner:f,aroundCorner:b.aroundCorner,x:h,y:s,w:A,h:u,overflow:k,spaceAvailable:l};return!k});g.overflow&&d&&d(a,
g.aroundCorner,g.corner,g.spaceAvailable,c);b=m.isBodyLtr(a.ownerDocument);var q=g.y,x=b?g.x:e.w-g.x-g.w;/relative|absolute/.test(k.get(l.body(a.ownerDocument),"position"))&&(q-=k.get(l.body(a.ownerDocument),"marginTop"),x-=(b?1:-1)*k.get(l.body(a.ownerDocument),b?"marginLeft":"marginRight"));var u=a.style;u.top=q+"px";u[b?"left":"right"]=x+"px";u[b?"right":"left"]="auto";return g}var c={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return g.place={at:function(a,b,d,g,h){d=f.map(d,function(a){var d={corner:a,
aroundCorner:c[a],pos:{x:b.x,y:b.y}};g&&(d.pos.x+="L"==a.charAt(1)?g.x:-g.x,d.pos.y+="T"==a.charAt(0)?g.y:-g.y);return d});return e(a,d,h)},around:function(a,b,d,c,g){function h(a,b){A.push({aroundCorner:a,corner:b,pos:{x:{L:D,R:D+B,M:D+(B>>1)}[a.charAt(1)],y:{T:C,B:C+E,M:C+(E>>1)}[a.charAt(0)]}})}var l;if("string"==typeof b||"offsetWidth"in b){if(l=m.position(b,!0),/^(above|below)/.test(d[0])){var x=m.getBorderExtents(b),u=b.firstChild?m.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},z=m.getBorderExtents(a),
y=a.firstChild?m.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};l.y+=Math.min(x.t+u.t,z.t+y.t);l.h-=Math.min(x.t+u.t,z.t+y.t)+Math.min(x.b+u.b,z.b+y.b)}}else l=b;if(b.parentNode){x="absolute"==k.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){u=m.position(b,!0);z=k.getComputedStyle(b);/relative|absolute/.test(z.position)&&(x=!1);if(!x&&/hidden|auto|scroll/.test(z.overflow)){var y=Math.min(l.y+l.h,u.y+u.h),w=Math.min(l.x+l.w,u.x+u.w);l.x=Math.max(l.x,u.x);l.y=
Math.max(l.y,u.y);l.h=y-l.y;l.w=w-l.x}"absolute"==z.position&&(x=!0);b=b.parentNode}}var D=l.x,C=l.y,B="w"in l?l.w:l.w=l.width,E="h"in l?l.h:(q.deprecated("place.around: dijit/place.__Rectangle: { x:"+D+", y:"+C+", height:"+l.height+", width:"+B+" } has been deprecated.  Please use { x:"+D+", y:"+C+", h:"+l.height+", w:"+B+" }","","2.0"),l.h=l.height),A=[];f.forEach(d,function(a){var b=c;switch(a){case "above-centered":h("TM","BM");break;case "below-centered":h("BM","TM");break;case "after-centered":b=
!b;case "before-centered":h(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":h(b?"TL":"TR",b?"TR":"TL");h(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":h(b?"BL":"BR",b?"TL":"TR");h(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":h(b?"TL":"TR",b?"BL":"BR");h(b?"TR":"TL",b?"BR":"BL");break;default:h(a.aroundCorner,a.corner)}});a=e(a,A,g,{w:B,h:E});a.aroundNodePos=l;return a}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady",
"dojo/sniff","dojo/window"],function(f,m,k,q,l){var h=new f,g;k(function(){var e=l.getBox();h._rlh=m(window,"resize",function(){var a=l.getBox();e.h==a.h&&e.w==a.w||(e=a,h.emit("resize"))});if(8==q("ie")){var c=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=c&&(c=screen.deviceXDPI,h.emit("resize"))},500)}q("ios")&&(m(document,"focusin",function(a){g=a.target}),m(document,"focusout",function(a){g=null}))});h.getEffectiveBox=function(e){e=l.getBox(e);var c=g&&g.tagName&&g.tagName.toLowerCase();
if(q("ios")&&g&&!g.readOnly&&("textarea"==c||"input"==c&&/^(color|email|number|password|search|tel|text|url)$/.test(g.type)))e.h*=0==orientation||180==orientation?0.66:0.4,c=g.getBoundingClientRect(),e.h=Math.max(e.h,c.top+c.height);return e};return h})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(f,m,k,q,l,h,g,e){e.add("config-bgIframe",!e("touch"));var c=new function(){var a=
[];this.pop=function(){var b;a.length?(b=a.pop(),b.style.display=""):(9>e("ie")?(b="\x3ciframe src\x3d'"+(k.dojoBlankHtmlUrl||f.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",b=document.createElement(b)):(b=q.create("iframe"),b.src='javascript:""',b.className="dijitBackgroundIframe",b.setAttribute("role","presentation"),l.set(b,"opacity",0.1)),b.tabIndex=-1);return b};
this.push=function(b){b.style.display="none";a.push(b)}};m.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(e("config-bgIframe")){var b=this.iframe=c.pop();a.appendChild(b);7>e("ie")||e("quirks")?(this.resize(a),this._conn=g(a,"resize",h.hitch(this,"resize",a))):l.set(b,{width:"100%",height:"100%"})}};h.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&l.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),
this._conn=null);this.iframe&&(c.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(f,m,k,q,l){return k("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var f=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);l.parse(f,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(q.hitch(this,function(g){this._startupWidgets=g;for(var e=0;e<g.length;e++)this._processTemplateNode(g[e],function(c,a){return c[a]},function(c,a,b){return a in c?c.connect(c,a,b):c.on(a,b,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(f,g,e){return g(f,"dojoType")||g(f,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){f.forEach(this._startupWidgets,function(f){f&&(!f._started&&f.startup)&&f.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s){function x(a){return eval("("+a+")")}function u(a){var b=a._nameCaseMap,d=a.prototype;if(!b||b._extendCnt<y){var b=a._nameCaseMap={},c;for(c in d)"_"!==c.charAt(0)&&(b[c.toLowerCase()]=c);b._extendCnt=y}return b}function z(a,b){var d=a.join();if(!w[d]){for(var c=[],e=0,g=a.length;e<g;e++){var h=a[e];c[c.length]=w[h]=w[h]||k.getObject(h)||~h.indexOf("/")&&(b?b(h):f(h))}e=c.shift();w[d]=c.length?e.createSubclass?e.createSubclass(c):e.extend.apply(e,c):e}return w[d]}
new Date("X");var y=0;c.after(k,"extend",function(){y++},!0);var w={},D={_clearCache:function(){y++;w={}},_functionFromScript:function(a,b){var d="",c="",e=a.getAttribute(b+"args")||a.getAttribute("args"),g=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);g&&g.length&&q.forEach(g.split(/\s*,\s*/),function(a){d+="with("+a+"){";c+="}"});return new Function(e,d+a.innerHTML+c)},instantiate:function(a,b,d){b=b||{};d=d||{};var c=(d.scope||m._scopeName)+"Type",e="data-"+(d.scope||m._scopeName)+"-",g=e+
"type",f=e+"mixins",h=[];q.forEach(a,function(a){var d=c in b?b[c]:a.getAttribute(g)||a.getAttribute(c);if(d){var e=a.getAttribute(f),d=e?[d].concat(e.split(/\s*,\s*/)):[d];h.push({node:a,types:d})}});return this._instantiate(h,b,d)},_instantiate:function(b,d,c,e){function g(a){!d._started&&!c.noStart&&q.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}b=q.map(b,function(a){var b=a.ctor||z(a.types,c.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(b,a.node,d,c,a.scripts,a.inherited)},this);return e?a(b).then(g):g(b)},construct:function(a,d,g,f,h,l){function w(a){X&&k.setObject(X,a);for(I=0;I<W.length;I++)c[W[I].advice||"after"](a,W[I].method,k.hitch(a,W[I].func),!0);for(I=0;I<Q.length;I++)Q[I].call(a);for(I=0;I<O.length;I++)a.watch(O[I].prop,O[I].func);for(I=0;I<Z.length;I++)t(a,Z[I].event,Z[I].func);return a}var s=a&&a.prototype;f=f||{};var D={};f.defaults&&k.mixin(D,f.defaults);l&&k.mixin(D,l);var y;
n("dom-attributes-explicit")?y=d.attributes:n("dom-attributes-specified-flag")?y=q.filter(d.attributes,function(a){return a.specified}):(l=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),y=q.map(l.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==b?d.getAttribute(b):d.getAttributeNode(b).value}}));var z=f.scope||m._scopeName;
l="data-"+z+"-";var H={};"dojo"!==z&&(H[l+"props"]="data-dojo-props",H[l+"type"]="data-dojo-type",H[l+"mixins"]="data-dojo-mixins",H[z+"type"]="dojoType",H[l+"id"]="data-dojo-id");for(var I=0,N,z=[],X,T;N=y[I++];){var R=N.name,U=R.toLowerCase();N=N.value;switch(H[U]||U){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":T=N;break;case "data-dojo-id":case "jsid":X=N;break;case "data-dojo-attach-point":case "dojoattachpoint":D.dojoAttachPoint=N;break;case "data-dojo-attach-event":case "dojoattachevent":D.dojoAttachEvent=
N;break;case "class":D["class"]=d.className;break;case "style":D.style=d.style&&d.style.cssText;break;default:if(R in s||(R=u(a)[U]||R),R in s)switch(typeof s[R]){case "string":D[R]=N;break;case "number":D[R]=N.length?Number(N):NaN;break;case "boolean":D[R]="false"!=N.toLowerCase();break;case "function":""===N||-1!=N.search(/[^\w\.]+/i)?D[R]=new Function(N):D[R]=k.getObject(N,!1)||new Function(N);z.push(R);break;default:U=s[R],D[R]=U&&"length"in U?N?N.split(/\s*,\s*/):[]:U instanceof Date?""==N?new Date(""):
"now"==N?new Date:b.fromISOString(N):U instanceof e?m.baseUrl+N:x(N)}else D[R]=N}}for(y=0;y<z.length;y++)H=z[y].toLowerCase(),d.removeAttribute(H),d[H]=null;if(T)try{T=x.call(f.propsThis,"{"+T+"}"),k.mixin(D,T)}catch(V){throw Error(V.toString()+" in data-dojo-props\x3d'"+T+"'");}k.mixin(D,g);h||(h=a&&(a._noScript||s._noScript)?[]:r("\x3e script[type^\x3d'dojo/']",d));var W=[],Q=[],O=[],Z=[];if(h)for(I=0;I<h.length;I++)H=h[I],d.removeChild(H),g=H.getAttribute(l+"event")||H.getAttribute("event"),f=
H.getAttribute(l+"prop"),T=H.getAttribute(l+"method"),z=H.getAttribute(l+"advice"),y=H.getAttribute("type"),H=this._functionFromScript(H,l),g?"dojo/connect"==y?W.push({method:g,func:H}):"dojo/on"==y?Z.push({event:g,func:H}):D[g]=H:"dojo/aspect"==y?W.push({method:T,advice:z,func:H}):"dojo/watch"==y?O.push({prop:f,func:H}):Q.push(H);a=(h=a.markupFactory||s.markupFactory)?h(D,d,a):new a(D,d);return a.then?a.then(w):w(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=
c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(w)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],g=[],h={},k=(b.scope||m._scopeName)+"Type",l="data-"+(b.scope||m._scopeName)+"-",r=l+"type",w=l+"textdir",l=l+"mixins",s=a.firstChild,t=b.inherited;if(!t){var u=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&u(a.parentNode,b)},t={dir:u(a,"dir"),lang:u(a,"lang"),textDir:u(a,w)},D;for(D in t)t[D]||
delete t[D]}for(var t={inherited:t},y,x;;)if(s)if(1!=s.nodeType)s=s.nextSibling;else if(y&&"script"==s.nodeName.toLowerCase())(R=s.getAttribute("type"))&&/^dojo\/\w/i.test(R)&&y.push(s),s=s.nextSibling;else if(x)s=s.nextSibling;else{var R=s.getAttribute(r)||s.getAttribute(k);D=s.firstChild;if(!R&&(!D||3==D.nodeType&&!D.nextSibling))s=s.nextSibling;else{x=null;if(R){var U=s.getAttribute(l);y=U?[R].concat(U.split(/\s*,\s*/)):[R];try{x=z(y,b.contextRequire)}catch(V){}x||q.forEach(y,function(a){~a.indexOf("/")&&
!h[a]&&(h[a]=!0,g[g.length]=a)});U=x&&!x.prototype._noScript?[]:null;t={types:y,ctor:x,parent:t,node:s,scripts:U};t.inherited=c(t);e.push(t)}else t={node:s,scripts:y,parent:t};y=U;x=s.stopParser||x&&x.prototype.stopParser&&!b.template;s=D}}else{if(!t||!t.node)break;s=t.node.nextSibling;x=!1;t=t.parent;y=t.scripts}var W=new d;g.length?(n("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+g.join(", ")),(b.contextRequire||f)(g,function(){W.resolve(q.filter(e,function(a){if(!a.ctor)try{a.ctor=
z(a.types,b.contextRequire)}catch(d){}for(var c=a.parent;c&&!c.types;)c=c.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!c||c.instantiate&&c.instantiateChildren;return a.instantiate}))})):W.resolve(e);return W.promise},_require:function(a,b){var c=x("{"+a.innerHTML+"}"),e=[],g=[],h=new d,n=b&&b.contextRequire||f,l;for(l in c)e.push(l),g.push(c[l]);n(g,function(){for(var a=0;a<e.length;a++)k.setObject(e[a],arguments[a]);h.resolve(arguments)});
return h.promise},_scanAmd:function(a,b){var c=new d,e=c.promise;c.resolve(!0);var g=this;r("script[type\x3d'dojo/require']",a).forEach(function(a){e=e.then(function(){return g._require(a,b)});a.parentNode.removeChild(a)});return e},parse:function(a,b){var d;!b&&a&&a.rootNode?(b=a,d=b.rootNode):a&&k.isObject(a)&&!("nodeType"in a)?b=a:d=a;d=d?h.byId(d):g.body();b=b||{};var c=b.template?{template:!0}:{},e=[],f=this,n=this._scanAmd(d,b).then(function(){return f.scan(d,b)}).then(function(a){return f._instantiate(a,
c,b,!0)}).then(function(a){return e=e.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});k.mixin(e,n);return e}};m.parser=D;l.parseOnLoad&&s(100,D,"parse");return D})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(f,m){var k={};f.setObject("dojo.date.stamp",k);k.fromISOString=function(f,l){k._isoRegExp||(k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var h=k._isoRegExp.exec(f),g=null;if(h){h.shift();h[1]&&h[1]--;h[6]&&(h[6]*=1E3);l&&(l=new Date(l),m.forEach(m.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return l["get"+a]()}),function(a,b){h[b]=h[b]||a}));g=new Date(h[0]||1970,h[1]||0,h[2]||1,h[3]||0,h[4]||0,h[5]||0,h[6]||0);100>h[0]&&g.setFullYear(h[0]||1970);var e=0,c=h[7]&&h[7].charAt(0);"Z"!=c&&(e=60*(h[8]||0)+(Number(h[9])||0),"-"!=c&&(e*=-1));c&&(e-=g.getTimezoneOffset());e&&g.setTime(g.getTime()+6E4*
e)}return g};k.toISOString=function(f,k){var h=function(a){return 10>a?"0"+a:a};k=k||{};var g=[],e=k.zulu?"getUTC":"get",c="";"time"!=k.selector&&(c=f[e+"FullYear"](),c=["0000".substr((c+"").length)+c,h(f[e+"Month"]()+1),h(f[e+"Date"]())].join("-"));g.push(c);if("date"!=k.selector){c=[h(f[e+"Hours"]()),h(f[e+"Minutes"]()),h(f[e+"Seconds"]())].join(":");e=f[e+"Milliseconds"]();k.milliseconds&&(c+="."+(100>e?"0":"")+h(e));if(k.zulu)c+="Z";else if("time"!=k.selector)var e=f.getTimezoneOffset(),a=Math.abs(e),
c=c+((0<e?"-":"+")+h(Math.floor(a/60))+":"+h(a%60));g.push(c)}return g.join("T")};return k})},"dijit/_editor/_Plugin":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(f,m,k,q,l){m=m("dijit._editor._Plugin",q,{constructor:function(f){this.params=f||{};k.mixin(this,this.params);this._attrPairNames={}},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:!0,buttonClass:l,disabled:!1,getLabel:function(f){return this.editor.commands[f]},
_initButton:function(){if(this.command.length){var f=this.getLabel(this.command),g=this.editor,e=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);this.button||(f=k.mixin({label:f,ownerDocument:g.ownerDocument,dir:g.dir,lang:g.lang,showLabel:!1,iconClass:e,dropDown:this.dropDown,tabIndex:"-1"},this.params||{}),this.button=new this.buttonClass(f))}this.get("disabled")&&this.button&&this.button.set("disabled",this.get("disabled"))},destroy:function(){this.dropDown&&
this.dropDown.destroyRecursive();this.inherited(arguments)},connect:function(h,g,e){this.own(f.connect(h,g,this,e))},updateState:function(){var f=this.editor,g=this.command,e,c;if(f&&f.isLoaded&&g.length){var a=this.get("disabled");if(this.button)try{c=!a&&f.queryCommandEnabled(g),this.enabled!==c&&(this.enabled=c,this.button.set("disabled",!c)),c&&"boolean"==typeof this.button.checked&&(e=f.queryCommandState(g),this.checked!==e&&(this.checked=e,this.button.set("checked",f.queryCommandState(g))))}catch(b){}}},
setEditor:function(f){this.editor=f;this._initButton();this.button&&this.useDefaultCommand&&(this.editor.queryCommandAvailable(this.command)?this.own(this.button.on("click",k.hitch(this.editor,"execCommand",this.command,this.commandArg))):this.button.domNode.style.display="none");this.own(this.editor.on("NormalizedDisplayChanged",k.hitch(this,"updateState")))},setToolbar:function(f){this.button&&f.addChild(this.button)},set:function(f,g){if("object"===typeof f){for(var e in f)this.set(e,f[e]);return this}e=
this._getAttrNames(f);if(this[e.s])var c=this[e.s].apply(this,Array.prototype.slice.call(arguments,1));else this._set(f,g);return c||this},get:function(f){var g=this._getAttrNames(f);return this[g.g]?this[g.g]():this[f]},_setDisabledAttr:function(f){this._set("disabled",f);this.updateState()},_getAttrNames:function(f){var g=this._attrPairNames;if(g[f])return g[f];var e=f.charAt(0).toUpperCase()+f.substr(1);return g[f]={s:"_set"+e+"Attr",g:"_get"+e+"Attr"}},_set:function(f,g){this[f]=g}});m.registry=
{};return m})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(f,m,k,q,l,h,g,e,c,a){q("dijit-legacy-requires")&&g(0,function(){f(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});g=m("dijit.form.Button"+(q("dojo-bidi")?"_NoBidi":""),[e,c],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",
type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=h.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&k.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){l.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=h.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});q("dojo-bidi")&&(g=m("dijit.form.Button",g,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));
return g})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(f,m,k,q){var l=f("dijit.form._ButtonMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(f){f.stopPropagation();f.preventDefault();this.disabled||this.valueNode.click(f);return!1},_onClick:function(f){if(this.disabled)return f.stopPropagation(),f.preventDefault(),!1;!1===this.onClick(f)&&f.preventDefault();cancelled=f.defaultPrevented;if(!cancelled&&
"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var g=this.domNode;g.parentNode;g=g.parentNode){var e=q.byNode(g);if(e&&"function"==typeof e._onSubmit){e._onSubmit(f);f.preventDefault();cancelled=!0;break}}return!cancelled},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",f);(this.containerNode||this.focusNode).innerHTML=f}});k("dojo-bidi")&&(l=f("dijit.form._ButtonMixin",l,
{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return l})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n){f=f("dijit.TooltipDialog",[e,b,a,c],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",
_firstFocusItem:null,_lastFocusItem:null,templateString:d,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(h(this.containerNode,"keydown",l.hitch(this,"_onKey")))},orient:function(a,b,d){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight",
"BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+d];m.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems(this.containerNode);g.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=
a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==q.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==
q.TAB){var b=a.target;this._getFocusItems(this.containerNode);this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(g.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(g.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}});k("dojo-bidi")&&f.extend({_setTitleAttr:function(a){this.containerNode.title=this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,
a):a;this._set("title",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title))}});return f})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x){return a("dijit.layout.ContentPane",[k,q,l],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:f._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,d){var c=new d(a,b);return!c.href&&c._contentSetter&&c._contentSetter.parseDeferred&&!c._contentSetter.parseDeferred.isFulfilled()?c._contentSetter.parseDeferred.then(function(){return c}):c},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=d.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);
a=m.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=s.getLocalization("dijit","loading",this.lang);this.loadingMessage=h.substitute(this.loadingMessage,a);this.errorMessage=h.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&c.forEach(this._contentSetter.parseResults,
function(a){!a._started&&(!a._destroyed&&m.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){c.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&m.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&c.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&m.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){f.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new b(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){f.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new b(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new b(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var d=this._xhrDfd=(this.ioMethod||t.get)(b),c;d.then(function(b){c=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(d){a._onError("Content",d)}},function(b){d.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return c});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;c.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(c.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||r.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var d=this._contentSetter;d&&d instanceof g._ContentSetter||(d=this._contentSetter=new g._ContentSetter({node:this.containerNode,_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+
" could not change content due to "+b.message,b)}})}));var c=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),c=d.set(m.isObject(a)&&a.domNode?a.domNode:a,c),e=this;return x(c&&c.then?c:d.parseDeferred,function(){delete e._contentSetterParams;b||(e._started&&(e._startChildren(),e._scheduleLayout()),e._onLoadHandler(a))})},
_onError:function(a,b,d){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);d?console.error(d,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(f,m,k,q){return m("dijit._Container",
null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(f,h){var g=this.containerNode;if(0<h){for(g=g.firstChild;0<h;)1==g.nodeType&&h--,g=g.nextSibling;g?h="before":(g=this.containerNode,h="last")}k.place(f.domNode,g,h);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==typeof f&&(f=this.getChildren()[f]);f&&(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},
_getSiblingOfChild:function(k,h){q.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var g=this.getChildren(),e=f.indexOf(g,k);return g[e+h]},getIndexOfChild:function(k){return f.indexOf(this.getChildren(),k)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query dojo/sniff ../registry ../Viewport ./utils".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",h.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;g("\x3e *",this.containerNode).some(function(e){var g=
c.byNode(e);g&&g.resize?a.push(g):!/script|link|style/i.test(e.nodeName)&&e.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;k.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
a&&q.setMarginBox(this.domNode,a);var e=this.containerNode;if(e===this.domNode){var g=c||{};h.mixin(g,a||{});if(!("h"in g)||!("w"in g))g=h.mixin(q.getMarginBox(e),g);this._contentBox=b.marginBox2contentBox(e,g)}else this._contentBox=q.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||q.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=
this.getChildren(),b,c=0;b=a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!k.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},
"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(f,m,k,q,l){function h(e,c){var a=e.resize?e.resize(c):k.setMarginBox(e.domNode,c);a?l.mixin(e,a):(l.mixin(e,k.getMarginBox(e.domNode)),l.mixin(e,c))}var g={marginBox2contentBox:function(e,c){var a=q.getComputedStyle(e),b=k.getMarginExtents(e,a),d=k.getPadBorderExtents(e,a);return{l:q.toPixelValue(e,a.paddingLeft),t:q.toPixelValue(e,a.paddingTop),w:c.w-(b.w+d.w),
h:c.h-(b.h+d.h)}},layoutChildren:function(e,c,a,b,d){c=l.mixin({},c);m.add(e,"dijitLayoutContainer");a=f.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(f.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));f.forEach(a,function(a){var e=a.domNode,g=a.region||a.layoutAlign;if(!g)throw Error("No region setting for "+a.id);var f=e.style;f.left=c.l+"px";f.top=c.t+"px";f.position="absolute";m.add(e,"dijitAlign"+(g.substring(0,1).toUpperCase()+g.substring(1)));
e={};b&&b==a.id&&(e["top"==a.region||"bottom"==a.region?"h":"w"]=d);"leading"==g&&(g=a.isLeftToRight()?"left":"right");"trailing"==g&&(g=a.isLeftToRight()?"right":"left");"top"==g||"bottom"==g?(e.w=c.w,h(a,e),c.h-=a.h,"top"==g?c.t+=a.h:f.top=c.t+c.h+"px"):"left"==g||"right"==g?(e.h=c.h,h(a,e),c.w-=a.w,"left"==g?c.l+=a.w:f.left=c.l+c.w+"px"):("client"==g||"center"==g)&&h(a,c)})}};l.setObject("dijit.layout.utils",g);return g})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(f,m,k,q,l,h,g){var e={};m.setObject("dojo.html",e);var c=0;e._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")};e._emptyNode=h.empty;e._setNodeContent=function(a,b){h.empty(a);if(b)if("string"==typeof b&&(b=h.toDom(b,a.ownerDocument)),!b.nodeType&&m.isArrayLike(b))for(var d=b.length,c=0;c<b.length;c=d==b.length?c+1:0)h.place(b[c],a,"last");else h.place(b,a,"last");return a};e._ContentSetter=q("dojo.html._ContentSetter",null,{node:"",
content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:f._scopeName,startup:!0,constructor:function(a,b){m.mixin(this,a||{});b=this.node=l.byId(this.node||b);this.id||(this.id=["Setter",b?b.id||b.tagName:"",c++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var d=this.onEnd();return d&&d.then?d:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=
e._setNodeContent(a,this.content)}catch(b){var d=this.onContentError(b);try{a.innerHTML=d}catch(c){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+c.message,c)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(k.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);h.empty(this.node)},onBegin:function(){var a=
this.content;if(m.isString(a)&&(this.cleanContent&&(a=e._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+
a},_mixin:function(a){var b={},d;for(d in a)d in b||(this[d]=a[d])},_parse:function(){var a=this.node;try{var b={};k.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var d=this;this.parseDeferred=g.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return d.parseResults=a},function(a){d._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(a,b,d){a=this["on"+a+"Error"].call(this,b);d?console.error(d,b):a&&e._setNodeContent(this.node,a,!0)}});e.set=function(a,b,d){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),b="");return d?(new e._ContentSetter(m.mixin(d,{content:b,node:a}))).set():e._setNodeContent(a,b,!0)};return e})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(f,m){return f("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},
onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var f=m._getTabNavigable(this.containerNode);this._firstFocusItem=f.lowest||f.first||this.closeButtonNode||this.domNode;this._lastFocusItem=f.last||f.highest||this._firstFocusItem}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(f,m,k,q,l,h){return m("dijit.form._FormMixin",
null,{state:"",_getDescendantFormWidgets:function(g){var e=[];f.forEach(g||this.getChildren(),function(c){"value"in c?e.push(c):e=e.concat(this._getDescendantFormWidgets(c.getChildren()))},this);return e},reset:function(){f.forEach(this._getDescendantFormWidgets(),function(g){g.reset&&g.reset()})},validate:function(){var g=!1;return f.every(f.map(this._getDescendantFormWidgets(),function(e){e._hasBeenBlurred=!0;var c=e.disabled||!e.validate||e.validate();!c&&!g&&(h.scrollIntoView(e.containerNode||
e.domNode),e.focus(),g=!0);return c}),function(e){return e})},setValues:function(g){k.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",g)},_setValueAttr:function(g){var e={};f.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(e[a.name]||(e[a.name]=[])).push(a)});for(var c in e)if(e.hasOwnProperty(c)){var a=e[c],b=q.getObject(c,!1,g);void 0!==b&&(b=[].concat(b),"boolean"==typeof a[0].checked?f.forEach(a,function(a){a.set("value",
-1!=f.indexOf(b,a._get("value")))}):a[0].multiple?a[0].set("value",b):f.forEach(a,function(a,c){a.set("value",b[c])}))}},getValues:function(){k.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var g={};f.forEach(this._getDescendantFormWidgets(),function(e){var c=e.name;if(c&&!e.disabled){var a=e.get("value");"boolean"==typeof e.checked?/Radio/.test(e.declaredClass)?!1!==a?q.setObject(c,a,g):(a=q.getObject(c,
!1,g),void 0===a&&q.setObject(c,null,g)):(e=q.getObject(c,!1,g),e||(e=[],q.setObject(c,e,g)),!1!==a&&e.push(a)):(e=q.getObject(c,!1,g),"undefined"!=typeof e?q.isArray(e)?e.push(a):q.setObject(c,[e,a],g):q.setObject(c,a,g))}});return g},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var g=f.map(this._descendants,function(e){return e.get("state")||""});return 0<=f.indexOf(g,"Error")?"Error":0<=f.indexOf(g,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},
connectChildren:function(g){this._descendants=this._getDescendantFormWidgets();f.forEach(this._descendants,function(e){e._started||e.startup()});g||this._onChildChange()},_onChildChange:function(g){(!g||"state"==g||"disabled"==g)&&this._set("state",this._getState());if(!g||"value"==g||"disabled"==g||"checked"==g)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var g=this;this.own(l(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(e){e.target!=g.domNode&&g._onChildChange(e.type.replace("attrmodified-",""))}));this.watch("state",function(e,c,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html".split(" "),
function(f,m,k,q,l,h,g,e,c){return f("dijit.form.DropDownButton",[h,g,e],{baseClass:"dijitDropDownButton",templateString:c,_fillContent:function(){if(this.srcNodeRef){var a=k("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=k("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=q.byNode(a));delete this.dropDownContainer}this.dropDown&&l.hide(this.dropDown);this.inherited(arguments)}},
isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,d=b.on("load",m.hitch(this,function(){d.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s){return f("dijit._HasDropDown",s,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(c){!this.disabled&&!this.readOnly&&(c.preventDefault(),this._docHandler=this.own(b(this.ownerDocument,d.release,a.hitch(this,"_onDropDownMouseUp")))[0],this.toggleDropDown())},_onDropDownMouseUp:function(a){a&&
this._docHandler&&(this._docHandler.remove(),this._docHandler=null);var b=this.dropDown,d=!1;if(a&&this._opened){var c=h.position(this._buttonNode,!0);if(!(a.pageX>=c.x&&a.pageX<=c.x+c.w)||!(a.pageY>=c.y&&a.pageY<=c.y+c.h)){for(c=a.target;c&&!d;)l.contains(c,"dijitPopup")?d=!0:c=c.parentNode;if(d){c=a.target;if(b.onItemClick){for(var e;c&&!(e=n.byNode(c));)c=c.parentNode;if(e&&e.onClick&&e.getParent)e.getParent().onItemClick(e,a)}return}}}this._opened?b.focus&&!1!==b.autoFocus&&(this._focusDropDownTimer=
this.defer(function(){b.focus();delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";l.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var c=this.focusNode||this.domNode;this.own(b(this._buttonNode,d.press,a.hitch(this,"_onDropDownMouseDown")),b(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),b(c,"keydown",a.hitch(this,"_onKey")),b(c,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||
this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,d=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))a.stopPropagation(),a.preventDefault();else if(b&&this._opened&&a.keyCode==c.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==c.DOWN_ARROW||(a.keyCode==c.ENTER||a.keyCode==c.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&
("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=new m,d=a.hitch(this,function(){this.openDropDown();
b.resolve(this.dropDown)});this.isLoaded()?d():this.loadDropDown(d);return b},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var b=this.dropDown,d=b.domNode,c=this._aroundNode||this.domNode,e=this,g=t.open({parent:this,popup:b,around:c,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){e.closeDropDown(!0)},onCancel:function(){e.closeDropDown(!0)},onClose:function(){q.set(e._popupStateNode,
"popupActive",!1);l.remove(e._popupStateNode,"dijitHasDropDownOpen");e._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&c.offsetWidth>b._popupWrapper.offsetWidth)c={w:c.offsetWidth-(b._popupWrapper.offsetWidth-b.domNode.offsetWidth)},a.isFunction(b.resize)?b.resize(c):h.setMarginBox(d,c);q.set(this._popupStateNode,"popupActive","true");l.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",
b.id);"presentation"!==d.getAttribute("role")&&!d.getAttribute("aria-labelledby")&&d.setAttribute("aria-labelledby",this.id);return g},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),t.close(this.dropDown),this._opened=!1)}})})},"dojox/color/api/ColorModel":function(){define(["dojo/_base/declare"],function(f){return f("dojox.color.api.ColorModel",
null,{constructor:function(){},initialize:function(f,k){},getColor:function(f){}})})},"dojox/color/SimpleColorModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojox/color"],function(f,m,k){return m("dojox.color.SimpleColorModel",null,{_startColor:null,_endColor:null,constructor:function(f,l){if(void 0!=l)this._startColor=f,this._endColor=l;else{var h=f.toHsl();h.s=100;h.l=85;this._startColor=k.fromHsl(h.h,h.s,h.l);this._startColor.a=f.a;h.l=15;this._endColor=k.fromHsl(h.h,h.s,h.l);
this._endColor.a=f.a}},_getInterpoledValue:function(f,k,h){return f+(k-f)*h},getNormalizedValue:function(f){},getColor:function(f){var l=this.getNormalizedValue(f),h=this._startColor.toHsl(),g=this._endColor.toHsl();f=this._getInterpoledValue(h.h,g.h,l);var e=this._getInterpoledValue(h.s,g.s,l),h=this._getInterpoledValue(h.l,g.l,l),l=this._getInterpoledValue(this._startColor.a,this._endColor.a,l);f=k.fromHsl(f,e,h);f.a=l;return f}})})},"dojox/color/Palette":function(){define(["dojo/_base/lang","dojo/_base/array",
"./_base"],function(f,m,k){function q(c,a,b){var d=new k.Palette;d.colors=[];m.forEach(c.colors,function(c){var e="dg"==a?c.g+b:c.g,g="db"==a?c.b+b:c.b,f="da"==a?c.a+b:c.a;d.colors.push(new k.Color({r:Math.min(255,Math.max(0,"dr"==a?c.r+b:c.r)),g:Math.min(255,Math.max(0,e)),b:Math.min(255,Math.max(0,g)),a:Math.min(1,Math.max(0,f))}))});return d}function l(c,a,b){var d=new k.Palette;d.colors=[];m.forEach(c.colors,function(c){c=c.toCmy();var e="dm"==a?c.m+b:c.m,g="dy"==a?c.y+b:c.y;d.colors.push(k.fromCmy(Math.min(100,
Math.max(0,"dc"==a?c.c+b:c.c)),Math.min(100,Math.max(0,e)),Math.min(100,Math.max(0,g))))});return d}function h(c,a,b){var d=new k.Palette;d.colors=[];m.forEach(c.colors,function(c){c=c.toCmyk();var e="dm"==a?c.m+b:c.m,g="dy"==a?c.y+b:c.y,f="dk"==a?c.b+b:c.b;d.colors.push(k.fromCmyk(Math.min(100,Math.max(0,"dc"==a?c.c+b:c.c)),Math.min(100,Math.max(0,e)),Math.min(100,Math.max(0,g)),Math.min(100,Math.max(0,f))))});return d}function g(c,a,b){var d=new k.Palette;d.colors=[];m.forEach(c.colors,function(c){c=
c.toHsl();var e="dl"==a?c.l+b:c.l;d.colors.push(k.fromHsl(("dh"==a?c.h+b:c.h)%360,Math.min(100,Math.max(0,"ds"==a?c.s+b:c.s)),Math.min(100,Math.max(0,e))))});return d}function e(c,a,b){var d=new k.Palette;d.colors=[];m.forEach(c.colors,function(c){c=c.toHsv();var e="dv"==a?c.v+b:c.v;d.colors.push(k.fromHsv(("dh"==a?c.h+b:c.h)%360,Math.min(100,Math.max(0,"ds"==a?c.s+b:c.s)),Math.min(100,Math.max(0,e))))});return d}k.Palette=function(c){this.colors=[];c instanceof k.Palette?this.colors=c.colors.slice(0):
c instanceof k.Color?this.colors=[null,null,c,null,null]:f.isArray(c)?this.colors=m.map(c.slice(0),function(a){return f.isString(a)?new k.Color(a):a}):f.isString(c)&&(this.colors=[null,null,new k.Color(c),null,null])};f.extend(k.Palette,{transform:function(c){var a=q;if(c.use){var b=c.use.toLowerCase();0==b.indexOf("hs")?a="l"==b.charAt(2)?g:e:0==b.indexOf("cmy")&&(a="k"==b.charAt(3)?h:l)}else if("dc"in c||"dm"in c||"dy"in c)a="dk"in c?h:l;else if("dh"in c||"ds"in c)a="dv"in c?e:g;var b=this,d;for(d in c)"use"!=
d&&(b=a(b,d,c[d]));return b},clone:function(){return new k.Palette(this)}});f.mixin(k.Palette,{generators:{analogous:function(c){var a=c.high||60,b=c.low||18;c=(f.isString(c.base)?new k.Color(c.base):c.base).toHsv();var a=[(c.h+b+360)%360,(c.h+Math.round(b/2)+360)%360,c.h,(c.h-Math.round(a/2)+360)%360,(c.h-a+360)%360],b=Math.max(10,95>=c.s?c.s+5:100-(c.s-95)),d=1<c.s?c.s-1:21-c.s,e=92<=c.v?c.v-9:Math.max(c.v+9,20),g=90>=c.v?Math.max(c.v+5,20):95+Math.ceil((c.v-90)/2),h=[b,d,c.s,b,b],l=[e,g,c.v,e,
g];return new k.Palette(m.map(a,function(a,b){return k.fromHsv(a,h[b],l[b])}))},monochromatic:function(c){c=f.isString(c.base)?new k.Color(c.base):c.base;var a=c.toHsv(),b=9<a.s-30?a.s-30:a.s+30,d=a.s,e=20<a.v-20?a.v-20:a.v+60,g=20<a.v-50?a.v-50:a.v+30;return new k.Palette([k.fromHsv(a.h,b,100-0.8*(100-a.v)),k.fromHsv(a.h,d,g),c,k.fromHsv(a.h,b,g),k.fromHsv(a.h,d,e)])},triadic:function(c){c=f.isString(c.base)?new k.Color(c.base):c.base;var a=c.toHsv(),b=(a.h-157+360)%360,d=90<a.s?a.s-10:a.s+10,e=
95<a.s?a.s-5:a.s+5,g=20<a.v-20?a.v-20:a.v+20,h=20<a.v-30?a.v-30:a.v+30,l=70<a.v-30?a.v-30:a.v+30;return new k.Palette([k.fromHsv((a.h+57+360)%360,20<a.s?a.s-10:a.s+10,a.v),k.fromHsv(a.h,d,h),c,k.fromHsv(b,d,g),k.fromHsv(b,e,l)])},complementary:function(c){c=f.isString(c.base)?new k.Color(c.base):c.base;var a=c.toHsv(),b=360>2*a.h+137?2*a.h+137:Math.floor(a.h/2)-137,d=Math.max(a.s-10,0),e=100-0.9*(100-a.s),g=Math.min(100,a.s+20),h=Math.min(100,a.v+30),l=20<a.v?a.v-30:a.v+30;return new k.Palette([k.fromHsv(a.h,
d,h),k.fromHsv(a.h,e,l),c,k.fromHsv(b,g,l),k.fromHsv(b,a.s,a.v)])},splitComplementary:function(c){var a=f.isString(c.base)?new k.Color(c.base):c.base,b=c.da||30;c=a.toHsv();var d=360>2*c.h+137?2*c.h+137:Math.floor(c.h/2)-137,e=(d-b+360)%360,b=(d+b)%360,d=Math.max(c.s-10,0),g=100-0.9*(100-c.s),h=Math.min(100,c.s+20),l=Math.min(100,c.v+30),q=20<c.v?c.v-30:c.v+30;return new k.Palette([k.fromHsv(e,d,l),k.fromHsv(e,g,q),a,k.fromHsv(b,h,q),k.fromHsv(b,c.s,c.v)])},compound:function(c){c=f.isString(c.base)?
new k.Color(c.base):c.base;var a=c.toHsv(),b=360>2*a.h+18?2*a.h+18:Math.floor(a.h/2)-18,d=360>2*a.h+120?2*a.h+120:Math.floor(a.h/2)-120,e=360>2*a.h+99?2*a.h+99:Math.floor(a.h/2)-99,g=10<a.s-40?a.s-40:a.s+40,h=80<a.s-10?a.s-10:a.s+10,l=10<a.s-25?a.s-25:a.s+25,q=10<a.v-40?a.v-40:a.v+40,m=80<a.v-20?a.v-20:a.v+20,a=Math.max(a.v,20);return new k.Palette([k.fromHsv(b,g,q),k.fromHsv(b,h,m),c,k.fromHsv(d,l,a),k.fromHsv(e,h,m)])},shades:function(c){c=f.isString(c.base)?new k.Color(c.base):c.base;var a=c.toHsv(),
b=100==a.s&&0==a.v?0:a.s,d=20<a.v-50?a.v-50:a.v+30,e=20<=a.v-25?a.v-25:a.v+55,g=20<=a.v-75?a.v-75:a.v+5,h=Math.max(a.v-10,20);return new k.Palette([new k.fromHsv(a.h,b,d),new k.fromHsv(a.h,b,e),c,new k.fromHsv(a.h,b,g),new k.fromHsv(a.h,b,h)])}},generate:function(c,a){if(f.isFunction(a))return a({base:c});if(k.Palette.generators[a])return k.Palette.generators[a]({base:c});throw Error("dojox.color.Palette.generate: the specified generator ('"+a+"') does not exist.");}});return k.Palette})},"dojox/color/MeanColorModel":function(){define(["dojo/_base/array",
"dojo/_base/declare","./NeutralColorModel"],function(f,m,k){return m("dojox.color.MeanColorModel",k,{constructor:function(f,k){},computeNeutral:function(f,k,h,g){0!=g.length&&(f=3>g.length?h/g.length:0==(g.length&1)?(g[g.length/2-1]+g[g.length/2])/2:g[Math.floor(g.length/2)]);return f}})})},"dojox/color/NeutralColorModel":function(){define(["dojo/_base/array","dojo/_base/declare","./SimpleColorModel"],function(f,m,k){return m("dojox.color.NeutralColorModel",k,{_min:0,_max:0,_e:0,constructor:function(f,
k){},initialize:function(k,l){var h=[],g=0,e=1E8,c=-e;f.forEach(k,function(a){a=l(a);e=Math.min(e,a);c=Math.max(c,a);g+=a;h.push(a)});h.sort(function(a,d){return a-d});var a=this.computeNeutral(e,c,g,h);this._min=e;this._max=c;this._e=this._min==this._max||a==this._min?-1:Math.log(0.5)/Math.log((a-this._min)/(this._max-this._min))},computeNeutral:function(f,k,h,g){},getNormalizedValue:function(f){if(0>this._e)return 0;f=(f-this._min)/(this._max-this._min);return Math.pow(f,this._e)}})})},"dojox/color/Colorspace":function(){define(["./_base",
"dojo/_base/lang","dojox/math/matrix"],function(f,m,k){f.Colorspace=new function(){var m=this,l={2:{E:{x:1/3,y:1/3,t:5400},D50:{x:0.34567,y:0.3585,t:5E3},D55:{x:0.33242,y:0.34743,t:5500},D65:{x:0.31271,y:0.32902,t:6500},D75:{x:0.29902,y:0.31485,t:7500},A:{x:0.44757,y:0.40745,t:2856},B:{x:0.34842,y:0.35161,t:4874},C:{x:0.31006,y:0.31616,t:6774},9300:{x:0.2848,y:0.2932,t:9300},F2:{x:0.37207,y:0.37512,t:4200},F7:{x:0.31285,y:0.32918,t:6500},F11:{x:0.38054,y:0.37691,t:4E3}},10:{E:{x:1/3,y:1/3,t:5400},
D50:{x:0.34773,y:0.35952,t:5E3},D55:{x:0.33411,y:0.34877,t:5500},D65:{x:0.31382,y:0.331,t:6500},D75:{x:0.29968,y:0.3174,t:7500},A:{x:0.45117,y:0.40594,t:2856},B:{x:0.3498,y:0.3527,t:4874},C:{x:0.31039,y:0.31905,t:6774},F2:{x:0.37928,y:0.36723,t:4200},F7:{x:0.31565,y:0.32951,t:6500},F11:{x:0.38543,y:0.3711,t:4E3}}},h={"Adobe RGB 98":[2.2,"D65",0.64,0.33,0.297361,0.21,0.71,0.627355,0.15,0.06,0.075285],"Apple RGB":[1.8,"D65",0.625,0.34,0.244634,0.28,0.595,0.672034,0.155,0.07,0.083332],"Best RGB":[2.2,
"D50",0.7347,0.2653,0.228457,0.215,0.775,0.737352,0.13,0.035,0.034191],"Beta RGB":[2.2,"D50",0.6888,0.3112,0.303273,0.1986,0.7551,0.663786,0.1265,0.0352,0.032941],"Bruce RGB":[2.2,"D65",0.64,0.33,0.240995,0.28,0.65,0.683554,0.15,0.06,0.075452],"CIE RGB":[2.2,"E",0.735,0.265,0.176204,0.274,0.717,0.812985,0.167,0.009,0.010811],"ColorMatch RGB":[1.8,"D50",0.63,0.34,0.274884,0.295,0.605,0.658132,0.15,0.075,0.066985],"DON RGB 4":[2.2,"D50",0.696,0.3,0.27835,0.215,0.765,0.68797,0.13,0.035,0.03368],"ECI RGB":[1.8,
"D50",0.67,0.33,0.32025,0.21,0.71,0.602071,0.14,0.08,0.077679],"EktaSpace PS5":[2.2,"D50",0.695,0.305,0.260629,0.26,0.7,0.734946,0.11,0.005,0.004425],"NTSC RGB":[2.2,"C",0.67,0.33,0.298839,0.21,0.71,0.586811,0.14,0.08,0.11435],"PAL/SECAM RGB":[2.2,"D65",0.64,0.33,0.222021,0.29,0.6,0.706645,0.15,0.06,0.071334],"Pro Photo RGB":[1.8,"D50",0.7347,0.2653,0.28804,0.1596,0.8404,0.711874,0.0366,1E-4,8.6E-5],"SMPTE/C RGB":[2.2,"D65",0.63,0.34,0.212395,0.31,0.595,0.701049,0.155,0.07,0.086556],sRGB:[2.2,"D65",
0.64,0.33,0.212656,0.3,0.6,0.715158,0.15,0.06,0.072186],"Wide Gamut RGB":[2.2,"D50",0.735,0.265,0.258187,0.115,0.826,0.724938,0.157,0.018,0.016875]},g={"XYZ scaling":{ma:[[1,0,0],[0,1,0],[0,0,1]],mai:[[1,0,0],[0,1,0],[0,0,1]]},Bradford:{ma:[[0.8951,-0.7502,0.0389],[0.2664,1.7135,-0.0685],[-0.1614,0.0367,1.0296]],mai:[[0.986993,0.432305,-0.008529],[-0.147054,0.51836,0.040043],[0.159963,0.049291,0.968487]]},"Von Kries":{ma:[[0.40024,-0.2263,0],[0.7076,1.16532,0],[-0.08081,0.0457,0.91822]],mai:[[1.859936,
0.361191,0],[-1.129382,0.638812,0],[0.219897,-6E-6,1.089064]]}},e={XYZ:{xyY:function(a,b){b=dojo.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},b||{});var d=m.whitepoint(b.whitepoint,b.observer),c=a.X+a.Y+a.Z;if(0==c)var e=d.x,d=d.y;else e=a.X/c,d=a.Y/c;return{x:e,y:d,Y:a.Y}},Lab:function(a,b){b=dojo.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},b||{});var d=m.kappa(b.useApproximation),c=m.epsilon(b.useApproximation),e=m.whitepoint(b.whitepoint,b.observer),g=a.X/e.x,f=a.Y/
e.y,e=a.z/e.z,g=g>c?Math.pow(g,1/3):(d*g+16)/116,f=f>c?Math.pow(f,1/3):(d*f+16)/116,d=e>c?Math.pow(e,1/3):(d*e+16)/116;return{L:116*f-16,a:500*(g-f),b:200*(f-d)}},Luv:function(a,b){b=dojo.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},b||{});var d=m.kappa(b.useApproximation),c=m.epsilon(b.useApproximation),e=m.whitepoint(b.whitepoint,b.observer),g=4*a.X/(a.X+15*a.Y+3*a.Z),f=9*a.Y/(a.X+15*a.Y+3*a.Z),h=4*e.x/(e.x+15*e.y+3*e.z),k=9*e.y/(e.x+15*e.y+3*e.z),e=a.Y/e.y,d=e>c?116*Math.pow(e,1/
3)-16:d*e;return{L:d,u:13*d*(g-h),v:13*d*(f-k)}}},xyY:{XYZ:function(a){if(0==a.y){var b=0,d=0;a=0}else b=a.x*a.Y/a.y,d=a.Y,a=(1-a.x-a.y)*a.Y/a.y;return{X:b,Y:d,Z:a}}},Lab:{XYZ:function(a,b){b=dojo.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},b||{});var d=b.useApproximation,c=m.kappa(d),d=m.epsilon(d),e=m.whitepoint(b.whitepoint,b.observer),g=a.L>c*d?Math.pow((a.L+16)/116,3):a.L/c,f=g>d?(a.L+16)/116:(c*g+16)/116,h=a.a/500+f,f=f-a.b/200,k=Math.pow(h,3),l=Math.pow(f,3);return{X:(k>d?k:
(116*h-16)/c)*e.x,Y:g*e.y,Z:(l>d?l:(116*f-16)/c)*e.z}},LCHab:function(a){var b=a.L,d=Math.pow(a.a*a.a+a.b*a.b,0.5);a=Math.atan(a.b,a.a)*(180/Math.PI);0>a&&(a+=360);360>a&&(a-=360);return{L:b,C:d,H:a}}},LCHab:{Lab:function(a){var b=a.L,d=a.C/Math.pow(Math.pow(Math.tan(a.H*(Math.PI/180)),2)+1,0.5);90<lchH&&270>a.H&&(d=-d);var c=Math.pow(Math.pow(a.C,2)-Math.pow(d,2),0.5);180<a.H&&(c=-c);return{L:b,a:d,b:c}}},Luv:{XYZ:function(a,b){b=dojo.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},b||
{});var d=b.useApproximation,c=m.kappa(d),e=m.epsilon(d),g=m.whitepoint(b.whitepoint,b.observer),d=4*g.x/(g.x+15*g.y+3*g.z),g=9*g.y/(g.x+15*g.y+3*g.z),c=a.L>c*e?Math.pow((a.L+16)/116,3):a.L/c,e=1/3*(52*a.L/(a.u+13*a.L*d)-1),d=-5*c,g=(c*(39*a.L/(a.v+13*a.L*g)-5)-d)/(e- -(1/3));return{X:g,Y:c,Z:g*e+d}},LCHuv:function(a){var b=a.L,d=Math.pow(a.u*a.u+a.v*a*v,0.5);a=Math.atan(a.v,a.u)*(180/Math.PI);0>a&&(a+=360);360<a&&(a-=360);return{L:b,C:d,H:a}}},LCHuv:{Luv:function(a){var b=a.L,d=a.C/Math.pow(Math.pow(Math.tan(a.H*
(Math.PI/180)),2)+1,0.5),c=Math.pow(a.C*a.C-d*d,0.5);90<a.H&&270<a.H&&(d*=-1);180<a.H&&(c*=-1);return{L:b,u:d,v:c}}}},c={CMY:{CMYK:function(a,b){return f.fromCmy(a).toCmyk()},HSL:function(a,b){return f.fromCmy(a).toHsl()},HSV:function(a,b){return f.fromCmy(a).toHsv()},Lab:function(a,b){return e.XYZ.Lab(f.fromCmy(a).toXYZ(b))},LCHab:function(a,b){return e.Lab.LCHab(c.CMY.Lab(a))},LCHuv:function(a,b){return e.LCHuv.Luv(e.Luv.XYZ(f.fromCmy(a).toXYZ(b)))},Luv:function(a,b){return e.Luv.XYZ(f.fromCmy(a).toXYZ(b))},
RGB:function(a,b){return f.fromCmy(a)},XYZ:function(a,b){return f.fromCmy(a).toXYZ(b)},xyY:function(a,b){return e.XYZ.xyY(f.fromCmy(a).toXYZ(b))}},CMYK:{CMY:function(a,b){return f.fromCmyk(a).toCmy()},HSL:function(a,b){return f.fromCmyk(a).toHsl()},HSV:function(a,b){return f.fromCmyk(a).toHsv()},Lab:function(a,b){return e.XYZ.Lab(f.fromCmyk(a).toXYZ(b))},LCHab:function(a,b){return e.Lab.LCHab(c.CMYK.Lab(a))},LCHuv:function(a,b){return e.LCHuv.Luv(e.Luv.XYZ(f.fromCmyk(a).toXYZ(b)))},Luv:function(a,
b){return e.Luv.XYZ(f.fromCmyk(a).toXYZ(b))},RGB:function(a,b){return f.fromCmyk(a)},XYZ:function(a,b){return f.fromCmyk(a).toXYZ(b)},xyY:function(a,b){return e.XYZ.xyY(f.fromCmyk(a).toXYZ(b))}},HSL:{CMY:function(a,b){return f.fromHsl(a).toCmy()},CMYK:function(a,b){return f.fromHsl(a).toCmyk()},HSV:function(a,b){return f.fromHsl(a).toHsv()},Lab:function(a,b){return e.XYZ.Lab(f.fromHsl(a).toXYZ(b))},LCHab:function(a,b){return e.Lab.LCHab(c.CMYK.Lab(a))},LCHuv:function(a,b){return e.LCHuv.Luv(e.Luv.XYZ(f.fromHsl(a).toXYZ(b)))},
Luv:function(a,b){return e.Luv.XYZ(f.fromHsl(a).toXYZ(b))},RGB:function(a,b){return f.fromHsl(a)},XYZ:function(a,b){return f.fromHsl(a).toXYZ(b)},xyY:function(a,b){return e.XYZ.xyY(f.fromHsl(a).toXYZ(b))}},HSV:{CMY:function(a,b){return f.fromHsv(a).toCmy()},CMYK:function(a,b){return f.fromHsv(a).toCmyk()},HSL:function(a,b){return f.fromHsv(a).toHsl()},Lab:function(a,b){return e.XYZ.Lab(f.fromHsv(a).toXYZ(b))},LCHab:function(a,b){return e.Lab.LCHab(c.CMYK.Lab(a))},LCHuv:function(a,b){return e.LCHuv.Luv(e.Luv.XYZ(f.fromHsv(a).toXYZ(b)))},
Luv:function(a,b){return e.Luv.XYZ(f.fromHsv(a).toXYZ(b))},RGB:function(a,b){return f.fromHsv(a)},XYZ:function(a,b){return f.fromHsv(a).toXYZ(b)},xyY:function(a,b){return e.XYZ.xyY(f.fromHsv(a).toXYZ(b))}},Lab:{CMY:function(a,b){return f.fromXYZ(e.Lab.XYZ(a,b)).toCmy()},CMYK:function(a,b){return f.fromXYZ(e.Lab.XYZ(a,b)).toCmyk()},HSL:function(a,b){return f.fromXYZ(e.Lab.XYZ(a,b)).toHsl()},HSV:function(a,b){return f.fromXYZ(e.Lab.XYZ(a,b)).toHsv()},LCHab:function(a,b){return e.Lab.LCHab(a,b)},LCHuv:function(a,
b){return e.Luv.LCHuv(e.Lab.XYZ(a,b),b)},Luv:function(a,b){return e.XYZ.Luv(e.Lab.XYZ(a,b),b)},RGB:function(a,b){return f.fromXYZ(e.Lab.XYZ(a,b))},XYZ:function(a,b){return e.Lab.XYZ(a,b)},xyY:function(a,b){return e.XYZ.xyY(e.Lab.XYZ(a,b),b)}},LCHab:{CMY:function(a,b){return f.fromXYZ(e.Lab.XYZ(e.LCHab.Lab(a),b),b).toCmy()},CMYK:function(a,b){return f.fromXYZ(e.Lab.XYZ(e.LCHab.Lab(a),b),b).toCmyk()},HSL:function(a,b){return f.fromXYZ(e.Lab.XYZ(e.LCHab.Lab(a),b),b).toHsl()},HSV:function(a,b){return f.fromXYZ(e.Lab.XYZ(e.LCHab.Lab(a),
b),b).toHsv()},Lab:function(a,b){return e.Lab.LCHab(a,b)},LCHuv:function(a,b){return e.Luv.LCHuv(e.XYZ.Luv(e.Lab.XYZ(e.LCHab.Lab(a),b),b),b)},Luv:function(a,b){return e.XYZ.Luv(e.Lab.XYZ(e.LCHab.Lab(a),b),b)},RGB:function(a,b){return f.fromXYZ(e.Lab.XYZ(e.LCHab.Lab(a),b),b)},XYZ:function(a,b){return e.Lab.XYZ(e.LCHab.Lab(a,b),b)},xyY:function(a,b){return e.XYZ.xyY(e.Lab.XYZ(e.LCHab.Lab(a),b),b)}},LCHuv:{CMY:function(a,b){return f.fromXYZ(e.Luv.XYZ(e.LCHuv.Luv(a),b),b).toCmy()},CMYK:function(a,b){return f.fromXYZ(e.Luv.XYZ(e.LCHuv.Luv(a),
b),b).toCmyk()},HSL:function(a,b){return f.fromXYZ(e.Luv.XYZ(e.LCHuv.Luv(a),b),b).toHsl()},HSV:function(a,b){return f.fromXYZ(e.Luv.XYZ(e.LCHuv.Luv(a),b),b).toHsv()},Lab:function(a,b){return e.XYZ.Lab(e.Luv.XYZ(e.LCHuv.Luv(a),b),b)},LCHab:function(a,b){return e.Lab.LCHab(e.XYZ.Lab(e.Luv.XYZ(e.LCHuv.Luv(a),b),b),b)},Luv:function(a,b){return e.LCHuv.Luv(a,b)},RGB:function(a,b){return f.fromXYZ(e.Luv.XYZ(e.LCHuv.Luv(a),b),b)},XYZ:function(a,b){return e.Luv.XYZ(e.LCHuv.Luv(a),b)},xyY:function(a,b){return e.XYZ.xyY(e.Luv.XYZ(e.LCHuv.Luv(a),
b),b)}},Luv:{CMY:function(a,b){return f.fromXYZ(e.Luv.XYZ(a,b),b).toCmy()},CMYK:function(a,b){return f.fromXYZ(e.Luv.XYZ(a,b),b).toCmyk()},HSL:function(a,b){return f.fromXYZ(e.Luv.XYZ(a,b),b).toHsl()},HSV:function(a,b){return f.fromXYZ(e.Luv.XYZ(a,b),b).toHsv()},Lab:function(a,b){return e.XYZ.Lab(e.Luv.XYZ(a,b),b)},LCHab:function(a,b){return e.Lab.LCHab(e.XYZ.Lab(e.Luv.XYZ(a,b),b),b)},LCHuv:function(a,b){return e.Luv.LCHuv(a,b)},RGB:function(a,b){return f.fromXYZ(e.Luv.XYZ(a,b),b)},XYZ:function(a,
b){return e.Luv.XYZ(a,b)},xyY:function(a,b){return e.XYZ.xyY(e.Luv.XYZ(a,b),b)}},RGB:{CMY:function(a,b){return a.toCmy()},CMYK:function(a,b){return a.toCmyk()},HSL:function(a,b){return a.toHsl()},HSV:function(a,b){return a.toHsv()},Lab:function(a,b){return e.XYZ.Lab(a.toXYZ(b),b)},LCHab:function(a,b){return e.LCHab.Lab(e.XYZ.Lab(a.toXYZ(b),b),b)},LCHuv:function(a,b){return e.LCHuv.Luv(e.XYZ.Luv(a.toXYZ(b),b),b)},Luv:function(a,b){return e.XYZ.Luv(a.toXYZ(b),b)},XYZ:function(a,b){return a.toXYZ(b)},
xyY:function(a,b){return e.XYZ.xyY(a.toXYZ(b),b)}},XYZ:{CMY:function(a,b){return f.fromXYZ(a,b).toCmy()},CMYK:function(a,b){return f.fromXYZ(a,b).toCmyk()},HSL:function(a,b){return f.fromXYZ(a,b).toHsl()},HSV:function(a,b){return f.fromXYZ(a,b).toHsv()},Lab:function(a,b){return e.XYZ.Lab(a,b)},LCHab:function(a,b){return e.Lab.LCHab(e.XYZ.Lab(a,b),b)},LCHuv:function(a,b){return e.Luv.LCHuv(e.XYZ.Luv(a,b),b)},Luv:function(a,b){return e.XYZ.Luv(a,b)},RGB:function(a,b){return f.fromXYZ(a,b)},xyY:function(a,
b){return e.XYZ.xyY(f.fromXYZ(a,b),b)}},xyY:{CMY:function(a,b){return f.fromXYZ(e.xyY.XYZ(a,b),b).toCmy()},CMYK:function(a,b){return f.fromXYZ(e.xyY.XYZ(a,b),b).toCmyk()},HSL:function(a,b){return f.fromXYZ(e.xyY.XYZ(a,b),b).toHsl()},HSV:function(a,b){return f.fromXYZ(e.xyY.XYZ(a,b),b).toHsv()},Lab:function(a,b){return e.Lab.XYZ(e.xyY.XYZ(a,b),b)},LCHab:function(a,b){return e.LCHab.Lab(e.Lab.XYZ(e.xyY.XYZ(a,b),b),b)},LCHuv:function(a,b){return e.LCHuv.Luv(e.Luv.XYZ(e.xyY.XYZ(a,b),b),b)},Luv:function(a,
b){return e.Luv.XYZ(e.xyY.XYZ(a,b),b)},RGB:function(a,b){return f.fromXYZ(e.xyY.XYZ(a,b),b)},XYZ:function(a,b){return e.xyY.XYZ(a,b)}}};this.whitepoint=function(a,b){b=b||"10";var d=0,c=0,e=0;l[b]&&l[b][a]?(d=l[b][a].x,c=l[b][a].y,e=l[b][a].t):console.warn("dojox.color.Colorspace::whitepoint: either the observer or the whitepoint name was not found. ",b,a);return this.convert({x:d,y:c,z:1-d-c,t:e,Y:1},"xyY","XYZ")};this.tempToWhitepoint=function(a){if(4E3>a)return console.warn("dojox.color.Colorspace::tempToWhitepoint: can't find a white point for temperatures less than 4000K. (Passed ",
a,")."),{x:0,y:0};if(25E3<a)return console.warn("dojox.color.Colorspace::tempToWhitepoint: can't find a white point for temperatures greater than 25000K. (Passed ",a,")."),{x:0,y:0};var b=a*a,d=b*a,c=Math.pow(10,9),e=Math.pow(10,6),g=Math.pow(10,3);a=7E3>=a?-4.607*c/d+2.9678*e/b+0.09911*g/a+0.2444063:-2.0064*c/d+1.9018*e/b+0.24748*g/a+0.23704;return{x:a,y:-3*a*a+2.87*a-0.275}};this.primaries=function(a){a=dojo.mixin({profile:"sRGB",whitepoint:"D65",observer:"10",adaptor:"Bradford"},a||{});var b=[];
h[a.profile]?b=h[a.profile].slice(0):console.warn("dojox.color.Colorspace::primaries: the passed profile was not found.  ","Available profiles include: ",h,".  The profile passed was ",a.profile);b={name:a.profile,gamma:b[0],whitepoint:b[1],xr:b[2],yr:b[3],Yr:b[4],xg:b[5],yg:b[6],Yg:b[7],xb:b[8],yb:b[9],Yb:b[10]};if(a.whitepoint!=b.whitepoint)var d=this.convert(this.adapt({color:this.convert({x:xr,y:yr,Y:Yr},"xyY","XYZ"),adaptor:a.adaptor,source:b.whitepoint,destination:a.whitepoint}),"XYZ","xyY"),
c=this.convert(this.adapt({color:this.convert({x:xg,y:yg,Y:Yg},"xyY","XYZ"),adaptor:a.adaptor,source:b.whitepoint,destination:a.whitepoint}),"XYZ","xyY"),e=this.convert(this.adapt({color:this.convert({x:xb,y:yb,Y:Yb},"xyY","XYZ"),adaptor:a.adaptor,source:b.whitepoint,destination:a.whitepoint}),"XYZ","xyY"),b=dojo.mixin(b,{xr:d.x,yr:d.y,Yr:d.Y,xg:c.x,yg:c.y,Yg:c.Y,xb:e.x,yb:e.y,Yb:e.Y,whitepoint:a.whitepoint});return dojo.mixin(b,{zr:1-b.xr-b.yr,zg:1-b.xg-b.yg,zb:1-b.xb-b.yb})};this.adapt=function(a){(!a.color||
!a.source)&&console.error("dojox.color.Colorspace::adapt: color and source arguments are required. ",a);a=dojo.mixin({adaptor:"Bradford",destination:"D65"},a);var b=this.whitepoint(a.source),d=this.whitepoint(a.destination);if(g[a.adaptor])var c=g[a.adaptor].ma,e=g[a.adaptor].mai;else console.warn("dojox.color.Colorspace::adapt: the passed adaptor '",a.adaptor,"' was not found.");b=k.multiply([[b.x,b.y,b.z]],c);d=k.multiply([[d.x,d.y,d.z]],c);c=k.multiply(k.multiply(c,[[d[0][0]/b[0][0],0,0],[0,d[0][1]/
b[0][1],0],[0,0,d[0][2]/b[0][2]]]),e);a=k.multiply([[a.color.X,a.color.Y,a.color.Z]],c)[0];return{X:a[0],Y:a[1],Z:a[2]}};this.matrix=function(a,b){var d=this.whitepoint(b.whitepoint),c=b.xr/b.yr,e=(1-b.xr-b.yr)/b.yr,g=b.xg/b.yg,f=(1-b.xg-b.yg)/b.yg,h=b.xb/b.yb,l=(1-b.xb-b.yb)/b.yb,m=k.multiply([[d.X,d.Y,d.Z]],k.inverse([[c,1,e],[g,1,f],[h,1,l]])),d=m[0][0],q=m[0][1],m=m[0][2],c=[[d*c,1*d,d*e],[q*g,1*q,q*f],[m*h,1*m,m*l]];return"RGB"==a?k.inverse(c):c};this.epsilon=function(a){return a||"undefined"==
typeof a?0.008856:216/24289};this.kappa=function(a){return a||"undefined"==typeof a?903.3:24389/27};this.convert=function(a,b,d,e){if(c[b]&&c[b][d])return c[b][d](a,e);console.warn("dojox.color.Colorspace::convert: Can't convert ",a," from ",b," to ",d,".")}};dojo.mixin(f,{fromXYZ:function(k,l){l=l||{};var h=f.Colorspace.primaries(l),g=f.Colorspace.matrix("RGB",h),e=dojox.math.matrix.multiply([[k.X,k.Y,k.Z]],g),c=e[0][0],g=e[0][1],e=e[0][2];"sRGB"==h.profile?(c=0.0031308<c?1.055*Math.pow(c,1/2.4)-
0.055:12.92*c,g=0.0031308<g?1.055*Math.pow(g,1/2.4)-0.055:12.92*g,h=0.0031308<e?1.055*Math.pow(e,1/2.4)-0.055:12.92*e):(c=Math.pow(c,1/h.gamma),g=Math.pow(g,1/h.gamma),h=Math.pow(e,1/h.gamma));return new f.Color({r:Math.floor(255*c),g:Math.floor(255*g),b:Math.floor(255*h)})}});dojo.extend(f.Color,{toXYZ:function(m){m=m||{};var l=f.Colorspace.primaries(m);m=f.Colorspace.matrix("XYZ",l);var h=this.r/255,g=this.g/255,e=this.b/255;"sRGB"==l.profile?(h=0.04045<h?Math.pow((h+0.055)/1.055,2.4):h/12.92,g=
0.04045<g?Math.pow((g+0.055)/1.055,2.4):g/12.92,l=0.04045<e?Math.pow((e+0.055)/1.055,2.4):e/12.92):(h=Math.pow(h,l.gamma),g=Math.pow(g,l.gamma),l=Math.pow(e,l.gamma));m=k([[h,g,l]],m);return{X:m[0][0],Y:m[0][1],Z:m[0][2]}}});return f.Colorspace})},"dojox/math/matrix":function(){define(["dojo","dojox"],function(f,m){f.getObject("math.matrix",!0,m);f.mixin(m.math.matrix,{iDF:0,ALMOST_ZERO:1E-10,multiply:function(f,m){var l=f.length,h=f[0].length,g=m.length,e=m[0].length;if(h!=g)return console.warn("Can't multiply matricies of sizes "+
h+","+l+" and "+e+","+g),[[0]];for(var g=[],c=0;c<l;c++){g[c]=[];for(var a=0;a<e;a++)for(var b=g[c][a]=0;b<h;b++)g[c][a]+=f[c][b]*m[b][a]}return g},product:function(){if(0==arguments.length)return console.warn("can't multiply 0 matrices!"),1;for(var f=arguments[0],m=1;m<arguments.length;m++)f=this.multiply(f,arguments[m]);return f},sum:function(){if(0==arguments.length)return console.warn("can't sum 0 matrices!"),0;var f=this.copy(arguments[0]),m=f.length;if(0==m)return console.warn("can't deal with matrices of 0 rows!"),
0;var l=f[0].length;if(0==l)return console.warn("can't deal with matrices of 0 cols!"),0;for(var h=1;h<arguments.length;++h){var g=arguments[h];if(g.length!=m||g[0].length!=l)return console.warn("can't add matrices of different dimensions: first dimensions were "+m+"x"+l+", current dimensions are "+g.length+"x"+g[0].length),0;for(var e=0;e<m;e++)for(var c=0;c<l;c++)f[e][c]+=g[e][c]}return f},inverse:function(f){if(1==f.length&&1==f[0].length)return[[1/f[0][0]]];var m=f.length,l=this.create(m,m),h=
this.adjoint(f),g=this.determinant(f);f=0;if(0==g)return console.warn("Determinant Equals 0, Not Invertible."),[[0]];f=1/g;for(g=0;g<m;g++)for(var e=0;e<m;e++)l[g][e]=f*h[g][e];return l},determinant:function(f){if(f.length!=f[0].length)return console.warn("Can't calculate the determinant of a non-squre matrix!"),0;var m=f.length,l=1;f=this.upperTriangle(f);for(var h=0;h<m;h++){var g=f[h][h];if(Math.abs(g)<this.ALMOST_ZERO)return 0;l*=g}return l*=this.iDF},upperTriangle:function(f){f=this.copy(f);
var m=0,m=0,l=f.length,h=1;this.iDF=1;for(var g=0;g<l-1;g++){"number"!=typeof f[g][g]&&console.warn("non-numeric entry found in a numeric matrix: m["+g+"]["+g+"]\x3d"+f[g][g]);for(var h=1,e=0;0==f[g][g]&&!e;)if(g+h>=l)this.iDF=0,e=1;else{for(var c=0;c<l;c++)m=f[g][c],f[g][c]=f[g+h][c],f[g+h][c]=m;h++;this.iDF*=-1}for(h=g+1;h<l;h++)if("number"!=typeof f[h][g]&&console.warn("non-numeric entry found in a numeric matrix: m["+h+"]["+g+"]\x3d"+f[h][g]),"number"!=typeof f[g][h]&&console.warn("non-numeric entry found in a numeric matrix: m["+
g+"]["+h+"]\x3d"+f[g][h]),0!=f[g][g]){m=-1*f[h][g]/f[g][g];for(e=g;e<l;e++)f[h][e]=m*f[g][e]+f[h][e]}}return f},create:function(f,m,l){l=l||0;for(var h=[],g=0;g<m;g++){h[g]=[];for(var e=0;e<f;e++)h[g][e]=l}return h},ones:function(f,m){return this.create(f,m,1)},zeros:function(f,m){return this.create(f,m)},identity:function(f,m){m=m||1;for(var l=[],h=0;h<f;h++){l[h]=[];for(var g=0;g<f;g++)l[h][g]=h==g?m:0}return l},adjoint:function(f){var m=f.length;if(1>=m)return console.warn("Can't find the adjoint of a matrix with a dimension less than 2"),
[[0]];if(f.length!=f[0].length)return console.warn("Can't find the adjoint of a non-square matrix"),[[0]];for(var l=this.create(m,m),h=this.create(m-1,m-1),g=0,e=0,c=0,a=0,b=g=0;b<m;b++)for(var d=0;d<m;d++){for(g=c=0;g<m;g++)if(g!=b){for(e=a=0;e<m;e++)e!=d&&(h[c][a]=f[g][e],a++);c++}g=this.determinant(h);l[b][d]=Math.pow(-1,b+d)*g}return this.transpose(l)},transpose:function(f){for(var m=this.create(f.length,f[0].length),l=0;l<f.length;l++)for(var h=0;h<f[l].length;h++)m[h][l]=f[l][h];return m},format:function(f,
m){m=m||5;for(var l=f.length,h=0<l?f[0].length:0,g="",e=0;e<l;e++){for(var g=g+"| ",c=0;c<h;c++){var a=f[e][c],b=m,d=Math.pow(10,b),a=(Math.round(a*d)/d).toString();"-"!=a.charAt(0)&&(a=" "+a);for(-1<a.indexOf(".")&&(a+=".");a.length<b+3;)a+="0";g+=a+" "}g+="|\n"}return g},copy:function(f){for(var m=f.length,l=f[0].length,h=this.create(l,m),g=0;g<m;g++)for(var e=0;e<l;e++)h[g][e]=f[g][e];return h},scale:function(f,m){f=this.copy(f);for(var l=f.length,h=f[0].length,g=0;g<l;g++)for(var e=0;e<h;e++)f[g][e]*=
m;return f}});return m.math.matrix})},"dojox/charting/themes/PrimaryColors":function(){define(["../Theme","./gradientGenerator","./common"],function(f,m,k){k.PrimaryColors=new f({seriesThemes:m.generateMiniTheme("#f00 #0f0 #00f #ff0 #0ff #f0f ./common".split(" "),{type:"linear",space:"plot",x1:0,y1:0,x2:0,y2:100},90,40,25)});return k.PrimaryColors})},"dojox/charting/Theme":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/Color ./SimpleTheme dojox/color/_base dojox/color/Palette dojox/gfx/gradutils".split(" "),
function(f,m,k,q,l,h){var g=m("dojox.charting.Theme",q,{});f.mixin(g,{defineColors:function(e){e=e||{};var c,a=[],b=e.num||5;if(e.colors){c=e.colors.length;for(var d=0;d<b;d++)a.push(e.colors[d%c]);return a}return e.hue?(a=e.saturation||100,c=((e.high||90)+(e.low||30))/2,h.generate(l.fromHsv(e.hue,a,c),"monochromatic").colors):e.generator?l.Palette.generate(e.base,e.generator).colors:a},generateGradient:function(e,c,a){e=f.delegate(e);e.colors=[{offset:0,color:c},{offset:1,color:a}];return e},generateHslColor:function(e,
c){e=new k(e);var a=e.toHsl(),a=l.fromHsl(a.h,a.s,c);a.a=e.a;return a},generateHslGradient:function(e,c,a,b){e=new k(e);var d=e.toHsl();a=l.fromHsl(d.h,d.s,a);b=l.fromHsl(d.h,d.s,b);a.a=b.a=e.a;return g.generateGradient(c,a,b)}});g.defaultMarkers=q.defaultMarkers;g.defaultColors=q.defaultColors;g.defaultTheme=q.defaultTheme;return g})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),
function(f,m,k,q,l,h){var g=k("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(e){e=e||{};var c=g.defaultTheme;m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(a){this[a]=f.delegate(c[a],e[a])},this);e.seriesThemes&&e.seriesThemes.length?(this.colors=null,this.seriesThemes=e.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(e.colors||g.defaultColors).slice(0));this.markerThemes=null;e.markerThemes&&e.markerThemes.length&&
(this.markerThemes=e.markerThemes.slice(0));this.markers=e.markers?f.clone(e.markers):f.delegate(g.defaultMarkers);this.noGradConv=e.noGradConv;this.noRadialConv=e.noRadialConv;e.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var e=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,
markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});m.forEach("clone clear next skip addMixin post getTick".split(" "),function(c){this.hasOwnProperty(c)&&(e[c]=this[c])},this);return e},clear:function(){this._current=0},next:function(e,c,a){var b=l.merge,d;if(this.colors){d=f.delegate(this.series);var b=f.delegate(this.marker),g=new q(this.colors[this._current%this.colors.length]),h;d.stroke&&d.stroke.color?(d.stroke=f.delegate(d.stroke),h=new q(d.stroke.color),
d.stroke.color=new q(g),d.stroke.color.a=h.a):d.stroke={color:g};b.stroke&&b.stroke.color?(b.stroke=f.delegate(b.stroke),h=new q(b.stroke.color),b.stroke.color=new q(g),b.stroke.color.a=h.a):b.stroke={color:g};!d.fill||d.fill.type?d.fill=g:(h=new q(d.fill),d.fill=new q(g),d.fill.a=h.a);!b.fill||b.fill.type?b.fill=g:(h=new q(b.fill),b.fill=new q(g),b.fill.a=h.a)}else d=this.seriesThemes?b(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,b=this.markerThemes?b(this.marker,
this.markerThemes[this._current%this.markerThemes.length]):d;d={series:d,marker:b,symbol:b&&b.symbol||this._markers[this._current%this._markers.length]};++this._current;c&&(d=this.addMixin(d,e,c));a&&(d=this.post(d,e));return d},skip:function(){++this._current},addMixin:function(e,c,a,b){if(f.isArray(a))m.forEach(a,function(a){e=this.addMixin(e,c,a)},this);else{var d={};"color"in a&&("line"==c||"area"==c?(f.setObject("series.stroke.color",a.color,d),f.setObject("marker.stroke.color",a.color,d)):f.setObject("series.fill",
a.color,d));m.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(b){var c="marker"+b.charAt(0).toUpperCase()+b.substr(1),e=c in a;b in a&&(f.setObject("series."+b,a[b],d),e||f.setObject("marker."+b,a[b],d));e&&f.setObject("marker."+b,a[c],d)});"marker"in a&&(d.symbol=a.marker,d.symbol=a.marker);e=l.merge(e,d)}b&&(e=this.post(e,c));return e},post:function(e,c){var a=e.series.fill,b;if(!this.noGradConv&&this.shapeSpaces[a.space]&&"linear"==a.type){if("bar"==c)b=
{x1:a.y1,y1:a.x1,x2:a.y2,y2:a.x2};else if(!this.noRadialConv&&"shape"==a.space&&("slice"==c||"circle"==c))b={type:"radial",cx:0,cy:0,r:100};if(b)return l.merge(e,{series:{fill:b}})}return e},getTick:function(e,c){var a=this.axis.tick,b=e+"Tick",d=l.merge;a?this.axis[b]&&(a=d(a,this.axis[b])):a=this.axis[b];c&&(a?c[b]&&(a=d(a,c[b])):a=c[b]);return a},inspectObjects:function(e){m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(c){e(this[c])},this);this.seriesThemes&&m.forEach(this.seriesThemes,
e);this.markerThemes&&m.forEach(this.markerThemes,e)},reverseFills:function(){this.inspectObjects(function(e){e&&e.fill&&(e.fill=h.reverse(e.fill))})},addMarker:function(e,c){this.markers[e]=c;this._buildMarkerArray()},setMarkers:function(e){this.markers=e;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var e in this.markers)this._markers.push(this.markers[e])}});f.mixin(g,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",
DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",
fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",
fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}}});return g})},"dojox/lang/utils":function(){define(["..",
"dojo/_base/lang"],function(f,m){var k=m.getObject("lang.utils",!0,f),q={},l=Object.prototype.toString,h=function(g){if(g)switch(l.call(g)){case "[object Array]":return g.slice(0);case "[object Object]":return m.delegate(g)}return g};m.mixin(k,{coerceType:function(g,e){switch(typeof g){case "number":return Number(eval("("+e+")"));case "string":return String(e);case "boolean":return Boolean(eval("("+e+")"))}return eval("("+e+")")},updateWithObject:function(g,e,c){if(!e)return g;for(var a in g)if(a in
e&&!(a in q)){var b=g[a];b&&"object"==typeof b?k.updateWithObject(b,e[a],c):g[a]=c?k.coerceType(b,e[a]):h(e[a])}return g},updateWithPattern:function(g,e,c,a){if(!e||!c)return g;for(var b in c)b in e&&!(b in q)&&(g[b]=a?k.coerceType(c[b],e[b]):h(e[b]));return g},merge:function(g,e){if(e){var c=l.call(g),a=l.call(e),b,d;switch(a){case "[object Array]":if(a==c){c=Array(Math.max(g.length,e.length));b=0;for(a=c.length;b<a;++b)c[b]=k.merge(g[b],e[b]);return c}return e.slice(0);case "[object Object]":if(a==
c&&g){c=m.delegate(g);for(b in e)b in g?(a=g[b],d=e[b],d!==a&&(c[b]=k.merge(a,d))):c[b]=m.clone(e[b]);return c}return m.clone(e)}}return e}});return k})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(f,m,k,q){function l(f,g){if(0>=f)return g[0].color;var e=g.length;if(1<=f)return g[e-1].color;for(var c=0;c<e;++c){var a=g[c];if(a.offset>=f)return c?(e=g[c-1],q.blendColors(new q(e.color),new q(a.color),(f-e.offset)/(a.offset-e.offset))):
a.color}return g[e-1].color}f=f.gradutils={};f.getColor=function(f,g){var e;if(f){switch(f.type){case "linear":e=Math.atan2(f.y2-f.y1,f.x2-f.x1);e=k.rotate(-e);var c=k.project(f.x2-f.x1,f.y2-f.y1),a=k.multiplyPoint(c,g),b=k.multiplyPoint(c,f.x1,f.y1),c=k.multiplyPoint(c,f.x2,f.y2),c=k.multiplyPoint(e,c.x-b.x,c.y-b.y).x;e=k.multiplyPoint(e,a.x-b.x,a.y-b.y).x/c;break;case "radial":e=g.x-f.cx,a=g.y-f.cy,e=Math.sqrt(e*e+a*a)/f.r}return l(e,f.colors)}return new q(f||[0,0,0,0])};f.reverse=function(f){if(f)switch(f.type){case "linear":case "radial":if(f=
m.delegate(f),f.colors){for(var g=f.colors,e=g.length,c=0,a,b=f.colors=Array(g.length);c<e;++c)a=g[c],b[c]={offset:1-a.offset,color:a.color};b.sort(function(a,b){return a.offset-b.offset})}}return f};return f})},"dojox/charting/themes/gradientGenerator":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color ../Theme dojox/color/_base ./common".split(" "),function(f,m,k,q,l,h){f=f.getObject("gradientGenerator",!0,h);f.generateFills=function(g,e,c,a){return m.map(g,function(b){return q.generateHslGradient(b,
e,c,a)})};f.updateFills=function(g,e,c,a){m.forEach(g,function(b){b.fill&&!b.fill.type&&(b.fill=q.generateHslGradient(b.fill,e,c,a))})};f.generateMiniTheme=function(g,e,c,a,b){return m.map(g,function(d){d=new l.Color(d);return{fill:q.generateHslGradient(d,e,c,a),stroke:{color:q.generateHslColor(d,b)}}})};f.generateGradientByIntensity=function(g,e){g=new k(g);return m.map(e,function(c){var a=c.i/255;return{offset:c.o,color:new k([g.r*a,g.g*a,g.b*a,g.a])}})};return f})},"dojox/charting/themes/common":function(){define(["dojo/_base/lang"],
function(f){return f.getObject("dojox.charting.themes",!0)})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s){var x=k("dijit.layout._Splitter",[n,r],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=m(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=
this.horizontal?"h":"w",b=h.getMarginBox(this.child.domNode)[a],d=f.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],a=h.getContentBox(d.domNode)[a]-10;return Math.min(this.child.maxSize,b+a)},_startDrag:function(d){this.cover||(this.cover=l.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));q.add(this.cover,"dijitSplitterCoverActive");this.fake&&l.destroy(this.fake);if(!(this._resize=this.live))(this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),
q.add(this.domNode,"dijitSplitterShadow"),l.place(this.fake,this.domNode,"after");q.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");this.fake&&q.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var e=this._factor,f=this.horizontal,k=f?"pageY":"pageX",n=d[k],m=this.domNode.style,f=f?"h":"w",r=g.getComputedStyle(this.child.domNode),s=h.getMarginBox(this.child.domNode,r)[f],t=this._computeMaxSize(),u=Math.max(this.child.minSize,
h.getPadBorderExtents(this.child.domNode,r)[f]+10),f=this.region,x="top"==f||"bottom"==f?"top":"left",J=parseInt(m[x],10),L=this._resize,K=c.hitch(this.container,"_layoutChildren",this.child.id),f=this.ownerDocument;this._handlers=this._handlers.concat([a(f,b.move,this._drag=function(a,b){var d=a[k]-n,c=e*d+s,g=Math.max(Math.min(c,t),u);(L||b)&&K(g);m[x]=d+J+e*(g-c)+"px"}),a(f,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),a(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();
a.preventDefault()}),a(f,b.release,c.hitch(this,"_stopDrag"))]);d.stopPropagation();d.preventDefault()},_onMouse:function(a){a="mouseover"==a.type||"mouseenter"==a.type;q.toggle(this.domNode,"dijitSplitterHover",a);q.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&q.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&l.destroy(this.fake),q.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),
this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&m(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var b=this.horizontal,d=1;switch(a.keyCode){case b?e.UP_ARROW:e.LEFT_ARROW:d*=-1;case b?e.DOWN_ARROW:e.RIGHT_ARROW:break;default:return}b=h.getMarginSize(this.child.domNode)[b?"h":"w"]+this._factor*
d;this.container._layoutChildren(this.child.id,Math.max(Math.min(b,this._computeMaxSize()),this.child.minSize));a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),u=k("dijit.layout._Gutter",[n,r],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},
buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}});k=k("dijit.layout.BorderContainer",t,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:x,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var b=a.region,d=a.isLeftToRight();"leading"==b&&(b=d?"left":"right");"trailing"==b&&(b=d?"right":"left");if(b&&
"center"!=b&&(a.splitter||this.gutters)&&!a._splitterWidget)d=a.splitter?this._splitterClass:u,c.isString(d)&&(d=c.getObject(d)),d=new d({id:a.id+"_splitter",container:this,child:a,region:b,live:this.liveSplitters}),d.isSplitter=!0,a._splitterWidget=d,b="bottom"==b||b==(this.isLeftToRight()?"right":"left"),l.place(d.domNode,a.domNode,b?"before":"after"),d.startup()},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);
this.inherited(arguments)},getChildren:function(){return f.filter(this.inherited(arguments),function(a){return!a.isSplitter})},getSplitter:function(a){return f.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var d=this.domNode;this.cs=g.getComputedStyle(d);this.pe=h.getPadExtents(d,this.cs);this.pe.r=g.toPixelValue(d,this.cs.paddingRight);this.pe.b=g.toPixelValue(d,this.cs.paddingBottom);g.set(d,"padding","0px")}this.inherited(arguments)},
_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var d=[];f.forEach(this._getOrderedChildren(),function(a){d.push(a);a._splitterWidget&&d.push(a._splitterWidget)});s.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},d,a,b)}},destroyRecursive:function(){f.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});k.ChildWidgetProperties={splitter:!1,
minSize:0,maxSize:Infinity};c.mixin(k.ChildWidgetProperties,t.ChildWidgetProperties);c.extend(d,k.ChildWidgetProperties);k._Splitter=x;k._Gutter=u;return k})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(f,m){f.cookie=function(f,q,l){var h=document.cookie,g;if(1==arguments.length)g=(g=h.match(RegExp("(?:^|; )"+m.escapeString(f)+"\x3d([^;]*)")))?decodeURIComponent(g[1]):void 0;else{l=l||{};h=l.expires;if("number"==typeof h){var e=new Date;e.setTime(e.getTime()+864E5*h);h=
l.expires=e}h&&h.toUTCString&&(l.expires=h.toUTCString());q=encodeURIComponent(q);var h=f+"\x3d"+q,c;for(c in l)h+="; "+c,e=l[c],!0!==e&&(h+="\x3d"+e);document.cookie=h}return g};f.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return f.cookie})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),
function(f,m,k,q,l,h,g,e){m=m("dijit.layout.LayoutContainer",g,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(f.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(c){this.inherited(arguments);c.region&&k.add(c.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var c=f.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:
-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);c.sort(function(a,b){for(var d=a.weight,c=b.weight,e=0;e<d.length;e++)if(d[e]!=c[e])return d[e]-c[e];return 0});return f.map(c,function(a){return a.pane})},layout:function(){e.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(c,a){this.inherited(arguments);this._started&&this.layout()},removeChild:function(c){this.inherited(arguments);this._started&&this.layout();k.remove(c.domNode,this.baseClass+"Pane");q.set(c.domNode,
{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});q.set(c.domNode,/top|bottom/.test(c.region)?"width":"height","auto")}});m.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};l.extend(h,m.ChildWidgetProperties);return m})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(f,m,k,q,l,h,g,e,c){return h("dijit.layout._LayoutWidget",
[m,k,q],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(l.on("resize",f.hitch(this,"resize")))}},resize:function(a,b){var d=this.domNode;a&&e.setMarginBox(d,a);var g=b||{};f.mixin(g,a||{});if(!("h"in g)||!("w"in g))g=f.mixin(e.getMarginBox(d),g);var h=
c.getComputedStyle(d),k=e.getMarginExtents(d,h),l=e.getBorderExtents(d,h),g=this._borderBox={w:g.w-(k.w+l.w),h:g.h-(k.h+l.h)},k=e.getPadExtents(d,h);this._contentBox={l:c.toPixelValue(d,h.paddingLeft),t:c.toPixelValue(d,h.paddingTop),w:g.w-k.w,h:g.h-k.h};this.layout()},layout:function(){},_setupChild:function(a){g.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){g.remove(a.domNode,
this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(f,m){return f("dijit._Contained",null,{_getSibling:function(f){var q=this.domNode;do q=q[f+"Sibling"];while(q&&1!=q.nodeType);return q&&m.byNode(q)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var f=this.getParent();
return!f||!f.getIndexOfChild?-1:f.getIndexOfChild(this)}})})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(f,m,k,q){var l=m("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(f){if(this._hash[f.id])throw Error("Tried to register widget with id\x3d\x3d"+f.id+" but that id is already registered");this._hash[f.id]=f;this.length++},remove:function(f){this._hash[f]&&(delete this._hash[f],this.length--)},
forEach:function(f,g){g=g||k.global;var e=0,c;for(c in this._hash)f.call(g,this._hash[c],e++,this._hash);return this},filter:function(f,g){g=g||k.global;var e=new l,c=0,a;for(a in this._hash){var b=this._hash[a];f.call(g,b,c++,this._hash)&&e.add(b)}return e},byId:function(f){return this._hash[f]},byClass:function(f){var g=new l,e,c;for(e in this._hash)c=this._hash[e],c.declaredClass==f&&g.add(c);return g},toArray:function(){var f=[],g;for(g in this._hash)f.push(this._hash[g]);return f},map:function(h,
g){return f.map(this.toArray(),h,g)},every:function(f,g){g=g||k.global;var e=0,c;for(c in this._hash)if(!f.call(g,this._hash[c],e++,this._hash))return!1;return!0},some:function(f,g){g=g||k.global;var e=0,c;for(c in this._hash)if(f.call(g,this._hash[c],e++,this._hash))return!0;return!1}});f.forEach("forEach filter byClass map every some".split(" "),function(f){q[f]=l.prototype[f]});return l})},"esri/dijit/Attribution":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/query dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-geometry esri/kernel esri/lang esri/SpatialReference esri/geometry/webMercatorUtils esri/geometry/Extent".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u){f=f(null,{declaredClass:"esri.dijit.Attribution",itemDelimiter:" | ",listClass:"esriAttributionList",itemClass:"esriAttributionItem",lastItemClass:"esriAttributionLastItem",delimiterClass:"esriAttributionDelim",constructor:function(a,b){try{m.mixin(this,a);this._attributions={};this._pendingDfds={};this._activeLayers=[];this._sharedLayers=[];var d=this.domNode=e.byId(b),f=this.map,g="\x3cspan class\x3d'"+this.listClass+"'\x3e\x3c/span\x3e";d&&(c.set(d,
"innerHTML",g),this.listNode=l.query(".esriAttributionList",d)[0],this.itemNodes={});this._eventConnections=[q.connect(f,"onLayerAdd",this,this._onLayerAdd),q.connect(f,"onLayerRemove",this,this._onLayerRemove),q.connect(f,"onLayerSuspend",this,this._onLayerSuspend),q.connect(f,"onLayerResume",this,this._onLayerResume),q.connect(f,"onExtentChange",this,this._onExtentChange)];if(f.loaded){var h=f.layerIds.concat(f.graphicsLayerIds),k,n,r=h.length;for(n=0;n<r;n++)k=f.getLayer(h[n]),k.loaded&&this._onLayerAdd(k)}}catch(s){}},
startup:function(){},destroy:function(){k.forEach(this._eventConnections,q.disconnect);a.destroy(this.listNode);this.map=this.domNode=this._eventConnections=this.listNode=this._attributions=this._pendingDfds=this.itemNodes=this._activeLayers=this._lastItem=this._sharedLayers=null},_onLayerAdd:function(a){try{var b=this._attributions,d=a.id;if(!t.isDefined(b[d])&&a.showAttribution)if(a.hasAttributionData){var c=a.getAttributionData();this._pendingDfds[d]=1;b[d]=c;c.addBoth(m.partial(this._onAttributionLoad,
this,a))}else b[d]=a.copyright||a.copyrightText||"",b[d]?(a.suspended||this._activeLayers.push(d),this._createNode(d)):this._onLayerRemove(a)}catch(e){}},_onAttributionLoad:function(a,b,d){var c=a._attributions,e=a._pendingDfds,f=b.id;if(e&&e[f]){delete e[f];if(!d||d instanceof Error)d="";c[f]=d?a._createIndexByLevel(d,-1!==b.declaredClass.toLowerCase().indexOf("vetiledlayer")):b.copyright||b.copyrightText||"";c[f]?(b.suspended||a._activeLayers.push(f),a._createNode(f)):a._onLayerRemove(b)}},_onLayerRemove:function(b){try{var d=
b.id,c=this.itemNodes,e,f=-1;this._onLayerSuspend(b);delete this._attributions[d];delete this._pendingDfds[d];e=this._getGroupIndex(d);-1!==e&&(f=k.indexOf(this._sharedLayers[e],d),-1!==f&&(this._sharedLayers[e].splice(f,1),1>=this._sharedLayers[e].length&&this._sharedLayers.splice(e,1)));c[d]&&-1===f&&a.destroy(c[d]);delete c[d];this._updateLastItem()}catch(g){}},_onLayerSuspend:function(a){try{var b=a.id;if(this._attributions[b]){var d=k.indexOf(this._activeLayers,b),c=this.itemNodes[b];-1!==d&&
this._activeLayers.splice(d,1);c&&this._toggleItem(c,!1,this._getGroupIndex(b))}}catch(e){}},_onLayerResume:function(a){try{var b=a.id,d=this._attributions[b],e=this.itemNodes[b];if(d&&(-1===k.indexOf(this._activeLayers,b)&&this._activeLayers.push(b),e)){var f=m.isString(d)?d:this._getContributorsList(d,this.map.extent,this.map.getLevel());m.isString(d)||c.set(e,"innerHTML",f?f+this._getDelimiter():"");f&&this._toggleItem(e,!0,this._getGroupIndex(b))}}catch(g){}},_onExtentChange:function(a,b,d,e){try{var f=
this._activeLayers,g=this._attributions,h=this.itemNodes,k,l,n,q,r=f.length||0;for(q=0;q<r;q++)if(l=f[q],n=g[l],(k=h[l])&&!m.isString(n)){var s=this._getContributorsList(n,a,e?e.level:-1);c.set(k,"innerHTML",s?s+this._getDelimiter():"");this._toggleItem(k,!!s,-1)}}catch(t){}this._adjustCursorStyle()},_createNode:function(b){if(this.domNode){var d=this._checkShareInfo(b),c=d&&d.sharedWith,c=c&&this.itemNodes[c],e=this.map,f=this._attributions[b],f=m.isString(f)?f:this._getContributorsList(f,e.extent,
e.getLevel()),e=!!f&&!e.getLayer(b).suspended;c?(this.itemNodes[b]=c,this._toggleItem(c,e,d.index)):(b=this.itemNodes[b]=a.create("span",{"class":this.itemClass,innerHTML:f?f+this._getDelimiter():"",style:{display:e?"inline":"none"}},this.listNode),e&&this._setLastItem(b));this._adjustCursorStyle()}},_checkShareInfo:function(a){var b=this._attributions,d,c,e=-1,f=b[a],g;if(f&&m.isString(f)){for(c in b)if(d=b[c],c!==a&&d&&m.isString(d)&&d.length===f.length&&d.toLowerCase()===f.toLowerCase()){g=c;break}b=
this._sharedLayers;d=b.length;if(g){for(c=0;c<d;c++)if(f=b[c],-1!==k.indexOf(f,g)){e=c;f.push(a);break}-1===e&&(e=b.push([g,a])-1)}}return-1<e?{index:e,sharedWith:g}:null},_getGroupIndex:function(a){var b=this._sharedLayers,d,c=b.length,e=-1;for(d=0;d<c;d++)if(-1!==k.indexOf(b[d],a)){e=d;break}return e},_getDelimiter:function(){var a=this.itemDelimiter;return a?"\x3cspan class\x3d'"+this.delimiterClass+"'\x3e"+a+"\x3c/span\x3e":""},_toggleItem:function(a,d,c){if(-1<c&&!d){c=this._sharedLayers[c];
var e,f=c.length,g=this._activeLayers;for(e=0;e<f;e++)if(-1!==k.indexOf(g,c[e]))return}b.set(a,"display",d?"inline":"none");this._updateLastItem()},_updateLastItem:function(){var a=this.listNode.childNodes,d;d=a.length;var c;if(d)for(d-=1;0<=d;d--)if(c=a[d],"none"!==b.get(c,"display")){this._setLastItem(c);break}this._adjustCursorStyle()},_setLastItem:function(a){var b=this.itemClass,c=this.lastItemClass;this._lastItem&&d.replace(this._lastItem,b,c);a&&(d.replace(a,c,b),this._lastItem=a)},_createIndexByLevel:function(a,
b){var d=a.contributors,c,e,f,g,h=d?d.length:0,k,l,n=new s(4326),m={},q;for(g=0;g<h;g++){c=d[g];l=(e=c.coverageAreas)?e.length:0;for(k=0;k<l;k++){f=e[k];q=f.bbox;q={extent:x.geographicToWebMercator(new u(q[1],q[0],q[3],q[2],n)),attribution:c.attribution||"",zoomMin:f.zoomMin-(b&&f.zoomMin?1:0),zoomMax:f.zoomMax-(b&&f.zoomMax?1:0),score:t.isDefined(f.score)?f.score:100,objectId:g};for(f=q.zoomMin;f<=q.zoomMax;f++)m[f]=m[f]||[],m[f].push(q)}}return m},_getContributorsList:function(a,b,d){var c="";if(b&&
t.isDefined(d)&&-1<d){a=a[d];d=b.getCenter().normalize();for(var e=a?a.length:0,f=[],g={},c=0;c<e;c++)b=a[c],!g[b.objectId]&&b.extent.contains(d)&&(g[b.objectId]=1,f.push(b));f.sort(function(a,b){return b.score-a.score||a.objectId-b.objectId});e=f.length;for(c=0;c<e;c++)f[c]=f[c].attribution;c=f.join(", ")}return c},_adjustCursorStyle:function(){var a=n.position(this.listNode.parentNode,!0).h;d.contains(this.listNode.parentNode,"esriAttributionOpen")?(d.remove(this.listNode.parentNode,"esriAttributionOpen"),
a>n.position(this.listNode.parentNode,!0).h?(b.set(this.listNode.parentNode,"cursor","pointer"),d.add(this.listNode.parentNode,"esriAttributionOpen")):b.set(this.listNode.parentNode,"cursor","default")):(d.add(this.listNode.parentNode,"esriAttributionOpen"),a<n.position(this.listNode.parentNode,!0).h?b.set(this.listNode.parentNode,"cursor","pointer"):b.set(this.listNode.parentNode,"cursor","default"),d.remove(this.listNode.parentNode,"esriAttributionOpen"))}});h("extend-esri")&&m.setObject("dijit.Attribution",
f,r);return f})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s,x,u,z,y,w){var D=m("dijit.form._SliderMover",b,{onMouseMove:function(a){var b=
this.widget,d=b._abspos;d||(d=b._abspos=l.position(b.sliderBarContainer,!0),b._setPixelValue_=e.hitch(b,"_setPixelValue"),b._isReversed_=b._isReversed());a=a[b._mousePixelCoord]-d[b._startingPixelCoord];b._setPixelValue_(b._isReversed_?d[b._pixelCount]-a:a,d[b._pixelCount],!1)},destroy:function(a){b.prototype.destroy.apply(this,arguments);var d=this.widget;d._abspos=null;d._setValueAttr(d.value,!0)}});k=m("dijit.form.HorizontalSlider",[z,y],{templateString:w,value:0,showButtons:!0,minimum:0,maximum:100,
discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:t.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,
!0)},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.keyCode){case g.HOME:this._setValueAttr(this.minimum,!1);break;case g.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?g.RIGHT_ARROW:g.LEFT_ARROW:case !1===this._descending?g.DOWN_ARROW:g.UP_ARROW:case !1===this._descending?g.PAGE_DOWN:g.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?g.LEFT_ARROW:g.RIGHT_ARROW:case !1===this._descending?
g.UP_ARROW:g.DOWN_ARROW:case !1===this._descending?g.PAGE_UP:g.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){!this.disabled&&!this.readOnly&&(c("ie")||s.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&!this.readOnly&&this.clickSelect){s.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var b=l.position(this.sliderBarContainer,
!0),d=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._setPixelValue(this._isReversed()?b[this._pixelCount]-d:d,b[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,d){if(!this.disabled&&!this.readOnly){var c=this.discreteValues;if(1>=c||Infinity==c)c=b;c--;a=Math.round(a/(b/c));this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/c+this.minimum,this.maximum),this.minimum),d)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=
a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var d=(a-this.minimum)/(this.maximum-this.minimum),c=!1===this._descending?this.remainingBar:this.progressBar,e=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(b&&0<this.slideDuration&&c.style[this._progressPixelSize]){var f=this,g={},h=parseFloat(c.style[this._progressPixelSize]),k=this.slideDuration*(d-h/100);0!=k&&(0>
k&&(k=0-k),g[this._progressPixelSize]={start:h,end:100*d,units:"%"},this._inProgressAnim=q.animateProperty({node:c,duration:k,onAnimate:function(a){e.style[f._progressPixelSize]=100-parseFloat(a[f._progressPixelSize])+"%"},onEnd:function(){delete f._inProgressAnim},properties:g}),this._inProgressAnim.play())}else c.style[this._progressPixelSize]=100*d+"%",e.style[this._progressPixelSize]=100*(1-d)+"%"},_bumpValue:function(a,b){if(!this.disabled&&!this.readOnly){var d=h.getComputedStyle(this.sliderBarContainer),
c=l.getContentBox(this.sliderBarContainer,d),d=this.discreteValues;if(1>=d||Infinity==d)d=c[this._pixelCount];d--;c=(this.value-this.minimum)*d/(this.maximum-this.minimum)+a;0>c&&(c=0);c>d&&(c=d);c=c*(this.maximum-this.minimum)/d+this.minimum;this._setValueAttr(c,b)}},_onClkBumper:function(a){!this.disabled&&(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===
this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==g.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==g.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||(f.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},
_typematicCallback:function(a,b,d){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](d)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=d('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",
this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(x.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),x.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(r(this.domNode,n.wheel,e.hitch(this,"_mouseWheeled")));var b=m(D,{widget:this});this._movable=new a(this.sliderHandle,{mover:b});this._layoutHackIE7()},destroy:function(){this._movable.destroy();
this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});k._Mover=D;return k})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(f,m,k,q,l){var h={};f.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(f){h[f]=q[f]});k.mixin(h,{defaultDuration:m.defaultDuration||200});k.mixin(l,h);return l})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare",
"dojo/sniff","./_FormWidget","./_FormValueMixin"],function(f,m,k,q){return f("dijit.form._FormValueWidget",[k,q],{_layoutHackIE7:function(){if(7==m("ie"))for(var f=this.domNode,h=f.parentNode,g=f.firstChild||f,e=g.style.filter,c=this;h&&0==h.clientHeight;)(function(){var a=c.connect(h,"onscroll",function(){c.disconnect(a);g.style.filter=(new Date).getMilliseconds();c.defer(function(){g.style.filter=e})})})(),h=h.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),
function(f,m,k,q,l,h,g){return f("dijit.form._FormValueMixin",g,{readOnly:!1,_setReadOnlyAttr:function(e){m.set(this.focusNode,"readOnly",e);this._set("readOnly",e)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(e,c){this._handleOnChange(e,c)},_handleOnChange:function(e,c){this._set("value",e);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=
!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/VerticalSlider":function(){define(["dojo/_base/declare","./HorizontalSlider","dojo/text!./templates/VerticalSlider.html"],function(f,m,k){return f("dijit.form.VerticalSlider",m,{templateString:k,_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:!0,_isReversed:function(){return this._descending}})})},"dijit/form/HorizontalRule":function(){define(["dojo/_base/declare",
"../_Widget","../_TemplatedMixin"],function(f,m,k){return f("dijit.form.HorizontalRule",[m,k],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:3,container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',_genHTML:function(f){return this._positionPrefix+f+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,buildRendering:function(){this.inherited(arguments);
var f;if(1==this.count)f=this._genHTML(50,0);else{var k,h=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){f=this._genHTML(0,0);for(k=1;k<this.count-1;k++)f+=this._genHTML(h*k,k);f+=this._genHTML(100,this.count-1)}else{f=this._genHTML(100,0);for(k=1;k<this.count-1;k++)f+=this._genHTML(100-h*k,k);f+=this._genHTML(0,this.count-1)}}this.domNode.innerHTML=f}})})},"dijit/form/VerticalRule":function(){define(["dojo/_base/declare","./HorizontalRule"],function(f,m){return f("dijit.form.VerticalRule",
m,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerV"\x3e\x3c/div\x3e',_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkV" style\x3d"top:',_isHorizontal:!1})})},"dijit/form/HorizontalRuleLabels":function(){define("dojo/_base/declare dojo/has dojo/number dojo/query dojo/_base/lang ./HorizontalRule".split(" "),function(f,m,k,q,l,h){f=f("dijit.form.HorizontalRuleLabels",h,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"\x3e\x3c/div\x3e',
labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerH" style\x3d"left:',_labelPrefix:'"\x3e\x3cdiv class\x3d"dijitRuleLabel dijitRuleLabelH"\x3e',_suffix:"\x3c/div\x3e\x3c/div\x3e",_calcPosition:function(f){return f},_genHTML:function(f,e){var c=this.labels[e];return this._positionPrefix+this._calcPosition(f)+this._positionSuffix+this.labelStyle+this._genDirectionHTML(c)+this._labelPrefix+
c+this._suffix},_genDirectionHTML:function(f){return""},getLabels:function(){var f=this.labels;!f.length&&this.srcNodeRef&&(f=q("\x3e li",this.srcNodeRef).map(function(a){return String(a.innerHTML)}));if(!f.length&&1<this.count)for(var e=this.minimum,c=(this.maximum-e)/(this.count-1),a=0;a<this.count;a++)f.push(a<this.numericMargin||a>=this.count-this.numericMargin?"":k.format(e,this.constraints)),e+=c;return f},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();
this.count=this.labels.length}});m("dojo-bidi")&&f.extend({_setTextDirAttr:function(f){this.textDir!=f&&(this._set("textDir",f),q(".dijitRuleLabelContainer",this.domNode).forEach(l.hitch(this,function(e){e.style.direction=this.getTextDir(e.innerText||e.textContent||"")})))},_genDirectionHTML:function(f){return this.textDir?"direction:"+this.getTextDir(f)+";":""}});return f})},"dijit/form/VerticalRuleLabels":function(){define(["dojo/_base/declare","./HorizontalRuleLabels"],function(f,m){return f("dijit.form.VerticalRuleLabels",
m,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerV dijitRuleLabelsContainer dijitRuleLabelsContainerV"\x3e\x3c/div\x3e',_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerV" style\x3d"top:',_labelPrefix:'"\x3e\x3cspan class\x3d"dijitRuleLabel dijitRuleLabelV"\x3e',_calcPosition:function(f){return 100-f},_isHorizontal:!1})})},"esri/plugins/spatialIndex":function(){define(["esri/process/SpatialIndex","dojo/Deferred"],function(f,m){return{add:function(k,
q){q=q||{};if(k.spatialIndex)return k.spatialIndex;if("spatialIndex"in q){if(!1!==q.spatialIndex)return k.spatialIndex=q.spatialIndex,k.spatialIndex}else{var l=new m;q.autostart=!1;k.spatialIndex=new f(q);var h=k.spatialIndex;-1<k.declaredClass.indexOf("Map")?h.setMap(k):h.addLayer(k);h.on("start",function(){l.resolve(h)});h.start();return l}},remove:function(f){var m=f.spatialIndex;m&&(-1<f.declaredClass.indexOf("Map")?m.unsetMap(f):m.remove(f),f.spatialIndex=void 0)}}})},"esri/process/SpatialIndex":function(){define("esri/sniff esri/kernel dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/_base/array esri/process/Processor esri/workers/RequestClient esri/workers/WorkerClient esri/layers/FeatureLayer".split(" "),
function(f,m,k,q,l,h,g,e,c,a){return k([g],{declaredClass:"esri.process.SpatialIndex",index:null,indexType:"rtree",workerCallback:["esri/workers/scripts/helpers","esri/workers/scripts/indexInterface","esri/workers/indexWorker"],autostart:!1,constructor:function(a){a=a||{};var d=!1!==a.autostart;l.mixin(this,a);if(!this.fetchWithWorker){var e=this;this.workerClient=new c("esri/workers/mutableWorker",!0);this.workerCallback.push("esri/workers/libs/"+this.indexType);this.workerClient.importScripts(this.workerCallback).then(function(){e._attachedSystem=
!0;d&&e.start()})}this._featCache={}},addLayer:function(b,d){if(b.graphics&&b.graphics.length||d||b.isInstanceOf(a))if(this._attachedSystem)this.inherited(arguments,[b]);else{var c=this.workerClient,e=this;this.inherited(arguments,[b,!0]);c.importScripts("esri/workers/libs/"+this.indexType).then(function(){e.runProcess(b.grahics,b.id);e._attachedSystem=!0})}},unsetMap:function(){this.stop();this.workerClient.terminate();this.fetchWithWorker||(this.workerClient=new c(this.workerCallback,!0));this.inherited(arguments);
this.start()},removeLayer:function(a){this.inherited(arguments)},runProcess:function(a,d){if(a&&a.length){var c=this,e=this.workerClient,f=a[0]._graphicsLayer;!d&&0!==d&&(d=f?f.id:"rawFeatures_"+Object.keys(this._featCache).length);this._featCache[d]||(this._featCache[d]={});for(var g,h,k=[],l=a.length,m=f&&f.objectIdField;l--;)if(h=a[l],g=h.attributes[m],null==g||!this._featCache[d][g])this._featCache[d][g]=1,h.declaredClass?k.push({geometry:h.geometry,attributes:h.attributes}):k.push(h);e.postMessage({insert:k,
system:this.indexType,options:this.indexOptions,idField:f&&f.objectIdField,layerId:d}).then(function(a){f.emit("process-end",{processor:c,results:{insert:a.insert}})});f.emit("process-start",{processor:this})}},_sendFeaturesFromLayer:function(a,d){var c=d.graphic,e=this.workerClient,f=this,g=c.attributes[a.objectIdField];this._featCache[a.id]||(this._featCache[a.id]={});this._featCache[a.id][g]||(this._featCache[a.id][g]=1,e.postMessage({insert:[{attributes:c.attributes,geometry:c.geometry}],system:this.indexType,
options:this.indexOptions,idField:a.objectIdField,layerId:a.id}).then(function(d){a.emit("process-end",{processor:f,results:{insert:d.insert}})}),a.emit("process-start",{processor:f}))},_notifyProcessStart:function(a,d){},_sendFeaturesFromTask:function(a,d){var c=d.featureSet.features,e=[],f=this.workerClient,g=this,h=c.length,k,l;for(this._featCache[a.id]||(this._featCache[a.id]={});h--;)l=c[h],k=l.attributes[a.objectIdField],this._featCache[a.id][k]||(this._featCache[a.id][k]=1,e.push(l));f.postMessage({insert:e,
system:this.indexType,options:this.indexOptions,idField:a.objectIdField,layerId:a.id}).then(function(d){a.emit("process-end",{processor:g,results:{insert:d.insert}})});a.emit("process-start",{processor:g})},get:function(){},intersects:function(a,d,c){return"rtree"!=this.indexType?(console.error("Index.intersects only works with rtree indexes"),a=new q,a.reject({message:"Index.intersects only works with rtree indexes"}),a.promise):a=this.workerClient.postMessage({search:a,layerId:d,returnNode:c})},
within:function(a,d,c){if("rtree"!=this.indexType)return console.error("Index.within only works with rtree indexes"),a=new q,a.reject({message:"Index.within only works with rtree indexes"}),a.promise},nearest:function(a){return"kdtree"!=this.indexType?(console.error("Index.nearest only works with kdtree indexes"),a=new q,a.reject({message:"Index.nearest only works with kdtree indexes"}),a.promise):a=this.workerClient.postMessage({search:a})}})})},"esri/process/Processor":function(){define("esri/sniff esri/kernel dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/_base/array dojo/Evented esri/workers/RequestClient esri/layers/GraphicsLayer".split(" "),
function(f,m,k,q,l,h,g,e,c){return k([g],{declaredClass:"esri.process.Processor",layers:null,results:null,passFeatures:!0,drawFeatures:!0,requireWorkerSupport:!0,fetchWithWorker:!1,workerCallback:null,workerClient:null,_started:null,_handlers:null,constructor:function(a){a=a||{};l.mixin(this,a);!f("esri-workers")&&(!1!==this.requireWorkerSupport||!1!==a.requireWorkerSupport)?(this.addLayer=this.setMap=this.start=this.runProcess=function(){},this._disabled=!0):(this._handlers={},this._notifyProcessStart=
l.hitch(this,this._notifyProcessStart),this._sendFeaturesFromTask=l.hitch(this,this._sendFeaturesFromTask),this._sendFeaturesFromLayer=l.hitch(this,this._sendFeaturesFromLayer),!1!==a.autostart&&this.start())},addLayer:function(a,b){var d=a._task,c=this._handlers[a.id]=[],f="complete";!1===this.drawFeatures&&(a._params.drawMode=!1);this.fetchWithWorker?(this.workerClient||(this.workerClient=e.getClient(this.workerCallback)),d.requestOptions={workerOptions:{worker:this.workerClient}},this.passFeatures&&
c.push(d.on(f,l.partial(this._notifyProcessStart,a)))):this.passFeatures?(f=this.drawFeatures?"graphic-draw":"graphic-add",c.push(a.on(f,l.partial(this._sendFeaturesFromLayer,a)))):c.push(d.on(f,l.partial(this._sendFeaturesFromTask,a)));!0!==b&&a.graphics&&this.runProcess(a.graphics,a.id)},removeLayer:function(a){h.forEach(this._handlers[a.id],function(a){a.remove()});delete this._handlers[a.id]},setMap:function(a){if(this.map)if(a!=this.map)this.unsetMap();else return;var b=this;h.forEach(this.layers,
b.removeLayer);h.forEach(a.graphicsLayerIds,function(d){b.addLayer(a.getLayer(d))});this._handlers.map=[a.on("layer-add",function(a){a=a.layer;a.isInstanceOf(c)&&b.addLayer(a)}),a.on("layer-remove",function(a){a=a.layer;a.isInstanceOf(c)&&b.removeLayer(a)})];this.map=a},unsetMap:function(){this.map&&(h.forEach(this._handlers.map,function(a){a.remove()}),delete this._handlers.map,h.forEach(this.layers,this.removeLayer),this.map=null)},start:function(){this.map?this.setMap(this.map):this.layers&&(l.isArray(this.layers)||
(this.layers=[this.layers]),h.forEach(this.layers,this.addLayer));this._started=!0;this.emit("start",{processor:this})},stop:function(){this._started=!1;for(var a in this._handlers)this._handlers.hasOwnProperty(a)&&(this._handlers[a].remove(),delete this._handlers[a]);this.emit("stop",{processor:this})},runProcess:function(a,b){},_sendFeaturesFromTask:function(){},_sendFeaturesFromLayer:function(){},_notifyProcessStart:function(){}})})},"esri/workers/RequestClient":function(){define("esri/sniff esri/kernel dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/_base/xhr esri/config esri/workers/WorkerClient".split(" "),
function(f,m,k,q,l,h,g,e){function c(c,e){var f=new a;f.addWorkerCallback(c,e);b.unshift({id:e?c+"::"+e:c,client:f});b.length>d&&b.pop().client.terminate();return f}var a=k([e],{declaredClass:"esri.workers.RequestClient",constructor:function(){this.setWorker(["esri/workers/mutableWorker","esri/workers/requestWorker"])},get:function(a){return this._send("GET",a)},post:function(a){return this._send("POST",a)},_send:function(a,b){var d=h._ioSetArgs(b);d.xhr=null;var c=d.ioArgs,e=c.url;delete c.url;delete c.args;
this.postMessage({method:a,url:e,options:c}).then(this._getSuccessHandler(d),this._getErrorHandler(d),this._getProgressHandler(d));return d},_addHeaderFunctions:function(a){a.getResponseHeader=function(b){var d,c=a.headers;Object.keys(c).forEach(function(a){if(a.toLowerCase()==b.toLowerCase())return d=c[a],!1});return d};a.getAllResponseHeaders=function(){var b=[],d=a.headers;Object.keys(d).forEach(function(a){b.push(a+": "+d[a])});return b=b.join("\n")};return a},_getSuccessHandler:function(a){var b=
this,d=a.ioArgs;return function(c){a.xhr=b._addHeaderFunctions(c);c=a.xhr.getResponseHeader("content-type");if(("xml"==d.handleAs||-1<c.indexOf("xml"))&&"string"==typeof a.xhr.response)a.xhr.response=(new DOMParser).parseFromString(a.xhr.response,"text/xml");a.resolve(a.xhr.response,a.xhr)}},_getErrorHandler:function(a){return function(b){a.reject(b)}},_getProgressHandler:function(a){return function(b){a.progress(b)}}}),b=[],d=g.defaults.io.maxRequestWorkers,n=new a;a.getClient=function(a,d){if(a){var e;
b.some(function(b){if(b.id==(d?a+"::"+d:a))e=b.client;return!0});return e||c(a,d)}return n};a.setLimit=function(a){d=g.defaults.io.maxRequestWorkers=a};f("extend-esri")&&(m.RequestClient=a);return a})},"esri/workers/WorkerClient":function(){define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/dom-construct esri/sniff esri/kernel esri/urlUtils require".split(" "),function(f,m,k,q,l,h,g,e,c){var a=window.Blob||window.webkitBlob||window.mozBlob,b=window.URL||window.webkitURL||window.mozURL;
f=m([f],{declaredClass:"esri.workers.WorkerClient",worker:null,returnDeferreds:!1,_queue:null,constructor:function(a,b){this._isIE=h("ie");this.returnDeferreds=!!b;this._queue={};this._acceptMessage=q.hitch(this,this._acceptMessage);this._errorMessage=q.hitch(this,this._errorMessage);a&&(this.worker=this.setWorker(a))},setWorker:function(d){if(d instanceof Array){var f=d;d=f.shift()}d=this._getUrl(d);var g=c.isXdUrl(d),h;if(!1===d)return!1;this.worker&&(h=this.worker,h.removeEventListener("message",
this._acceptMessage,!1),h.removeEventListener("error",this._errorMessage,!1),h.terminate(),h=null);if(g){var k=this._getUrl("esri/workers/mutableWorker",!0);try{var l=c.getText(k,!0);h=new Worker(b.createObjectURL(new a([l],{type:"text/javascript"})))}catch(m){try{k=e.getProxyUrl(k).path+"?"+encodeURI(k),h=new Worker(k),this._useProxy=!0}catch(q){return!1}}}else h=new Worker(d);h.addEventListener("message",this._acceptMessage,!1);h.addEventListener("error",this._errorMessage,!1);this.worker=h;g&&
this.importScripts(d);f&&this.importScripts(f);return h},postMessage:function(a,b){if(a instanceof Array||"object"!=typeof a)a={data:a};var c=Math.floor(64E9*Math.random()).toString(36);a.msgId=c;c=this._queue[c]=new k;this.worker?(b?this.worker.postMessage(a,b):this.worker.postMessage(a),this.emit("start-message",{target:this,message:a})):c.reject({message:"No worker was set."});return this.returnDeferreds?c:c.promise||c},terminate:function(){var a=Object.keys(this._queue);this.worker&&this.worker.terminate();
for(var b=a.length-1;0<=b;b--)this._queue[a[b]].cancel("terminated"),delete this._queue[a[b]]},addWorkerCallback:function(a,b){var c;c=this._getUrl(a,!0);!1===c?(c=new k,c.reject({message:"Could not load text from "+a})):(c=this.postMessage({action:"add-callback",url:c,cbName:b||"main"}),c.then(q.hitch(this,function(a){a.target=this;this.emit("callback-added",a)})));return c},importScripts:function(a){Array.isArray(a)||(a=[a]);a=a.map(function(a){a=this._getUrl(a,!0);this._useProxy&&c.isXdUrl(a)&&
(a=e.getProxyUrl(a).path+"?"+encodeURI(a));return a},this);a=this.postMessage({action:"import-script",url:a});a.then(q.hitch(this,function(a){a.target=this;this.emit("scripts-imported",a)}));return a},_acceptMessage:function(a){var b=a.data,c=b.msgId;if(b.status&&"debug"==b.status)console[b.showAs||"debug"](b);else if(c&&c in this._queue){var e=this._queue[c];"progress"==b.status?e.progress(a.data):("error"==b.status?e.reject(a.data):e.resolve(a.data),delete this._queue[c])}this.emit("message",{message:a.data,
event:a,target:this})},_errorMessage:function(a){if(this.onerror||this.onError)this.onerror?this.onerror(a):this.onError(a)},_getUrl:function(a,b){var f=c.toUrl(a);if(f)f.match(/\.js$/)||(f+=".js");else return console.error("can not resolve path:",a),!1;return b?e.getAbsoluteUrl(f):f},_startBlobWorker:function(){var d=this._xdSource;d||(d=this._getUrl("esri/workers/mutableWorker"),d=new a(["if(!self._mutable){importScripts('"+d+"');}"],{type:"text/javascript"}),d=this._xdSource=b.createObjectURL(d));
try{return new Worker(d)}catch(c){return!1}}});h("extend-esri")&&q.setObject("workers.WorkerClient",f,g);return f})},"esri/SnappingManager":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/_base/Deferred dojo/has dojo/keys esri/kernel esri/graphic esri/geometry/ScreenPoint esri/geometry/Extent esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/tasks/query".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t){f=f(null,{declaredClass:"esri.SnappingManager",
constructor:function(b){b=b||{};b.map||console.error("map is not specified for SnappingManager");this.map=b.map;this.tolerance=b.tolerance||15;this.layerInfos=[];if(b.layerInfos)this.layerInfos=b.layerInfos;else{var d;for(d=0;d<this.map.graphicsLayerIds.length;d++){var c=this.map.getLayer(this.map.graphicsLayerIds[d]);this.layerInfos.push({layer:c})}if(this.map.loaded)this.layerInfos.push({layer:this.map.graphics});else var f=m.connect(this.map,"onLoad",this,function(a){m.disconnect(f);f=null;this.layerInfos.push({layer:this.map.graphics});
this.setLayerInfos(this.layerInfos)})}this.snapPointSymbol=b.snapPointSymbol?b.snapPointSymbol:new n(n.STYLE_CROSS,15,new r(r.STYLE_SOLID,new l([0,255,255]),1),new l([0,255,0,0]));this.alwaysSnap=b.alwaysSnap?b.alwaysSnap:!1;this.snapKey=b.snapKey?b.snapKey:e.copyKey;this._SelectionLyrQuery=new t;this._SelectionLyrQuery.spatialRelationship=t.SPATIAL_REL_INTERSECTS;this._snappingGraphic=new a;this.setLayerInfos(this.layerInfos);this._currentGraphicOption={snapToPoint:!0,snapToVertex:!0,snapToEdge:!0};
this._snappingCallback=k.hitch(this,this._snappingCallback)},getSnappingPoint:function(a){var b=this.layers,c=this.tolerance,e=this.map,f=this.layerOptions,g=e.toMap(a.offset(-c,c)),c=e.toMap(a.offset(c,-c)),g=new d(g.x,g.y,c.x,c.y,e.spatialReference),l=new t;l.geometry=g;l.spatialRelationship=t.SPATIAL_REL_INTERSECTS;var m=[],n=[],r,A=this._extractPointsAndLines,G=new h,M=0,F,c=g.xmin,J=g.xmax;q.forEach(b,function(a,b){a.visible&&(a.loaded&&"esri.layers.FeatureLayer"===a.declaredClass&&a.mode!==
a.constructor.MODE_SELECTION)&&M++});e.spatialReference._isWrappable()&&(c=d.prototype._normalizeX(g.xmin,e.spatialReference._getInfo()).x,J=d.prototype._normalizeX(g.xmax,e.spatialReference._getInfo()).x);var L=new d(c,g.ymin,J,g.ymax,e.spatialReference);q.forEach(b,function(a,b){if("esri.layers.GraphicsLayer"===a.declaredClass&&a.visible){var d=[];q.forEach(a.graphics,function(a){a&&a.visible&&L.intersects(a.geometry)&&d.push(a)});var c=A(d,f[b]);m=m.concat(c[0]);n=n.concat(c[1])}});var K=k.hitch(this,
function(b){M--;b instanceof Error||(b=A(b.features,f[F]),m=m.concat(b[0]),n=n.concat(b[1]));M||(r=this._getSnappingPoint(m,n,a),G.callback(r))}),P=!1;q.forEach(b,function(a,b){a.visible&&a.loaded&&(F=b,"esri.layers.FeatureLayer"===a.declaredClass&&a.mode!==a.constructor.MODE_SELECTION&&(P=!0,a.queryFeatures(l,K,K)))});P||(r=this._getSnappingPoint(m,n,a),G.callback(r));return G},setLayerInfos:function(a){this.layers=[];this.layerOptions=[];var b;for(b=0;b<a.length;b++)this.layers.push(a[b].layer),
this.layerOptions.push({snapToPoint:!0,snapToVertex:!0,snapToEdge:!0}),!1===a[b].snapToPoint&&(this.layerOptions[b].snapToPoint=a[b].snapToPoint),!1===a[b].snapToVertex&&(this.layerOptions[b].snapToVertex=a[b].snapToVertex),!1===a[b].snapToEdge&&(this.layerOptions[b].snapToEdge=a[b].snapToEdge);this._featurePtsFromSelectionLayer=[];this._featureLinesFromSelectionLayer=[];this._selectionLayers=[];this._selectionLayerOptions=[];q.forEach(this.layers,function(a,b){"esri.layers.FeatureLayer"===a.declaredClass&&
a.mode===a.constructor.MODE_SELECTION&&(this._selectionLayers.push(a),this._selectionLayerOptions.push(this.layerOptions[b]))},this);this.layerInfos=a},destroy:function(){m.disconnect(this._onExtentChangeConnect);this._killOffSnapping();this._featurePtsFromSelectionLayer=this._featureLinesFromSelectionLayer=this._currentFeaturePts=this._currentFeatureLines=this.layers=this.map=null},_startSelectionLayerQuery:function(){m.disconnect(this._onExtentChangeConnect);this._mapExtentChangeHandler(this._selectionLayers,
this._selectionLayerOptions,this.map.extent);this._onExtentChangeConnect=m.connect(this.map,"onExtentChange",k.hitch(this,"_mapExtentChangeHandler",this._selectionLayers,this._selectionLayerOptions))},_stopSelectionLayerQuery:function(){m.disconnect(this._onExtentChangeConnect)},_mapExtentChangeHandler:function(a,b,d){this._featurePtsFromSelectionLayer=[];this._featureLinesFromSelectionLayer=[];var c;this._SelectionLyrQuery.geometry=d;var e=k.hitch(this,function(a){a instanceof Error||(a=this._extractPointsAndLines(a.features,
b[c]),this._featurePtsFromSelectionLayer=this._featurePtsFromSelectionLayer.concat(a[0]),this._featureLinesFromSelectionLayer=this._featureLinesFromSelectionLayer.concat(a[1]))});q.forEach(a,function(a,b){a.visible&&a.loaded&&(c=b,a.queryFeatures(this._SelectionLyrQuery,e,e))},this)},_extractPointsAndLines:function(a,b){var d=[],c=[],e,f;q.forEach(a,function(a,g){if((!a._graphicsLayer||a.visible)&&a.geometry)if("point"===a.geometry.type&&b.snapToPoint)d.push(a.geometry);else if("polyline"===a.geometry.type)for(e=
0;e<a.geometry.paths.length;e++){c.push("lineStart");for(f=0;f<a.geometry.paths[e].length;f++){var h=a.geometry.getPoint(e,f);b.snapToVertex&&d.push(h);b.snapToEdge&&c.push(h)}c.push("lineEnd")}else if("polygon"===a.geometry.type)for(e=0;e<a.geometry.rings.length;e++){c.push("lineStart");for(f=0;f<a.geometry.rings[e].length;f++)h=a.geometry.getPoint(e,f),b.snapToVertex&&d.push(h),b.snapToEdge&&c.push(h);c.push("lineEnd")}});return[d,c]},_getSnappingPoint:function(a,d,c){var e,f,g=this.tolerance,h=
this.map,k=this.map._getFrameWidth();a=a.concat(this._featurePtsFromSelectionLayer);d=d.concat(this._featureLinesFromSelectionLayer);if(this._currentGraphic){var l=this._extractPointsAndLines([this._currentGraphic],this._currentGraphicOption);a=a.concat(l[0]);d=d.concat(l[1])}var m,n;q.forEach(a,function(a,b){var d=h.toScreen(a,!0);if(-1!==k&&(d.x%=k,0>d.x&&(d.x+=k),h.width>k))for(var f=(h.width-k)/2;d.x<f;)d.x+=k;e=Math.sqrt((d.x-c.x)*(d.x-c.x)+(d.y-c.y)*(d.y-c.y));e<=g&&(g=e,m=d.x,n=d.y)});if(m)d=
new b(m,n),f=d=h.toMap(d);else{var r,t,g=this.tolerance;for(a=0;a<d.length;a++)if("lineStart"===d[a])for(l=a+1;l<d.length;l++){if("lineEnd"!==d[l+1]&&"lineStart"!==d[l+1]&&"lineEnd"!==d[l]&&"lineStart"!==d[l]){var F=h.toScreen(d[l],!0),J=h.toScreen(d[l+1],!0),L=F.x>=J.x?F:J,K=F.x>=J.x?J:F;-1!==k&&(L.x%=k,0>L.x&&(L.x+=k),K.x%=k,0>K.x&&(K.x+=k),K.x>L.x&&(K.x-=k));var F=L.x,L=L.y,J=K.x,K=K.y,P,H,I,N,X,T;F===J?(P=F,H=c.y,I=N=F,X=L<=K?L:K,T=L<=K?K:L):L===K?(P=c.x,H=L,I=F<=J?F:J,N=F<=J?J:F,X=T=L):(H=(K-
L)/(J-F),I=(L*J-F*K)/(J-F),P=(I-(c.y*K-c.y*L-c.x*F+c.x*J)/(K-L))/((F-J)/(K-L)-H),H=H*P+I,I=F<=J?F:J,N=F<=J?J:F,X=L<=K?L:K,T=L<=K?K:L);P>=I&&P<=N&&H>=X&&H<=T?(F=Math.sqrt((c.x-P)*(c.x-P)+(c.y-H)*(c.y-H)),F<=g&&(g=F,r=P,t=H)):(P=Math.sqrt((F-c.x)*(F-c.x)+(L-c.y)*(L-c.y)),H=Math.sqrt((J-c.x)*(J-c.x)+(K-c.y)*(K-c.y)),P<=H?(I=P,P=F,H=L):(I=H,P=J,H=K),I<=g&&(g=I,r=P,t=H))}if("lineEnd"===d[l]){a=l;break}}r&&(d=new b(r,t),f=d=h.toMap(d))}return f},_setGraphic:function(a){this._currentGraphic=a},_addSnappingPointGraphic:function(){var a=
this.map;this._snappingGraphic.setSymbol(this.snapPointSymbol);a.graphics.add(this._snappingGraphic)},_setUpSnapping:function(){var a=this.map;this._onSnapKeyDown_connect=m.connect(a,"onKeyDown",this,"_onSnapKeyDownHandler");this._onSnapKeyUp_connect=m.connect(a,"onKeyUp",this,"_onSnapKeyUpHandler");this._onSnappingMouseMove_connect=m.connect(a,"onMouseMove",this,"_onSnappingMouseMoveHandler");this._onSnappingMouseDrag_connect=m.connect(a,"onMouseDrag",this,"_onSnappingMouseMoveHandler");this.alwaysSnap&&
this._activateSnapping()},_killOffSnapping:function(){m.disconnect(this._onSnapKeyDown_connect);m.disconnect(this._onSnapKeyUp_connect);m.disconnect(this._onSnappingMouseMove_connect);m.disconnect(this._onSnappingMouseDrag_connect);this._deactivateSnapping()},_onSnapKeyDownHandler:function(a){a.keyCode===this.snapKey&&(m.disconnect(this._onSnapKeyDown_connect),this.alwaysSnap?this._deactivateSnapping():this._activateSnapping())},_activateSnapping:function(){this._snappingActive=!0;this._addSnappingPointGraphic();
this._currentLocation&&this._onSnappingMouseMoveHandler(this._currentLocation)},_onSnapKeyUpHandler:function(a){a.keyCode===this.snapKey&&(this._onSnapKeyDown_connect=m.connect(this.map,"onKeyDown",this,"_onSnapKeyDownHandler"),this.alwaysSnap?this._activateSnapping():this._deactivateSnapping())},_deactivateSnapping:function(){this._snappingActive=!1;this._snappingPoint=null;this.map.graphics.remove(this._snappingGraphic);this._snappingGraphic.setGeometry(null)},_onSnappingMouseMoveHandler:function(a){this._currentLocation=
a;this._snappingPoint=null;this._snappingActive&&(this._snappingGraphic.hide(),this.getSnappingPoint(a.screenPoint).addCallback(this._snappingCallback))},_snappingCallback:function(a){if(this._snappingPoint=a)this._snappingGraphic.show(),this._snappingGraphic.setGeometry(a)}});g("extend-esri")&&(c.SnappingManager=f);return f})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d){function n(a,b){return k.doc.createElementNS?k.doc.createElementNS(a,b):k.doc.createElement(b)}function r(a){return t.useSvgWeb?k.doc.createTextNode(a,!0):k.doc.createTextNode(a)}var t=a.svg={};t.useSvgWeb="undefined"!=typeof window.svgweb;var s=navigator.userAgent,x=m("ios"),u=m("android"),z=m("chrome")||u&&4<=u?"auto":"optimizeLegibility";t.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};t.getRef=function(a){return!a||"none"==a?null:
a.match(/^url\(#.+\)$/)?q.byId(a.slice(5,-1)):a.match(/^#dojoUnique\d+$/)?q.byId(a.slice(1)):null};t.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var y=0;t.Shape=l("dojox.gfx.svg.Shape",b.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var a=this.rawNode.getAttribute("fill");(a=t.getRef(a))&&a.parentNode.removeChild(a)}if(this.clip&&
(a=this.rawNode.getAttribute("clip-path")))(a=q.byId(a.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);b.Shape.prototype.destroy.apply(this,arguments)},setFill:function(b){if(!b)return this.fillStyle=null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var d,c=function(a){this.setAttribute(a,d[a].toFixed(8))};if("object"==typeof b&&"type"in b){switch(b.type){case "linear":d=a.makeParameters(a.defaultLinearGradient,b);b=this._setFillObject(d,"linearGradient");
h.forEach(["x1","y1","x2","y2"],c,b);break;case "radial":d=a.makeParameters(a.defaultRadialGradient,b);b=this._setFillObject(d,"radialGradient");h.forEach(["cx","cy","r"],c,b);break;case "pattern":d=a.makeParameters(a.defaultPattern,b),b=this._setFillObject(d,"pattern"),h.forEach(["x","y","width","height"],c,b)}this.fillStyle=d;return this}this.fillStyle=d=a.normalizeColor(b);this.rawNode.setAttribute("fill",d.toCss());this.rawNode.setAttribute("fill-opacity",d.a);this.rawNode.setAttribute("fill-rule",
"evenodd");return this},setStroke:function(b){var d=this.rawNode;if(!b)return this.strokeStyle=null,d.setAttribute("stroke","none"),d.setAttribute("stroke-opacity",0),this;if("string"==typeof b||f.isArray(b)||b instanceof c)b={color:b};b=this.strokeStyle=a.makeParameters(a.defaultStroke,b);b.color=a.normalizeColor(b.color);if(b){d.setAttribute("stroke",b.color.toCss());d.setAttribute("stroke-opacity",b.color.a);d.setAttribute("stroke-width",b.width);d.setAttribute("stroke-linecap",b.cap);"number"==
typeof b.join?(d.setAttribute("stroke-linejoin","miter"),d.setAttribute("stroke-miterlimit",b.join)):d.setAttribute("stroke-linejoin",b.join);var e=b.style.toLowerCase();e in t.dasharray&&(e=t.dasharray[e]);if(e instanceof Array){var e=f._toArray(e),g;for(g=0;g<e.length;++g)e[g]*=b.width;if("butt"!=b.cap){for(g=0;g<e.length;g+=2)e[g]-=b.width,1>e[g]&&(e[g]=1);for(g=1;g<e.length;g+=2)e[g]+=b.width}e=e.join(",")}d.setAttribute("stroke-dasharray",e);d.setAttribute("dojoGfxStrokeStyle",b.style)}return this},
_getParentSurface:function(){for(var b=this.parent;b&&!(b instanceof a.Surface);b=b.parent);return b},_setFillObject:function(b,d){var c=t.xmlns.svg;this.fillStyle=b;var e=this._getParentSurface().defNode,f=this.rawNode.getAttribute("fill");if(f=t.getRef(f))if(f.tagName.toLowerCase()!=d.toLowerCase()){var g=f.id;f.parentNode.removeChild(f);f=n(c,d);f.setAttribute("id",g);e.appendChild(f)}else for(;f.childNodes.length;)f.removeChild(f.lastChild);else f=n(c,d),f.setAttribute("id",a._base._getUniqueId()),
e.appendChild(f);if("pattern"==d)f.setAttribute("patternUnits","userSpaceOnUse"),c=n(c,"image"),c.setAttribute("x",0),c.setAttribute("y",0),c.setAttribute("width",b.width.toFixed(8)),c.setAttribute("height",b.height.toFixed(8)),c.setAttributeNS?c.setAttributeNS(t.xmlns.xlink,"xlink:href",b.src):c.setAttribute("xlink:href",b.src),f.appendChild(c);else{f.setAttribute("gradientUnits","userSpaceOnUse");for(e=0;e<b.colors.length;++e){var g=b.colors[e],h=n(c,"stop"),k=g.color=a.normalizeColor(g.color);
h.setAttribute("offset",g.offset.toFixed(8));h.setAttribute("stop-color",k.toCss());h.setAttribute("stop-opacity",k.a);f.appendChild(h)}}this.rawNode.setAttribute("fill","url(#"+f.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return f},_applyTransform:function(){if(this.matrix){var a=this.matrix;this.rawNode.setAttribute("transform","matrix("+a.xx.toFixed(8)+","+a.yx.toFixed(8)+","+a.xy.toFixed(8)+","+a.yy.toFixed(8)+","+a.dx.toFixed(8)+
","+a.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(a){a=this.rawNode=a;"image"!=this.shape.type&&a.setAttribute("fill","none");a.setAttribute("fill-opacity",0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this},setShape:function(b){this.shape=a.makeParameters(this.shape,
b);for(var d in this.shape)"type"!=d&&this.rawNode.setAttribute(d,this.shape[d]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this},setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;"polyline"===b&&(a=f.clone(a),
a.points=a.points.join(","));var d,c=e.get(this.rawNode,"clip-path");c&&(d=q.byId(c.match(/gfx_clip[\d]+/)[0]))&&d.removeChild(d.childNodes[0]);a?(d?(b=n(t.xmlns.svg,b),d.appendChild(b)):(c="gfx_clip"+ ++y,this.rawNode.setAttribute("clip-path","url(#"+c+")"),d=n(t.xmlns.svg,"clipPath"),b=n(t.xmlns.svg,b),d.appendChild(b),this.rawNode.parentNode.appendChild(d),e.set(d,"id",c)),e.set(b,a)):(this.rawNode.removeAttribute("clip-path"),d&&d.parentNode.removeChild(d));return this},_removeClipNode:function(){var a,
b=e.get(this.rawNode,"clip-path");b&&(a=q.byId(b.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);return a}});t.Group=l("dojox.gfx.svg.Group",t.Shape,{constructor:function(){b.Container._init.call(this)},setRawNode:function(a){this.rawNode=a;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);t.Shape.prototype.destroy.apply(this,arguments)}});t.Group.nodeType="g";t.Rect=l("dojox.gfx.svg.Rect",[t.Shape,b.Rect],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=
null;for(var d in this.shape)"type"!=d&&"r"!=d&&this.rawNode.setAttribute(d,this.shape[d]);null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));return this}});t.Rect.nodeType="rect";t.Ellipse=l("dojox.gfx.svg.Ellipse",[t.Shape,b.Ellipse],{});t.Ellipse.nodeType="ellipse";t.Circle=l("dojox.gfx.svg.Circle",[t.Shape,b.Circle],{});t.Circle.nodeType="circle";t.Line=l("dojox.gfx.svg.Line",[t.Shape,b.Line],{});t.Line.nodeType="line";t.Polyline=l("dojox.gfx.svg.Polyline",
[t.Shape,b.Polyline],{setShape:function(b,d){b&&b instanceof Array?(this.shape=a.makeParameters(this.shape,{points:b}),d&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=a.makeParameters(this.shape,b);this.bbox=null;this._normalizePoints();for(var c=[],e=this.shape.points,f=0;f<e.length;++f)c.push(e[f].x.toFixed(8),e[f].y.toFixed(8));this.rawNode.setAttribute("points",c.join(" "));return this}});t.Polyline.nodeType="polyline";t.Image=l("dojox.gfx.svg.Image",[t.Shape,
b.Image],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;for(var d in this.shape)"type"!=d&&"src"!=d&&b.setAttribute(d,this.shape[d]);b.setAttribute("preserveAspectRatio","none");b.setAttributeNS?b.setAttributeNS(t.xmlns.xlink,"xlink:href",this.shape.src):b.setAttribute("xlink:href",this.shape.src);b.__gfxObject__=this;return this}});t.Image.nodeType="image";t.Text=l("dojox.gfx.svg.Text",[t.Shape,b.Text],{setShape:function(b){this.shape=a.makeParameters(this.shape,
b);this.bbox=null;b=this.rawNode;var d=this.shape;b.setAttribute("x",d.x);b.setAttribute("y",d.y);b.setAttribute("text-anchor",d.align);b.setAttribute("text-decoration",d.decoration);b.setAttribute("rotate",d.rotated?90:0);b.setAttribute("kerning",d.kerning?"auto":0);b.setAttribute("text-rendering",z);b.firstChild?b.firstChild.nodeValue=d.text:b.appendChild(r(d.text));return this},getTextWidth:function(){var a=this.rawNode,b=a.parentNode,a=a.cloneNode(!0);a.style.visibility="hidden";var d=0,c=a.firstChild.nodeValue;
b.appendChild(a);if(""!=c)for(;!d;)d=a.getBBox?parseInt(a.getBBox().width):68;b.removeChild(a);return d},getBoundingBox:function(){var a=null;if(this.getShape().text)try{a=this.rawNode.getBBox()}catch(b){a={x:0,y:0,width:0,height:0}}return a}});t.Text.nodeType="text";t.Path=l("dojox.gfx.svg.Path",[t.Shape,d.Path],{_updateWithSegment:function(a){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(a){this.inherited(arguments);
this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});t.Path.nodeType="path";t.TextPath=l("dojox.gfx.svg.TextPath",[t.Shape,d.TextPath],{_updateWithSegment:function(a){this.inherited(arguments);this._setTextPath()},setShape:function(a){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var b=this.rawNode;if(!b.firstChild){var d=n(t.xmlns.svg,"textPath"),c=r("");d.appendChild(c);
b.appendChild(d)}d=(d=b.firstChild.getAttributeNS(t.xmlns.xlink,"href"))&&t.getRef(d);if(!d&&(c=this._getParentSurface())){var c=c.defNode,d=n(t.xmlns.svg,"path"),e=a._base._getUniqueId();d.setAttribute("id",e);c.appendChild(d);b.firstChild.setAttributeNS?b.firstChild.setAttributeNS(t.xmlns.xlink,"xlink:href","#"+e):b.firstChild.setAttribute("xlink:href","#"+e)}d&&d.setAttribute("d",this.shape.path)}},_setText:function(){var a=this.rawNode;if(!a.firstChild){var b=n(t.xmlns.svg,"textPath"),d=r("");
b.appendChild(d);a.appendChild(b)}a=a.firstChild;b=this.text;a.setAttribute("alignment-baseline","middle");switch(b.align){case "middle":a.setAttribute("text-anchor","middle");a.setAttribute("startOffset","50%");break;case "end":a.setAttribute("text-anchor","end");a.setAttribute("startOffset","100%");break;default:a.setAttribute("text-anchor","start"),a.setAttribute("startOffset","0%")}a.setAttribute("baseline-shift","0.5ex");a.setAttribute("text-decoration",b.decoration);a.setAttribute("rotate",
b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.firstChild.data=b.text}});t.TextPath.nodeType="text";var w=534<function(){var a=/WebKit\/(\d*)/.exec(s);return a?a[1]:0}();t.Surface=l("dojox.gfx.svg.Surface",b.Surface,{constructor:function(){b.Container._init.call(this)},destroy:function(){b.Container.clear.call(this,!0);this.defNode=null;this.inherited(arguments)},setDimensions:function(a,b){if(!this.rawNode)return this;this.rawNode.setAttribute("width",a);this.rawNode.setAttribute("height",
b);w&&(this.rawNode.style.width=a,this.rawNode.style.height=b);return this},getDimensions:function(){return this.rawNode?{width:a.normalizedLength(this.rawNode.getAttribute("width")),height:a.normalizedLength(this.rawNode.getAttribute("height"))}:null}});t.createSurface=function(b,d,c){var e=new t.Surface;e.rawNode=n(t.xmlns.svg,"svg");e.rawNode.setAttribute("overflow","hidden");d&&e.rawNode.setAttribute("width",d);c&&e.rawNode.setAttribute("height",c);d=n(t.xmlns.svg,"defs");e.rawNode.appendChild(d);
e.defNode=d;e._parent=q.byId(b);e._parent.appendChild(e.rawNode);a._base._fixMsTouchAction(e);return e};m={_setFont:function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)}};var D=b.Container;l={openBatch:function(){if(!this._batch){var a;a=t.useSvgWeb?k.doc.createDocumentFragment(!0):
k.doc.createDocumentFragment();this.fragment=a}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(a){this!=a.getParent()&&(this.fragment?this.fragment.appendChild(a.rawNode):this.rawNode.appendChild(a.rawNode),D.add.apply(this,arguments),a.setClip(a.clip));return this},remove:function(a,b){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&
this.rawNode.removeChild(a.rawNode),this.fragment&&this.fragment==a.rawNode.parentNode&&this.fragment.removeChild(a.rawNode),a._removeClipNode(),D.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.lastChild;)a.removeChild(a.lastChild);var b=this.defNode;if(b){for(;b.lastChild;)b.removeChild(b.lastChild);a.appendChild(b)}return D.clear.apply(this,arguments)},getBoundingBox:D.getBoundingBox,_moveChildToFront:D._moveChildToFront,_moveChildToBack:D._moveChildToBack};
d={createObject:function(a,b){if(!this.rawNode)return null;var d=new a,c=n(t.xmlns.svg,a.nodeType);d.setRawNode(c);d.setShape(b);this.add(d);return d}};f.extend(t.Text,m);f.extend(t.TextPath,m);f.extend(t.Group,l);f.extend(t.Group,b.Creator);f.extend(t.Group,d);f.extend(t.Surface,l);f.extend(t.Surface,b.Creator);f.extend(t.Surface,d);t.fixTarget=function(a,b){a.gfxTarget||(a.gfxTarget=x&&a.target.wholeText?a.target.parentElement.__gfxObject__:a.target.__gfxObject__);return!0};t.useSvgWeb&&(t.createSurface=
function(b,d,c){var e=new t.Surface;if(!d||!c){var f=g.position(b);d=d||f.w;c=c||f.h}b=q.byId(b);var f=b.id?b.id+"_svgweb":a._base._getUniqueId(),h=n(t.xmlns.svg,"svg");h.id=f;h.setAttribute("width",d);h.setAttribute("height",c);svgweb.appendChild(h,b);h.addEventListener("SVGLoad",function(){e.rawNode=this;e.isLoaded=!0;var a=n(t.xmlns.svg,"defs");e.rawNode.appendChild(a);e.defNode=a;if(e.onLoad)e.onLoad(e)},!1);e.isLoaded=!1;return e},t.Surface.extend({destroy:function(){var a=this.rawNode;svgweb.removeChild(a,
a.parentNode)}}),m={connect:function(a,b,d){"on"===a.substring(0,2)&&(a=a.substring(2));d=2==arguments.length?b:f.hitch(b,d);this.getEventSource().addEventListener(a,d,!1);return[this,a,d]},disconnect:function(a){this.getEventSource().removeEventListener(a[1],a[2],!1);delete a[0]}},f.extend(t.Shape,m),f.extend(t.Surface,m));return t})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),
function(f,m,k,q,l,h,g,e,c,a){var b=f.shape={};b.Shape=k("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(l("gfxRegistry")){var a=b.register(this);this.getUID=function(){return a}}},destroy:function(){l("gfxRegistry")&&b.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},
getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b)return null;var c=this._getRealMatrix();return[a.multiplyPoint(c,b.x,b.y),a.multiplyPoint(c,b.x+b.width,b.y),a.multiplyPoint(c,b.x+b.width,b.y+b.height),a.multiplyPoint(c,b.x,b.y+b.height)]},getEventSource:function(){return this.rawNode},
setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=f.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;var b=null;if("object"==typeof a&&"type"in a)switch(a.type){case "linear":b=f.makeParameters(f.defaultLinearGradient,a);break;case "radial":b=f.makeParameters(f.defaultRadialGradient,a);break;case "pattern":b=f.makeParameters(f.defaultPattern,a)}else b=f.normalizeColor(a);this.fillStyle=
b;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this;if("string"==typeof a||m.isArray(a)||a instanceof c)a={color:a};a=this.strokeStyle=f.makeParameters(f.defaultStroke,a);a.color=f.normalizeColor(a.color);return this},setTransform:function(b){this.matrix=a.clone(b?a.normalize(b):a.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=
this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},
_updateParentMatrix:function(b){this.parentMatrix=b?a.clone(b):null;return this._applyTransform()},_getRealMatrix:function(){for(var b=this.matrix,c=this.parent;c;)c.matrix&&(b=a.multiply(c.matrix,b)),c=c.parent;return b}});b._eventsProcessing={on:function(a,c){return h(this.getEventSource(),a,b.fixCallback(this,f.fixTarget,c))},connect:function(a,b,c){"on"==a.substring(0,2)&&(a=a.substring(2));return this.on(a,c?m.hitch(b,c):b)},disconnect:function(a){return a.remove()}};b.fixCallback=function(a,
b,c,e){e||(e=c,c=null);if(m.isString(e)){c=c||q.global;if(!c[e])throw['dojox.gfx.shape.fixCallback: scope["',e,'"] is null (scope\x3d"',c,'")'].join("");return function(f){return b(f,a)?c[e].apply(c,arguments||[]):void 0}}return!c?function(f){return b(f,a)?e.apply(c,arguments):void 0}:function(f){return b(f,a)?e.apply(c,arguments||[]):void 0}};m.extend(b.Shape,b._eventsProcessing);b.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},
add:function(a){var b=a.getParent();b&&b.remove(a,!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var c=0;c<this.children.length;++c)if(this.children[c]==a){b||(a.parent=null,a.parentMatrix=null);this.children.splice(c,1);break}return this},clear:function(a){for(var b,c=0;c<this.children.length;++c)b=this.children[c],b.parent=null,b.parentMatrix=null,a&&b.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var b=null;
g.forEach(this.children,function(c){var e=c.getBoundingBox();e&&((c=c.getTransform())&&(e=a.multiplyRectangle(c,e)),b?(b.x=Math.min(b.x,e.x),b.y=Math.min(b.y,e.y),b.endX=Math.max(b.endX,e.x+e.width),b.endY=Math.max(b.endY,e.y+e.height)):b={x:e.x,y:e.y,endX:e.x+e.width,endY:e.y+e.height})});b&&(b.width=b.endX-b.x,b.height=b.endY-b.y);return b}return null},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.push(a);break}return this},
_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.unshift(a);break}return this}};b.Surface=k("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){g.forEach(this._nodes,e.destroy);this._nodes=[];g.forEach(this._events,function(a){a&&a.remove()});this._events=[];this.rawNode=null;if(l("ie"))for(;this._parent.lastChild;)e.destroy(this._parent.lastChild);
else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(a){},whenLoaded:function(a,b){var c=m.hitch(a,b);if(this.isLoaded)c(this);else h.once(this,"load",function(a){c(a)})}});m.extend(b.Surface,b._eventsProcessing);b.Rect=k("dojox.gfx.shape.Rect",b.Shape,{constructor:function(a){this.shape=f.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});b.Ellipse=k("dojox.gfx.shape.Ellipse",
b.Shape,{constructor:function(a){this.shape=f.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});b.Circle=k("dojox.gfx.shape.Circle",b.Shape,{constructor:function(a){this.shape=f.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});b.Line=k("dojox.gfx.shape.Line",
b.Shape,{constructor:function(a){this.shape=f.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});b.Polyline=k("dojox.gfx.shape.Polyline",b.Shape,{constructor:function(a){this.shape=f.getDefault("Polyline");this.rawNode=a},setShape:function(a,b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&
this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&"number"==typeof a[0]){for(var c=[],e=0;e<b;e+=2)c.push({x:a[e],y:a[e+1]});this.shape.points=c}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,c=a[0],e=c.x,f=c.y,g=c.x,h=c.y,k=1;k<b;++k)c=a[k],e>c.x&&(e=c.x),g<c.x&&(g=c.x),f>c.y&&(f=c.y),h<c.y&&(h=c.y);this.bbox={x:e,y:f,width:g-
e,height:h-f}}return this.bbox}});b.Image=k("dojox.gfx.shape.Image",b.Shape,{constructor:function(a){this.shape=f.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});b.Text=k(b.Shape,{constructor:function(a){this.fontStyle=null;this.shape=f.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?f.splitFontString(a):f.makeParameters(f.defaultFont,
a);this._setFont();return this},getBoundingBox:function(){var a=null;this.getShape().text&&(a=f._base._computeTextBoundingBox(this));return a}});b.Creator={createShape:function(a){switch(a.type){case f.defaultPath.type:return this.createPath(a);case f.defaultRect.type:return this.createRect(a);case f.defaultCircle.type:return this.createCircle(a);case f.defaultEllipse.type:return this.createEllipse(a);case f.defaultLine.type:return this.createLine(a);case f.defaultPolyline.type:return this.createPolyline(a);
case f.defaultImage.type:return this.createImage(a);case f.defaultText.type:return this.createText(a);case f.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(f.Group)},createRect:function(a){return this.createObject(f.Rect,a)},createEllipse:function(a){return this.createObject(f.Ellipse,a)},createCircle:function(a){return this.createObject(f.Circle,a)},createLine:function(a){return this.createObject(f.Line,a)},createPolyline:function(a){return this.createObject(f.Polyline,
a)},createImage:function(a){return this.createObject(f.Image,a)},createText:function(a){return this.createObject(f.Text,a)},createPath:function(a){return this.createObject(f.Path,a)},createTextPath:function(a){return this.createObject(f.TextPath,{}).setText(a)},createObject:function(a,b){return null}};return b})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(f,m,k,q,l){l=k("dojox.gfx.path.Path",l.Shape,{constructor:function(h){this.shape=
m.clone(f.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=h;this.segmented=!1},setAbsoluteMode:function(f){this._confirmSegmented();this.absolute="string"==typeof f?"absolute"==f:f;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();
if(this.tbbox)return this.tbbox;var f=this.bbox,g=this._getRealMatrix();this.bbox=null;for(var e=0,c=this.segments.length;e<c;++e)this._updateWithSegment(this.segments[e],g);g=this.bbox;this.bbox=f;return this.tbbox=g?[{x:g.l,y:g.t},{x:g.r,y:g.t},{x:g.r,y:g.b},{x:g.l,y:g.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(f,g,e){e&&(g=q.multiplyPoint(e,
f,g),f=g.x,g=g.y);this.bbox&&"l"in this.bbox?(this.bbox.l>f&&(this.bbox.l=f),this.bbox.r<f&&(this.bbox.r=f),this.bbox.t>g&&(this.bbox.t=g),this.bbox.b<g&&(this.bbox.b=g)):this.bbox={l:f,b:g,r:f,t:g}},_updateWithSegment:function(h,g){var e=h.args,c=e.length,a;switch(h.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(a=0;a<c;a+=2)this._updateBBox(e[a],e[a+1],g);this.last.x=e[c-2];this.last.y=e[c-1];this.absolute=!0;break;case "H":for(a=0;a<c;++a)this._updateBBox(e[a],this.last.y,g);
this.last.x=e[c-1];this.absolute=!0;break;case "V":for(a=0;a<c;++a)this._updateBBox(this.last.x,e[a],g);this.last.y=e[c-1];this.absolute=!0;break;case "m":a=0;"x"in this.last||(this._updateBBox(this.last.x=e[0],this.last.y=e[1],g),a=2);for(;a<c;a+=2)this._updateBBox(this.last.x+=e[a],this.last.y+=e[a+1],g);this.absolute=!1;break;case "l":case "t":for(a=0;a<c;a+=2)this._updateBBox(this.last.x+=e[a],this.last.y+=e[a+1],g);this.absolute=!1;break;case "h":for(a=0;a<c;++a)this._updateBBox(this.last.x+=
e[a],this.last.y,g);this.absolute=!1;break;case "v":for(a=0;a<c;++a)this._updateBBox(this.last.x,this.last.y+=e[a],g);this.absolute=!1;break;case "c":for(a=0;a<c;a+=6)this._updateBBox(this.last.x+e[a],this.last.y+e[a+1],g),this._updateBBox(this.last.x+e[a+2],this.last.y+e[a+3],g),this._updateBBox(this.last.x+=e[a+4],this.last.y+=e[a+5],g);this.absolute=!1;break;case "s":case "q":for(a=0;a<c;a+=4)this._updateBBox(this.last.x+e[a],this.last.y+e[a+1],g),this._updateBBox(this.last.x+=e[a+2],this.last.y+=
e[a+3],g);this.absolute=!1;break;case "A":for(a=0;a<c;a+=7)this._updateBBox(e[a+5],e[a+6],g);this.last.x=e[c-2];this.last.y=e[c-1];this.absolute=!0;break;case "a":for(a=0;a<c;a+=7)this._updateBBox(this.last.x+=e[a+5],this.last.y+=e[a+6],g);this.absolute=!1}var b=[h.action];for(a=0;a<c;++a)b.push(f.formatNumber(e[a],!0));if("string"==typeof this.shape.path)this.shape.path+=b.join("");else{a=0;for(c=b.length;a<c;a++)this.shape.path.push(b[a])}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},
_pushSegment:function(f,g){this.tbbox=null;var e=this._validSegments[f.toLowerCase()];"number"==typeof e&&(e?g.length>=e&&(e={action:f,args:g.slice(0,g.length-g.length%e)},this.segments.push(e),this._updateWithSegment(e)):(e={action:f,args:[]},this.segments.push(e),this._updateWithSegment(e)))},_collectArgs:function(f,g){for(var e=0;e<g.length;++e){var c=g[e];"boolean"==typeof c?f.push(c?1:0):"number"==typeof c?f.push(c):c instanceof Array?this._collectArgs(f,c):"x"in c&&"y"in c&&f.push(c.x,c.y)}},
moveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"M":"m",f);return this},lineTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"L":"l",f);return this},hLineTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"H":"h",f);return this},vLineTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);
this._pushSegment(this.absolute?"V":"v",f);return this},curveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"C":"c",f);return this},smoothCurveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"S":"s",f);return this},qCurveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"Q":"q",f);return this},qSmoothCurveTo:function(){this._confirmSegmented();
var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"T":"t",f);return this},arcTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"A":"a",f);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var f=this.shape.path;this.shape.path=[];this._setPath(f);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(h){h=
m.isArray(h)?h:h.match(f.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(h){for(var g="",e=[],c=h.length,a=0;a<c;++a){var b=h[a],d=parseFloat(b);isNaN(d)?(g&&this._pushSegment(g,e),e=[],g=b):e.push(d)}this._pushSegment(g,e)}},setShape:function(h){this.inherited(arguments,["string"==typeof h?{path:h}:h]);this.segmented=!1;this.segments=[];f.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});k=k("dojox.gfx.path.TextPath",l,{constructor:function(h){"text"in
this||(this.text=m.clone(f.defaultTextPath));"fontStyle"in this||(this.fontStyle=m.clone(f.defaultFont))},getText:function(){return this.text},setText:function(h){this.text=f.makeParameters(this.text,"string"==typeof h?{text:h}:h);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(h){this.fontStyle="string"==typeof h?f.splitFontString(h):f.makeParameters(f.defaultFont,h);this._setFont();return this}});return f.path={Path:l,TextPath:k}})},"dojox/gfx/vml":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/_base/sniff dojo/_base/config dojo/dom dojo/dom-geometry dojo/dom-style dojo/_base/kernel ./_base ./shape ./path ./arc ./gradient ./matrix".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d,n,r,t,s){function x(c,d,e){e=e||a.global;d.call(e,c);(c instanceof b.Surface||c instanceof b.Group)&&k.forEach(c.children,function(a){x(a,d,e)})}var u=b.vml={},z=function(){u.xmlns="urn:schemas-microsoft-com:vml";try{document.namespaces.add("v",u.xmlns);var a="* group roundrect oval shape rect imagedata path textpath text".split(" "),b=0,c=1,d=document.createStyleSheet();8<=l("ie")&&(b=1,c=a.length);for(;b<c;++b)d.addRule("v\\:"+a[b],"behavior:url(#default#VML); display:inline-block")}catch(e){setTimeout(z,
10)}};z();u.text_alignment={start:"left",middle:"center",end:"right"};u._parseFloat=function(a){return a.match(/^\d+f$/i)?parseInt(a)/65536:parseFloat(a)};u._bool={t:1,"true":1};u._reparentEvents=function(a,b){for(var c in b)"on"==c.substr(0,2).toLowerCase()&&(a[c]=b[c],b[c]=null)};u.Shape=m("dojox.gfx.vml.Shape",d.Shape,{setFill:function(a){if(!a)return this.fillStyle=null,this.rawNode.filled="f",this;var c,d,e;if("object"==typeof a&&"type"in a){switch(a.type){case "linear":var f=this._getRealMatrix(),
g=this.getBoundingBox(),h=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();e=[];this.fillStyle!==a&&(this.fillStyle=b.makeParameters(b.defaultLinearGradient,a));a=b.gradient.project(f,this.fillStyle,{x:g.x,y:g.y},{x:g.x+g.width,y:g.y+g.height},h[0],h[2]);d=a.colors;"0.00000"!=d[0].offset.toFixed(5)&&e.push("0 "+b.normalizeColor(d[0].color).toHex());for(c=0;c<d.length;++c)e.push(d[c].offset.toFixed(5)+" "+b.normalizeColor(d[c].color).toHex());c=d.length-1;"1.00000"!=d[c].offset.toFixed(5)&&
e.push("1 "+b.normalizeColor(d[c].color).toHex());c=this.rawNode.fill;c.colors.value=e.join(";");c.method="sigma";c.type="gradient";c.angle=(270-s._radToDeg(a.angle))%360;c.on=!0;break;case "radial":this.fillStyle=a=b.makeParameters(b.defaultRadialGradient,a);var f=parseFloat(this.rawNode.style.left),g=parseFloat(this.rawNode.style.top),h=parseFloat(this.rawNode.style.width),l=parseFloat(this.rawNode.style.height),m=isNaN(h)?1:2*a.r/h;d=[];0<a.colors[0].offset&&d.push({offset:1,color:b.normalizeColor(a.colors[0].color)});
k.forEach(a.colors,function(a,c){d.push({offset:1-a.offset*m,color:b.normalizeColor(a.color)})});for(c=d.length-1;0<=c&&0>d[c].offset;)--c;if(c<d.length-1){e=d[c];var n=d[c+1];n.color=q.blendColors(e.color,n.color,e.offset/(e.offset-n.offset));for(n.offset=0;2<d.length-c;)d.pop()}c=d.length-1;e=[];for(0<d[c].offset&&e.push("0 "+d[c].color.toHex());0<=c;--c)e.push(d[c].offset.toFixed(5)+" "+d[c].color.toHex());c=this.rawNode.fill;c.colors.value=e.join(";");c.method="sigma";c.type="gradientradial";
isNaN(h)||isNaN(l)||isNaN(f)||isNaN(g)?c.focusposition="0.5 0.5":c.focusposition=((a.cx-f)/h).toFixed(5)+" "+((a.cy-g)/l).toFixed(5);c.focussize="0 0";c.on=!0;break;case "pattern":this.fillStyle=a=b.makeParameters(b.defaultPattern,a),c=this.rawNode.fill,c.type="tile",c.src=a.src,a.width&&a.height&&(c.size.x=b.px2pt(a.width),c.size.y=b.px2pt(a.height)),c.alignShape="f",c.position.x=0,c.position.y=0,c.origin.x=a.width?a.x/a.width:0,c.origin.y=a.height?a.y/a.height:0,c.on=!0}this.rawNode.fill.opacity=
1;return this}this.fillStyle=b.normalizeColor(a);(c=this.rawNode.fill)||(c=this.rawNode.ownerDocument.createElement("v:fill"));c.method="any";c.type="solid";c.opacity=this.fillStyle.a;if(e=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"])e.opacity=Math.round(100*this.fillStyle.a);this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=!0;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this.rawNode.stroked="f",this;if("string"==typeof a||f.isArray(a)||a instanceof
q)a={color:a};a=this.strokeStyle=b.makeParameters(b.defaultStroke,a);a.color=b.normalizeColor(a.color);var c=this.rawNode;c.stroked=!0;c.strokecolor=a.color.toCss();c.strokeweight=a.width+"px";c.stroke&&(c.stroke.opacity=a.color.a,c.stroke.endcap=this._translate(this._capMap,a.cap),"number"==typeof a.join?(c.stroke.joinstyle="miter",c.stroke.miterlimit=a.join):c.stroke.joinstyle=a.join,c.stroke.dashstyle="none"==a.style?"Solid":a.style);return this},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},
_translate:function(a,b){return b in a?a[b]:b},_applyTransform:function(){var a=this._getRealMatrix();if(a){var b=this.rawNode.skew;if("undefined"==typeof b)for(var c=0;c<this.rawNode.childNodes.length;++c)if("skew"==this.rawNode.childNodes[c].tagName){b=this.rawNode.childNodes[c];break}if(b){b.on="f";var c=a.xx.toFixed(8)+" "+a.xy.toFixed(8)+" "+a.yx.toFixed(8)+" "+a.yy.toFixed(8)+" 0 0",a=Math.floor(a.dx).toFixed()+"px "+Math.floor(a.dy).toFixed()+"px",d=this.rawNode.style,e=parseFloat(d.left),
f=parseFloat(d.top),g=parseFloat(d.width),d=parseFloat(d.height);isNaN(e)&&(e=0);isNaN(f)&&(f=0);if(isNaN(g)||!g)g=1;if(isNaN(d)||!d)d=1;e=(-e/g-0.5).toFixed(8)+" "+(-f/d-0.5).toFixed(8);b.matrix=c;b.origin=e;b.offset=a;b.on=!0}}this.fillStyle&&"linear"==this.fillStyle.type&&this.setFill(this.fillStyle);this.clip&&this.setClip(this.clip);return this},_setDimensions:function(a,b){return this},setRawNode:function(a){a.stroked="f";a.filled="f";this.rawNode=a;this.rawNode.__gfxObject__=this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);
return this},_moveToBack:function(){var a=this.rawNode,b=a.parentNode,c=b.firstChild;b.insertBefore(a,c);"rect"==c.tagName&&c.swapNode(a);return this},_getRealMatrix:function(){return this.parentMatrix?new s.Matrix2D([this.parentMatrix,this.matrix]):this.matrix},setClip:function(a){this.inherited(arguments);var b=this.rawNode.style;if(a){if("width"in a){var c=this._getRealMatrix(),d=parseFloat(b.left),e=parseFloat(b.top);isNaN(d)&&(d=0);isNaN(e)&&(e=0);var f=s.multiplyRectangle(c,a),c=s.multiplyPoint(c,
{x:d,y:e});b.clip="rect("+Math.round(f.y-c.y)+"px "+Math.round(f.x-c.x+f.width)+"px "+Math.round(f.y-c.y+f.height)+"px "+Math.round(f.x-c.x)+"px)"}}else b.position="absolute",b.clip="rect(0px "+b.width+" "+b.height+" 0px)";return this}});(function(){var a=u.Shape,b=a.prototype.setStroke,d=a.prototype.setFill;a.prototype.setStroke=function(){var a=b.apply(this,arguments),c=this.rawNode,c=c&&c.stroke,d=this.getParent();c&&d&&(c.opacity*=void 0!==d._esriIeOpacity&&null!==d._esriIeOpacity?d._esriIeOpacity:
1);return a};a.prototype.setFill=function(){var a=d.apply(this,arguments),b=this.rawNode,e=b&&b.fill,f=this.getParent();e&&f&&(f=void 0!==f._esriIeOpacity&&null!==f._esriIeOpacity?f._esriIeOpacity:1,"tile"===e.type?c.set(b,"opacity",f):e.opacity*=f);return a}})();u.Group=m("dojox.gfx.vml.Group",u.Shape,{constructor:function(){d.Container._init.call(this)},_applyTransform:function(){for(var a=this._getRealMatrix(),b=0;b<this.children.length;++b)this.children[b]._updateParentMatrix(a);this.clip&&this.setClip(this.clip);
return this},_setDimensions:function(a,b){var c=this.rawNode,d=c.style,e=this.bgNode.style;d.width=a;d.height=b;c.coordsize=a+" "+b;e.width=a;e.height=b;for(c=0;c<this.children.length;++c)this.children[c]._setDimensions(a,b);return this},setClip:function(a){this.clip=a;var b=this.rawNode.style;if(a){if("width"in a){var c=this._getRealMatrix();a=s.multiplyRectangle(c,a);var d=this.getBoundingBox(),c=(d=d?s.multiplyRectangle(c,d):null)&&0>d.x?d.x:0,d=d&&0>d.y?d.y:0;b.position="absolute";b.clip="rect("+
Math.round(a.y-d)+"px "+Math.round(a.x+a.width-c)+"px "+Math.round(a.y+a.height-d)+"px "+Math.round(a.x-c)+"px)"}}else b.position="absolute",b.clip="rect(0px "+b.width+" "+b.height+" 0px)";return this},destroy:function(){this.clear(!0);u.Shape.prototype.destroy.apply(this,arguments)}});u.Group.nodeType="group";u.Rect=m("dojox.gfx.vml.Rect",[u.Shape,d.Rect],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;var c=Math.min(1,a.r/Math.min(parseFloat(a.width),parseFloat(a.height))).toFixed(8),
d=this.rawNode.parentNode,e=null;if(d){if(d.lastChild!==this.rawNode)for(var f=0;f<d.childNodes.length;++f)if(d.childNodes[f]===this.rawNode){e=d.childNodes[f+1];break}d.removeChild(this.rawNode)}7<l("ie")?(f=this.rawNode.ownerDocument.createElement("v:roundrect"),f.arcsize=c,f.style.display="inline-block",u._reparentEvents(f,this.rawNode),this.rawNode=f,this.rawNode.__gfxObject__=this):this.rawNode.arcsize=c;d&&(e?d.insertBefore(this.rawNode,e):d.appendChild(this.rawNode));c=this.rawNode.style;c.left=
a.x.toFixed();c.top=a.y.toFixed();c.width="string"==typeof a.width&&0<=a.width.indexOf("%")?a.width:Math.max(a.width.toFixed(),0);c.height="string"==typeof a.height&&0<=a.height.indexOf("%")?a.height:Math.max(a.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle)}});u.Rect.nodeType="roundrect";u.Ellipse=m("dojox.gfx.vml.Ellipse",[u.Shape,d.Ellipse],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;var c=this.rawNode.style;
c.left=(a.cx-a.rx).toFixed();c.top=(a.cy-a.ry).toFixed();c.width=(2*a.rx).toFixed();c.height=(2*a.ry).toFixed();return this.setTransform(this.matrix)}});u.Ellipse.nodeType="oval";u.Circle=m("dojox.gfx.vml.Circle",[u.Shape,d.Circle],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;var c=this.rawNode.style;c.left=(a.cx-a.r).toFixed();c.top=(a.cy-a.r).toFixed();c.width=(2*a.r).toFixed();c.height=(2*a.r).toFixed();return this}});u.Circle.nodeType="oval";u.Line=m("dojox.gfx.vml.Line",
[u.Shape,d.Line],{constructor:function(a){a&&a.setAttribute("dojoGfxType","line")},setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;this.rawNode.path.v="m"+a.x1.toFixed()+" "+a.y1.toFixed()+"l"+a.x2.toFixed()+" "+a.y2.toFixed()+"e";return this.setTransform(this.matrix)}});u.Line.nodeType="shape";u.Polyline=m("dojox.gfx.vml.Polyline",[u.Shape,d.Polyline],{constructor:function(a){a&&a.setAttribute("dojoGfxType","polyline")},setShape:function(a,c){a&&a instanceof Array?
(this.shape=b.makeParameters(this.shape,{points:a}),c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=b.makeParameters(this.shape,a);this.bbox=null;this._normalizePoints();var d=[],e=this.shape.points;if(0<e.length&&(d.push("m"),d.push(e[0].x.toFixed(),e[0].y.toFixed()),1<e.length)){d.push("l");for(var f=1;f<e.length;++f)d.push(e[f].x.toFixed(),e[f].y.toFixed())}d.push("e");this.rawNode.path.v=d.join(" ");return this.setTransform(this.matrix)}});u.Polyline.nodeType=
"shape";u.Image=m("dojox.gfx.vml.Image",[u.Shape,d.Image],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;this.rawNode.firstChild.src=a.src;return this.setTransform(this.matrix)},_applyTransform:function(){var a=this._getRealMatrix(),b=this.rawNode,c=b.style,d=this.shape,a=a?s.multiply(a,{dx:d.x,dy:d.y}):s.normalize({dx:d.x,dy:d.y});if(0==a.xy&&0==a.yx&&0<a.xx&&0<a.yy)c.filter="",c.width=Math.floor(a.xx*d.width),c.height=Math.floor(a.yy*d.height),c.left=Math.floor(a.dx),
c.top=Math.floor(a.dy);else{var e=b.parentNode.style;c.left="0px";c.top="0px";c.width=e.width;c.height=e.height;a=s.multiply(a,{xx:d.width/parseInt(c.width),yy:d.height/parseInt(c.height)});(b=b.filters["DXImageTransform.Microsoft.Matrix"])?(b.M11=a.xx,b.M12=a.xy,b.M21=a.yx,b.M22=a.yy,b.Dx=a.dx,b.Dy=a.dy):c.filter="progid:DXImageTransform.Microsoft.Matrix(M11\x3d"+a.xx+", M12\x3d"+a.xy+", M21\x3d"+a.yx+", M22\x3d"+a.yy+", Dx\x3d"+a.dx+", Dy\x3d"+a.dy+")"}return this},_setDimensions:function(a,b){var c=
this.rawNode;return c.filters["DXImageTransform.Microsoft.Matrix"]?(c=c.style,c.width=a,c.height=b,this._applyTransform()):this}});u.Image.nodeType="rect";u.Text=m("dojox.gfx.vml.Text",[u.Shape,d.Text],{constructor:function(a){a&&a.setAttribute("dojoGfxType","text");this.fontStyle=null},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(a){this.shape=b.makeParameters(this.shape,a);this.bbox=null;var c=this.rawNode;a=this.shape;var d=a.x,e=a.y.toFixed();switch(a.align){case "middle":d-=
5;break;case "end":d-=10}for(var e="m"+d.toFixed()+","+e+"l"+(d+10).toFixed()+","+e+"e",f=null,d=null,g=c.childNodes,h=0;h<g.length;++h){var k=g[h].tagName;if("path"==k){if(f=g[h],d)break}else if("textpath"==k&&(d=g[h],f))break}f||(f=c.ownerDocument.createElement("v:path"),c.appendChild(f));d||(d=c.ownerDocument.createElement("v:textpath"),c.appendChild(d));f.v=e;f.textPathOk=!0;d.on=!0;c=u.text_alignment[a.align];d.style["v-text-align"]=c?c:"left";d.style["text-decoration"]=a.decoration;d.style["v-rotate-letters"]=
a.rotated;d.style["v-text-kern"]=a.kerning;d.string=a.text;return this.setTransform(this.matrix)},_setFont:function(){for(var a=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if("textpath"==c[d].tagName){c[d].style.font=b.makeFontString(a);break}this.setTransform(this.matrix)},_getRealMatrix:function(){var a=this.inherited(arguments);a&&(a=s.multiply(a,{dy:0.35*-b.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")}));return a},getTextWidth:function(){var a=this.rawNode,c=a.style.display;
a.style.display="inline";var d=b.pt2px(parseFloat(a.currentStyle.width));a.style.display=c;return d}});u.Text.nodeType="shape";u.Path=m("dojox.gfx.vml.Path",[u.Shape,n.Path],{constructor:function(a){a&&!a.getAttribute("dojoGfxType")&&a.setAttribute("dojoGfxType","path");this.vmlPath="";this.lastControl={}},_updateWithSegment:function(a){var b=f.clone(this.last);this.inherited(arguments);1<arguments.length||(b=this[this.renderers[a.action]](a,b),"string"==typeof this.vmlPath?(this.vmlPath+=b.join(""),
this.rawNode.path.v=this.vmlPath+" r0,0 e"):Array.prototype.push.apply(this.vmlPath,b))},setShape:function(a){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",
s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(a,b,c,d){for(b=b instanceof Array?b:b.args;c<d;++c)a.push(" ",b[c].toFixed())},_adjustRelCrd:function(a,b,c){b=b instanceof Array?b:b.args;var d=b.length,e=Array(d),f=0,g=a.x;a=a.y;"number"!=typeof g&&(e[0]=g=b[0],e[1]=a=b[1],f=2);if("number"==typeof c&&2!=c)for(var h=c;h<=d;){for(;f<h;f+=2)e[f]=g+b[f],e[f+1]=a+b[f+1];g=e[h-2];a=e[h-1];
h+=c}else for(;f<d;f+=2)e[f]=g+=b[f],e[f+1]=a+=b[f+1];return e},_adjustRelPos:function(a,b){for(var c=b instanceof Array?b:b.args,d=c.length,e=Array(d),f=0;f<d;++f)e[f]=a+=c[f];return e},_moveToA:function(a){var b=[" m"];a=a instanceof Array?a:a.args;var c=a.length;this._addArgs(b,a,0,2);2<c&&(b.push(" l"),this._addArgs(b,a,2,c));this.lastControl.type="";return b},_moveToR:function(a,b){return this._moveToA(this._adjustRelCrd(b,a))},_lineToA:function(a){var b=[" l"];a=a instanceof Array?a:a.args;
this._addArgs(b,a,0,a.length);this.lastControl.type="";return b},_lineToR:function(a,b){return this._lineToA(this._adjustRelCrd(b,a))},_hLineToA:function(a,b){for(var c=[" l"],d=" "+b.y.toFixed(),e=a instanceof Array?a:a.args,f=e.length,g=0;g<f;++g)c.push(" ",e[g].toFixed(),d);this.lastControl.type="";return c},_hLineToR:function(a,b){return this._hLineToA(this._adjustRelPos(b.x,a),b)},_vLineToA:function(a,b){for(var c=[" l"],d=" "+b.x.toFixed(),e=a instanceof Array?a:a.args,f=e.length,g=0;g<f;++g)c.push(d,
" ",e[g].toFixed());this.lastControl.type="";return c},_vLineToR:function(a,b){return this._vLineToA(this._adjustRelPos(b.y,a),b)},_curveToA:function(a){var b=[];a=a instanceof Array?a:a.args;for(var c=a.length,d=this.lastControl,e=0;e<c;e+=6)b.push(" c"),this._addArgs(b,a,e,e+6);d.x=a[c-4];d.y=a[c-3];d.type="C";return b},_curveToR:function(a,b){return this._curveToA(this._adjustRelCrd(b,a,6))},_smoothCurveToA:function(a,b){var c=[],d=a instanceof Array?a:a.args,e=d.length,f=this.lastControl,g=0;
"C"!=f.type&&(c.push(" c"),this._addArgs(c,[b.x,b.y],0,2),this._addArgs(c,d,0,4),f.x=d[0],f.y=d[1],f.type="C",g=4);for(;g<e;g+=4)c.push(" c"),this._addArgs(c,[2*b.x-f.x,2*b.y-f.y],0,2),this._addArgs(c,d,g,g+4),f.x=d[g],f.y=d[g+1];return c},_smoothCurveToR:function(a,b){return this._smoothCurveToA(this._adjustRelCrd(b,a,4),b)},_qCurveToA:function(a){var b=[];a=a instanceof Array?a:a.args;for(var c=a.length,d=this.lastControl,e=0;e<c;e+=4)b.push(" qb"),this._addArgs(b,a,e,e+4);d.x=a[c-4];d.y=a[c-3];
d.type="Q";return b},_qCurveToR:function(a,b){return this._qCurveToA(this._adjustRelCrd(b,a,4))},_qSmoothCurveToA:function(a,b){var c=[],d=a instanceof Array?a:a.args,e=d.length,f=this.lastControl,g=0;"Q"!=f.type&&(c.push(" qb"),this._addArgs(c,[f.x=b.x,f.y=b.y],0,2),f.type="Q",this._addArgs(c,d,0,2),g=2);for(;g<e;g+=2)c.push(" qb"),this._addArgs(c,[f.x=2*b.x-f.x,f.y=2*b.y-f.y],0,2),this._addArgs(c,d,g,g+2);return c},_qSmoothCurveToR:function(a,b){return this._qSmoothCurveToA(this._adjustRelCrd(b,
a,2),b)},_arcTo:function(a,b){for(var c=[],d=a.args,e=d.length,f="a"==a.action,g=0;g<e;g+=7){var h=d[g+5],k=d[g+6];f&&(h+=b.x,k+=b.y);for(var l=r.arcAsBezier(b,d[g],d[g+1],d[g+2],d[g+3]?1:0,d[g+4]?1:0,h,k),m=0;m<l.length;++m){c.push(" c");var n=l[m];this._addArgs(c,n,0,n.length);this._updateBBox(n[0],n[1]);this._updateBBox(n[2],n[3]);this._updateBBox(n[4],n[5])}b.x=h;b.y=k}this.lastControl.type="";return c},_closePath:function(){this.lastControl.type="";return["x"]}});u.Path.nodeType="shape";u.EsriPath=
m("dojox.gfx.vml.EsriPath",u.Path,{setShape:function(a){this.rawNode.path.v=this.vmlPath=a;return this}});u.EsriPath.nodeType="shape";u.TextPath=m("dojox.gfx.vml.TextPath",[u.Path,n.TextPath],{constructor:function(a){a&&a.setAttribute("dojoGfxType","textpath");this.fontStyle=null;"text"in this||(this.text=f.clone(b.defaultTextPath));"fontStyle"in this||(this.fontStyle=f.clone(b.defaultFont))},setText:function(a){this.text=b.makeParameters(this.text,"string"==typeof a?{text:a}:a);this._setText();return this},
setFont:function(a){this.fontStyle="string"==typeof a?b.splitFontString(a):b.makeParameters(b.defaultFont,a);this._setFont();return this},_setText:function(){this.bbox=null;for(var a=this.rawNode,b=this.text,c=null,d=null,e=a.childNodes,f=0;f<e.length;++f){var g=e[f].tagName;if("path"==g){if(c=e[f],d)break}else if("textpath"==g&&(d=e[f],c))break}c||(c=this.rawNode.ownerDocument.createElement("v:path"),a.appendChild(c));d||(d=this.rawNode.ownerDocument.createElement("v:textpath"),a.appendChild(d));
c.textPathOk=!0;d.on=!0;a=u.text_alignment[b.align];d.style["v-text-align"]=a?a:"left";d.style["text-decoration"]=b.decoration;d.style["v-rotate-letters"]=b.rotated;d.style["v-text-kern"]=b.kerning;d.string=b.text},_setFont:function(){for(var a=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if("textpath"==c[d].tagName){c[d].style.font=b.makeFontString(a);break}}});u.TextPath.nodeType="shape";u.Surface=m("dojox.gfx.vml.Surface",d.Surface,{constructor:function(){d.Container._init.call(this)},
destroy:function(){this.clear(!0);this.inherited(arguments)},setDimensions:function(a,c){this.width=b.normalizedLength(a);this.height=b.normalizedLength(c);if(!this.rawNode)return this;var d=this.clipNode.style,e=this.rawNode,f=e.style,g=this.bgNode.style,h=this._parent.style;h.width=a;h.height=c;d.width=a;d.height=c;d.clip="rect(0px "+a+"px "+c+"px 0px)";f.width=a;f.height=c;e.coordsize=a+" "+c;g.width=a;g.height=c;for(d=0;d<this.children.length;++d)this.children[d]._setDimensions(a,c);return this},
getDimensions:function(){var a=this.rawNode?{width:b.normalizedLength(this.rawNode.style.width),height:b.normalizedLength(this.rawNode.style.height)}:null;0>=a.width&&(a.width=this.width);0>=a.height&&(a.height=this.height);return a}});u.createSurface=function(a,c,d){if(!c&&!d){var f=e.position(a);c=c||f.w;d=d||f.h}"number"==typeof c&&(c+="px");"number"==typeof d&&(d+="px");f=new u.Surface;a=g.byId(a);var h=f.clipNode=a.ownerDocument.createElement("div"),k=f.rawNode=a.ownerDocument.createElement("v:group"),
m=h.style,n=k.style;7<l("ie")&&(n.display="inline-block");f._parent=a;f._nodes.push(h);a.style.width=c;a.style.height=d;m.position="absolute";m.width=c;m.height=d;m.clip="rect(0px "+c+" "+d+" 0px)";n.position="absolute";n.width=c;n.height=d;k.coordsize=("100%"===c?c:parseFloat(c))+" "+("100%"===d?d:parseFloat(d));k.coordorigin="0 0";var m=f.bgNode=k.ownerDocument.createElement("v:rect"),q=m.style;q.left=q.top=0;q.width=n.width;q.height=n.height;m.filled=m.stroked="f";k.appendChild(m);h.appendChild(k);
a.appendChild(h);f.width=b.normalizedLength(c);f.height=b.normalizedLength(d);return f};m=function(a){if(this!=a.getParent()){var b=a.getParent();b&&b.remove(a);this.rawNode.appendChild(a.rawNode);y.add.apply(this,arguments);x(this,function(a){"function"==typeof a.getFont&&(a.setShape(a.getShape()),a.setFont(a.getFont()));"function"==typeof a.setFill&&(a.setFill(a.getFill()),a.setStroke(a.getStroke()))})}return this};n=function(a){this!=a.getParent()&&(this.rawNode.appendChild(a.rawNode),a.getParent()||
(a.setFill(a.getFill()),a.setStroke(a.getStroke())),y.add.apply(this,arguments));return this};var y=d.Container;h={add:!0===h.fixVmlAdd?m:n,remove:function(a,b){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),y.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.firstChild!=a.lastChild;)a.firstChild!=this.bgNode&&a.removeChild(a.firstChild),a.lastChild!=this.bgNode&&a.removeChild(a.lastChild);return y.clear.apply(this,
arguments)},getBoundingBox:y.getBoundingBox,_moveChildToFront:y._moveChildToFront,_moveChildToBack:y._moveChildToBack};m={createGroup:function(){var a=this.createObject(u.Group,null),b=a.rawNode.ownerDocument.createElement("v:rect");b.style.left=b.style.top=0;b.style.width=a.rawNode.style.width;b.style.height=a.rawNode.style.height;b.filled=b.stroked="f";a.rawNode.appendChild(b);a.bgNode=b;return a},createImage:function(a){if(!this.rawNode)return null;var b=new u.Image,c=this.rawNode.ownerDocument,
d=c.createElement("v:rect");d.stroked="f";d.style.width=this.rawNode.style.width;d.style.height=this.rawNode.style.height;c=c.createElement("v:imagedata");d.appendChild(c);b.setRawNode(d);this.rawNode.appendChild(d);b.setShape(a);this.add(b);return b},createRect:function(a){if(!this.rawNode)return null;var b=new u.Rect,c=this.rawNode.ownerDocument.createElement("v:roundrect");7<l("ie")&&(c.style.display="inline-block");b.setRawNode(c);this.rawNode.appendChild(c);b.setShape(a);this.add(b);return b},
createObject:function(a,b){if(!this.rawNode)return null;var c=new a,d=this.rawNode.ownerDocument.createElement("v:"+a.nodeType);c.setRawNode(d);this.rawNode.appendChild(d);switch(a){case u.Group:case u.Line:case u.Polyline:case u.Image:case u.Text:case u.Path:case u.TextPath:this._overrideSize(d)}c.setShape(b);this.add(c);return c},_overrideSize:function(a){var b=this.rawNode.style,c=b.width,b=b.height;a.style.width=c;a.style.height=b;a.coordsize=parseInt(c)+" "+parseInt(b)}};f.extend(u.Group,h);
f.extend(u.Group,d.Creator);f.extend(u.Group,m);f.extend(u.Surface,h);f.extend(u.Surface,d.Creator);f.extend(u.Surface,m);u.fixTarget=function(a,b){a.gfxTarget||(a.gfxTarget=a.target.__gfxObject__);return!0};return u})},"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(f,m,k){function q(a){var b=Math.cos(a);a=Math.sin(a);var c={x:b+4/3*(1-b),y:a-4/3*b*(1-b)/a};return{s:{x:b,y:-a},c1:{x:c.x,y:-c.y},c2:c,e:{x:b,y:a}}}var l=2*Math.PI,h=Math.PI/4,g=Math.PI/8,e=h+g,c=
q(g);return f.arc={unitArcAsBezier:q,curvePI4:c,arcAsBezier:function(a,b,d,f,m,t,s,x){m=Boolean(m);t=Boolean(t);var u=k._degToRad(f);f=b*b;var z=d*d,y=k.multiplyPoint(k.rotate(-u),{x:(a.x-s)/2,y:(a.y-x)/2}),w=y.x*y.x,D=y.y*y.y;f=Math.sqrt((f*z-f*D-z*w)/(f*D+z*w));isNaN(f)&&(f=0);f={x:f*b*y.y/d,y:-f*d*y.x/b};m==t&&(f={x:-f.x,y:-f.y});f=k.multiplyPoint([k.translate((a.x+s)/2,(a.y+x)/2),k.rotate(u)],f);b=k.normalize([k.translate(f.x,f.y),k.rotate(u),k.scale(b,d)]);f=k.invert(b);a=k.multiplyPoint(f,a);
x=k.multiplyPoint(f,s,x);s=Math.atan2(a.y,a.x);x=Math.atan2(x.y,x.x);f=s-x;t&&(f=-f);0>f?f+=l:f>l&&(f-=l);d=g;x=c;d=t?d:-d;a=[];for(m=f;0<m;m-=h)m<e&&(d=m/2,x=q(d),d=t?d:-d,m=0),y=k.normalize([b,k.rotate(s+d)]),t?(f=k.multiplyPoint(y,x.c1),u=k.multiplyPoint(y,x.c2),y=k.multiplyPoint(y,x.e)):(f=k.multiplyPoint(y,x.c2),u=k.multiplyPoint(y,x.c1),y=k.multiplyPoint(y,x.s)),a.push([f.x,f.y,u.x,u.y,y.x,y.y]),s+=2*d;return a}}})},"dojox/gfx/gradient":function(){define(["dojo/_base/lang","./matrix","dojo/_base/Color"],
function(f,m,k){function q(f,e,c,a,b,d){f=m.multiplyPoint(c,f,e);a=m.multiplyPoint(a,f);return{r:f,p:a,o:m.multiplyPoint(b,a).x/d}}function l(f,e){return f.o-e.o}var h=f.getObject("dojox.gfx.gradient",!0);h.rescale=function(f,e,c){var a=f.length,b=c<e,d;b&&(d=e,e=c,c=d);if(!a)return[];if(c<=f[0].offset)d=[{offset:0,color:f[0].color},{offset:1,color:f[0].color}];else if(e>=f[a-1].offset)d=[{offset:0,color:f[a-1].color},{offset:1,color:f[a-1].color}];else{var h=c-e,l,m,q;d=[];0>e&&d.push({offset:0,
color:new k(f[0].color)});for(q=0;q<a&&!(l=f[q],l.offset>=e);++q);q?(m=f[q-1],d.push({offset:0,color:k.blendColors(new k(m.color),new k(l.color),(e-m.offset)/(l.offset-m.offset))})):d.push({offset:0,color:new k(l.color)});for(;q<a;++q){l=f[q];if(l.offset>=c)break;d.push({offset:(l.offset-e)/h,color:new k(l.color)})}q<a?(m=f[q-1],d.push({offset:1,color:k.blendColors(new k(m.color),new k(l.color),(c-m.offset)/(l.offset-m.offset))})):d.push({offset:1,color:new k(f[a-1].color)})}if(b){d.reverse();q=0;
for(a=d.length;q<a;++q)l=d[q],l.offset=1-l.offset}return d};h.project=function(f,e,c,a,b,d){f=f||m.identity;var k=m.multiplyPoint(f,e.x1,e.y1),r=m.multiplyPoint(f,e.x2,e.y2);b=Math.atan2(r.y-k.y,r.x-k.x);d=m.project(r.x-k.x,r.y-k.y);k=m.multiplyPoint(d,k);r=m.multiplyPoint(d,r);k=new m.Matrix2D([m.rotate(-b),{dx:-k.x,dy:-k.y}]);r=m.multiplyPoint(k,r).x;f=[q(c.x,c.y,f,d,k,r),q(a.x,a.y,f,d,k,r),q(c.x,a.y,f,d,k,r),q(a.x,c.y,f,d,k,r)].sort(l);e=h.rescale(e.colors,f[0].o,f[3].o);Math.atan2(f[3].r.y-f[0].r.y,
f[3].r.x-f[0].r.x);return{type:"linear",x1:f[0].p.x,y1:f[0].p.y,x2:f[3].p.x,y2:f[3].p.y,colors:e,angle:b}};return h})},"dojox/gfx/canvas":function(){define("./_base dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom-geometry dojo/dom ./shape ./path ./arc ./matrix ./decompose ./bezierutils".split(" "),function(f,m,k,q,l,h,g,e,c,a,b,d,n){function r(a,b,c,d,e,f,g,h,k,l){var m,n,q=b.length,r=0;l?(n=l.l/e,r=l.i):n=b[0]/e;for(;f<g;)f+n>g&&(m={l:(f+n-g)*e,i:r},n=g-f),r%2||(a.beginPath(),
a.arc(c,d,e,f,f+n,h),k&&a.stroke()),f+=n,++r,n=b[r%q]/e;return m}function t(a,b,c,d){var e=0,f=0,g,h=0;d?(g=d.l,h=d.i):g=b[0];for(;1>f;)f=n.tAtLength(a,g),1==f&&(e=n.computeLength(a),e={l:g-e,i:h}),a=n.splitBezierAtT(a,f),h%2||c.push(a[0]),a=a[1],++h,g=b[h%b.length];return e}function s(a,b,c,d){var e=[b.last.x,b.last.y].concat(c),f=!(a instanceof Array);c=4===c.length?"quadraticCurveTo":"bezierCurveTo";var g=[];b=t(e,b.canvasDash,g,d);for(d=0;d<g.length;++d)e=g[d],f?(a.moveTo(e[0],e[1]),a[c].apply(a,
e.slice(2))):(a.push("moveTo",[e[0],e[1]]),a.push(c,e.slice(2)));return b}function x(a,b,c,d,e,f,g){var h=0,k=0,l=0,m=n.distance(c,d,e,f),q=0;b=b.canvasDash;var r=c,s=d,t,A=!(a instanceof Array);g?(l=g.l,q=g.i):l+=b[0];for(;0.01<Math.abs(1-k);)l>m&&(h={l:l-m,i:q},l=m),k=l/m,g=c+(e-c)*k,t=d+(f-d)*k,q++%2||(A?(a.moveTo(r,s),a.lineTo(g,t)):(a.push("moveTo",[r,s]),a.push("lineTo",[g,t]))),r=g,s=t,l+=b[q%b.length];return h}var u=f.canvas={},z=null,y=b.multiplyPoint,w=Math.PI,D=2*w,C=w/2;d=m.extend;if(l.global.CanvasRenderingContext2D){l=
l.doc.createElement("canvas").getContext("2d");var B="function"==typeof l.setLineDash,E="function"==typeof l.fillText}var A={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};u.Shape=q("dojox.gfx.canvas.Shape",e.Shape,{_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);this._renderShape(a);this._renderFill(a,!0);this._renderStroke(a,
!0);a.restore()},_renderClip:function(a){this.canvasClip&&(this.canvasClip.render(a),a.clip())},_renderTransform:function(a){if("canvasTransform"in this){var b=this.canvasTransform;a.translate(b.dx,b.dy);a.rotate(b.angle2);a.scale(b.sx,b.sy);a.rotate(b.angle1)}},_renderShape:function(a){},_renderFill:function(a,b){if("canvasFill"in this){var c=this.fillStyle;if("canvasFillImage"in this){var d=c.width,e=c.height,f=this.canvasFillImage.width,g=this.canvasFillImage.height,h=Math.min(d==f?1:d/f,e==g?
1:e/g),k=(d-h*f)/2,l=(e-h*g)/2;z.width=d;z.height=e;var m=z.getContext("2d");m.clearRect(0,0,d,e);m.drawImage(this.canvasFillImage,0,0,f,g,k,l,h*f,h*g);this.canvasFill=a.createPattern(z,"repeat");delete this.canvasFillImage}a.fillStyle=this.canvasFill;b&&("pattern"===c.type&&(0!==c.x||0!==c.y)&&a.translate(c.x,c.y),a.fill())}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(a,b){var c=this.strokeStyle;c?(a.strokeStyle=c.color.toString(),a.lineWidth=c.width,a.lineCap=c.cap,"number"==typeof c.join?
(a.lineJoin="miter",a.miterLimit=c.join):a.lineJoin=c.join,this.canvasDash?B?(a.setLineDash(this.canvasDash),b&&a.stroke()):this._renderDashedStroke(a,b):b&&a.stroke()):b||(a.strokeStyle="rgba(0,0,0,0.0)")},_renderDashedStroke:function(a,b){},getEventSource:function(){return null},on:function(){},connect:function(){},disconnect:function(){},canvasClip:null,setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&
!b)return this;this.canvasClip=a?G(b,a):null;this.parent&&this.parent._makeDirty();return this}});var G=function(a,b){switch(a){case "ellipse":return{canvasEllipse:L({shape:b}),render:function(a){return u.Ellipse.prototype._renderShape.call(this,a)}};case "rect":return{shape:m.delegate(b,{r:0}),render:function(a){return u.Rect.prototype._renderShape.call(this,a)}};case "path":return{canvasPath:M(b),render:function(a){this.canvasPath._renderShape(a)}};case "polyline":return{canvasPolyline:b.points,
render:function(a){return u.Polyline.prototype._renderShape.call(this,a)}}}return null},M=function(a){var b=new dojox.gfx.canvas.Path;b.canvasPath=[];b._setPath(a.d);return b},F=function(a,b,c){var d=a.prototype[b];a.prototype[b]=c?function(){this.parent&&this.parent._makeDirty();d.apply(this,arguments);c.call(this);return this}:function(){this.parent&&this.parent._makeDirty();return d.apply(this,arguments)}};F(u.Shape,"setTransform",function(){this.matrix?this.canvasTransform=f.decompose(this.matrix):
delete this.canvasTransform});F(u.Shape,"setFill",function(){var a=this.fillStyle,b;if(a){if("object"==typeof a&&"type"in a){var c=this.surface.rawNode.getContext("2d");switch(a.type){case "linear":case "radial":b="linear"==a.type?c.createLinearGradient(a.x1,a.y1,a.x2,a.y2):c.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);k.forEach(a.colors,function(a){b.addColorStop(a.offset,f.normalizeColor(a.color).toString())});break;case "pattern":z||(z=document.createElement("canvas")),c=new Image,this.surface.downloadImage(c,
a.src),this.canvasFillImage=c}}else b=a.toString();this.canvasFill=b}else delete this.canvasFill});F(u.Shape,"setStroke",function(){var a=this.strokeStyle;if(a){var b=this.strokeStyle.style.toLowerCase();b in A&&(b=A[b]);if(b instanceof Array){this.canvasDash=b=b.slice();var c;for(c=0;c<b.length;++c)b[c]*=a.width;if("butt"!=a.cap){for(c=0;c<b.length;c+=2)b[c]-=a.width,1>b[c]&&(b[c]=1);for(c=1;c<b.length;c+=2)b[c]+=a.width}}else delete this.canvasDash}else delete this.canvasDash;this._needsDash=!B&&
!!this.canvasDash});F(u.Shape,"setShape");u.Group=q("dojox.gfx.canvas.Group",u.Shape,{constructor:function(){e.Container._init.call(this)},_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},destroy:function(){e.Container.clear.call(this,!0);u.Shape.prototype.destroy.apply(this,arguments)}});u.Rect=q("dojox.gfx.canvas.Rect",[u.Shape,e.Rect],{_renderShape:function(a){var b=this.shape,c=Math.min(b.r,
b.height/2,b.width/2),d=b.x,e=d+b.width,f=b.y,b=f+b.height,g=d+c,h=e-c,k=f+c,l=b-c;a.beginPath();a.moveTo(g,f);c?(a.arc(h,k,c,-C,0,!1),a.arc(h,l,c,0,C,!1),a.arc(g,l,c,C,w,!1),a.arc(g,k,c,w,w+C,!1)):(a.lineTo(h,f),a.lineTo(e,l),a.lineTo(g,b),a.lineTo(d,k));a.closePath()},_renderDashedStroke:function(a,b){var c=this.shape,d=Math.min(c.r,c.height/2,c.width/2),e=c.x,f=e+c.width,g=c.y,h=g+c.height,k=e+d,l=f-d,m=g+d,n=h-d;d?(a.beginPath(),c=x(a,this,k,g,l,g),b&&a.stroke(),c=r(a,this.canvasDash,l,m,d,-C,
0,!1,b,c),a.beginPath(),c=x(a,this,f,m,f,n,c),b&&a.stroke(),c=r(a,this.canvasDash,l,n,d,0,C,!1,b,c),a.beginPath(),c=x(a,this,l,h,k,h,c),b&&a.stroke(),c=r(a,this.canvasDash,k,n,d,C,w,!1,b,c),a.beginPath(),c=x(a,this,e,n,e,m,c),b&&a.stroke(),r(a,this.canvasDash,k,m,d,w,w+C,!1,b,c)):(a.beginPath(),c=x(a,this,k,g,l,g),c=x(a,this,l,g,f,n,c),c=x(a,this,f,n,k,h,c),x(a,this,k,h,e,m,c),b&&a.stroke())}});var J=[];(function(){var c=a.curvePI4;J.push(c.s,c.c1,c.c2,c.e);for(var d=45;360>d;d+=45){var e=b.rotateg(d);
J.push(y(e,c.c1),y(e,c.c2),y(e,c.e))}})();var L=function(a){var c,d,e,f=[],g=a.shape,h=b.normalize([b.translate(g.cx,g.cy),b.scale(g.rx,g.ry)]);c=y(h,J[0]);f.push([c.x,c.y]);for(g=1;g<J.length;g+=3)d=y(h,J[g]),e=y(h,J[g+1]),c=y(h,J[g+2]),f.push([d.x,d.y,e.x,e.y,c.x,c.y]);if(a._needsDash){c=[];d=f[0];for(g=1;g<f.length;++g)e=[],t(d.concat(f[g]),a.canvasDash,e),d=[f[g][4],f[g][5]],c.push(e);a._dashedPoints=c}return f};u.Ellipse=q("dojox.gfx.canvas.Ellipse",[u.Shape,e.Ellipse],{setShape:function(){this.inherited(arguments);
this.canvasEllipse=L(this);return this},setStroke:function(){this.inherited(arguments);B||(this.canvasEllipse=L(this));return this},_renderShape:function(a){var b=this.canvasEllipse,c;a.beginPath();a.moveTo.apply(a,b[0]);for(c=1;c<b.length;++c)a.bezierCurveTo.apply(a,b[c]);a.closePath()},_renderDashedStroke:function(a,b){var c=this._dashedPoints;a.beginPath();for(var d=0;d<c.length;++d)for(var e=c[d],f=0;f<e.length;++f){var g=e[f];a.moveTo(g[0],g[1]);a.bezierCurveTo(g[2],g[3],g[4],g[5],g[6],g[7])}b&&
a.stroke()}});u.Circle=q("dojox.gfx.canvas.Circle",[u.Shape,e.Circle],{_renderShape:function(a){var b=this.shape;a.beginPath();a.arc(b.cx,b.cy,b.r,0,D,1)},_renderDashedStroke:function(a,b){var c=this.shape,d=0,e,f=this.canvasDash.length;for(i=0;d<D;)e=this.canvasDash[i%f]/c.r,i%2||(a.beginPath(),a.arc(c.cx,c.cy,c.r,d,d+e,0),b&&a.stroke()),d+=e,++i}});u.Line=q("dojox.gfx.canvas.Line",[u.Shape,e.Line],{_renderShape:function(a){var b=this.shape;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2)},
_renderDashedStroke:function(a,b){var c=this.shape;a.beginPath();x(a,this,c.x1,c.y1,c.x2,c.y2);b&&a.stroke()}});u.Polyline=q("dojox.gfx.canvas.Polyline",[u.Shape,e.Polyline],{setShape:function(){this.inherited(arguments);var a=this.shape.points,b=a[0],c,d;this.bbox=null;this._normalizePoints();if(a.length)if("number"==typeof b)b=a;else{b=[];for(d=0;d<a.length;++d)c=a[d],b.push(c.x,c.y)}else b=[];this.canvasPolyline=b;return this},_renderShape:function(a){var b=this.canvasPolyline;if(b.length){a.beginPath();
a.moveTo(b[0],b[1]);for(var c=2;c<b.length;c+=2)a.lineTo(b[c],b[c+1])}},_renderDashedStroke:function(a,b){var c=this.canvasPolyline,d=0;a.beginPath();for(var e=0;e<c.length;e+=2)d=x(a,this,c[e],c[e+1],c[e+2],c[e+3],d);b&&a.stroke()}});u.Image=q("dojox.gfx.canvas.Image",[u.Shape,e.Image],{setShape:function(){this.inherited(arguments);var a=new Image;this.surface.downloadImage(a,this.shape.src);this.canvasImage=a;return this},_renderShape:function(a){var b=this.shape;a.drawImage(this.canvasImage,b.x,
b.y,b.width,b.height)}});u.Text=q("dojox.gfx.canvas.Text",[u.Shape,e.Text],{_setFont:function(){this.fontStyle?this.canvasFont=f.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var a=this.shape,b=0,c;a.text&&(c=this.surface.rawNode.getContext("2d"),c.save(),this._renderTransform(c),this._renderFill(c,!1),this._renderStroke(c,!1),this.canvasFont&&(c.font=this.canvasFont),b=c.measureText(a.text).width,c.restore());return b},_render:function(a){a.save();this._renderTransform(a);
this._renderFill(a,!1);this._renderStroke(a,!1);this._renderShape(a);a.restore()},_renderShape:function(a){var b,c=this.shape;c.text&&(b="middle"===c.align?"center":c.align,a.textAlign=b,this.canvasFont&&(a.font=this.canvasFont),this.canvasFill&&a.fillText(c.text,c.x,c.y),this.strokeStyle&&(a.beginPath(),a.strokeText(c.text,c.x,c.y),a.closePath()))}});F(u.Text,"setFont");E||u.Text.extend({getTextWidth:function(){return 0},getBoundingBox:function(){return null},_renderShape:function(){}});var K={M:"_moveToA",
m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};u.Path=q("dojox.gfx.canvas.Path",[u.Shape,c.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=[];this._dashedPath=[];return this.inherited(arguments)},setStroke:function(){this.inherited(arguments);
B||(this.segmented=!1,this._confirmSegmented());return this},_setPath:function(){this._dashResidue=null;this.inherited(arguments)},_updateWithSegment:function(a){var b=m.clone(this.last);this[K[a.action]](this.canvasPath,a.action,a.args,this._needsDash?this._dashedPath:null);this.last=b;this.inherited(arguments)},_renderShape:function(a){var b=this.canvasPath;a.beginPath();for(var c=0;c<b.length;c+=2)a[b[c]].apply(a,b[c+1])},_renderDashedStroke:B?function(){}:function(a,b){var c=this._dashedPath;
a.beginPath();for(var d=0;d<c.length;d+=2)a[c[d]].apply(a,c[d+1]);b&&a.stroke()},_moveToA:function(a,b,c,d){a.push("moveTo",[c[0],c[1]]);d&&d.push("moveTo",[c[0],c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]),d&&(this._dashResidue=x(d,this,c[b-2],c[b-1],c[b],c[b+1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_moveToR:function(a,b,c,d){b="x"in this.last?[this.last.x+=c[0],this.last.y+=c[1]]:[this.last.x=c[0],this.last.y=c[1]];a.push("moveTo",
b);d&&d.push("moveTo",b);for(b=2;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]),d&&(this._dashResidue=x(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_lineToA:function(a,b,c,d){for(b=0;b<c.length;b+=2)d&&(this._dashResidue=x(d,this,this.last.x,this.last.y,c[b],c[b+1],this._dashResidue)),a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_lineToR:function(a,b,c,
d){for(b=0;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]),d&&(this._dashResidue=x(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_hLineToA:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[c[b],this.last.y]),d&&(this._dashResidue=x(d,this,d[d.length-1][0],d[d.length-1][1],c[b],this.last.y,this._dashResidue));this.last.x=c[c.length-1];this.lastControl={}},_hLineToR:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",
[this.last.x+=c[b],this.last.y]),d&&(this._dashResidue=x(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_vLineToA:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,c[b]]),d&&(this._dashResidue=x(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,c[b],this._dashResidue));this.last.y=c[c.length-1];this.lastControl={}},_vLineToR:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,this.last.y+=c[b]]),d&&
(this._dashResidue=x(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_curveToA:function(a,b,c,d){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",c.slice(b,b+6)),d&&(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type="C"},_curveToR:function(a,b,c,d){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",
[this.last.x+c[b],this.last.y+c[b+1],this.lastControl.x=this.last.x+c[b+2],this.lastControl.y=this.last.y+c[b+3],this.last.x+c[b+4],this.last.y+c[b+5]]),d&&(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue)),this.last.x+=c[b+4],this.last.y+=c[b+5];this.lastControl.type="C"},_smoothCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=4){var e="C"==this.lastControl.type;a.push("bezierCurveTo",[e?2*this.last.x-this.lastControl.x:this.last.x,e?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+
1],c[b+2],c[b+3]]);d&&(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue));this.lastControl.x=c[b];this.lastControl.y=c[b+1];this.lastControl.type="C"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_smoothCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=4){var e="C"==this.lastControl.type;a.push("bezierCurveTo",[e?2*this.last.x-this.lastControl.x:this.last.x,e?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]);d&&
(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue));this.lastControl.x=this.last.x+c[b];this.lastControl.y=this.last.y+c[b+1];this.lastControl.type="C";this.last.x+=c[b+2];this.last.y+=c[b+3]}},_qCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",c.slice(b,b+4));d&&(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type=
"Q"},_qCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+c[b],this.lastControl.y=this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]),d&&(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue)),this.last.x+=c[b+2],this.last.y+=c[b+3];this.lastControl.type="Q"},_qSmoothCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=2){var e="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=e?2*this.last.x-this.lastControl.x:
this.last.x,this.lastControl.y=e?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1]]);d&&(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue));this.lastControl.type="Q"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_qSmoothCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=2){var e="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=e?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=e?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],
this.last.y+c[b+1]]);d&&(this._dashResidue=s(d,this,a[a.length-1],this._dashResidue));this.lastControl.type="Q";this.last.x+=c[b];this.last.y+=c[b+1]}},_arcTo:function(b,c,d,e){c="a"==c;for(var f=0;f<d.length;f+=7){var g=d[f+5],h=d[f+6];c&&(g+=this.last.x,h+=this.last.y);var l=a.arcAsBezier(this.last,d[f],d[f+1],d[f+2],d[f+3]?1:0,d[f+4]?1:0,g,h);k.forEach(l,function(a){b.push("bezierCurveTo",a)});e&&(this._dashResidue=s(e,this,p,this._dashResidue));this.last.x=g;this.last.y=h}this.lastControl={}},
_closePath:function(a,b,c,d){a.push("closePath",[]);d&&(this._dashResidue=x(d,this,this.last.x,this.last.y,d[1][0],d[1][1],this._dashResidue));this.lastControl={}}});k.forEach("moveTo lineTo hLineTo vLineTo curveTo smoothCurveTo qCurveTo qSmoothCurveTo arcTo closePath".split(" "),function(a){F(u.Path,a)});u.TextPath=q("dojox.gfx.canvas.TextPath",[u.Shape,c.TextPath],{_renderShape:function(a){},_setText:function(){},_setFont:function(){}});u.Surface=q("dojox.gfx.canvas.Surface",e.Surface,{constructor:function(){e.Container._init.call(this);
this.pendingImageCount=0;this.makeDirty()},destroy:function(){e.Container.clear.call(this,!0);this.inherited(arguments)},setDimensions:function(a,b){this.width=f.normalizedLength(a);this.height=f.normalizedLength(b);if(!this.rawNode)return this;var c=!1;this.rawNode.width!=this.width&&(this.rawNode.width=this.width,c=!0);this.rawNode.height!=this.height&&(this.rawNode.height=this.height,c=!0);c&&this.makeDirty();return this},getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:
null},_render:function(a){if(a||!this.pendingImageCount)a=this.rawNode.getContext("2d"),a.clearRect(0,0,this.rawNode.width,this.rawNode.height),this.render(a),"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender)},render:function(a){a.save();for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},makeDirty:function(){!this.pendingImagesCount&&(!("pendingRender"in this)&&!this._batch)&&(this.pendingRender=setTimeout(m.hitch(this,this._render),
0))},downloadImage:function(a,b){var c=m.hitch(this,this.onImageLoad);!this.pendingImageCount++&&"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender);a.onload=c;a.onerror=c;a.onabort=c;a.src=b},onImageLoad:function(){--this.pendingImageCount||(this.onImagesLoaded(),this._render())},onImagesLoaded:function(){},getEventSource:function(){return null},connect:function(){},disconnect:function(){},on:function(){}});u.createSurface=function(a,b,c){if(!b&&!c){var d=h.position(a);
b=b||d.w;c=c||d.h}"number"==typeof b&&(b+="px");"number"==typeof c&&(c+="px");d=new u.Surface;a=g.byId(a);var e=a.ownerDocument.createElement("canvas");e.width=f.normalizedLength(b);e.height=f.normalizedLength(c);a.appendChild(e);d.rawNode=e;d._parent=a;return d.surface=d};var P=e.Container;q={openBatch:function(){++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this._makeDirty();return this},_makeDirty:function(){this._batch||this.surface.makeDirty()},add:function(a){this._makeDirty();
return P.add.apply(this,arguments)},remove:function(a,b){this._makeDirty();return P.remove.apply(this,arguments)},clear:function(){this._makeDirty();return P.clear.apply(this,arguments)},getBoundingBox:P.getBoundingBox,_moveChildToFront:function(a){this._makeDirty();return P._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(a){this._makeDirty();return P._moveChildToBack.apply(this,arguments)}};c={createObject:function(a,b){var c=new a;c.surface=this.surface;c.setShape(b);this.add(c);
return c}};d(u.Group,q);d(u.Group,e.Creator);d(u.Group,c);d(u.Surface,q);d(u.Surface,e.Creator);d(u.Surface,c);u.fixTarget=function(a,b){return!0};return u})},"dojox/gfx/decompose":function(){define(["./_base","dojo/_base/lang","./matrix"],function(f,m,k){function q(c,a){return Math.abs(c-a)<=1E-6*(Math.abs(c)+Math.abs(a))}function l(c,a,b,d){if(isFinite(c)){if(!isFinite(b))return c}else return b;a=Math.abs(a);d=Math.abs(d);return(a*c+d*b)/(a+d)}function h(c){c=k.normalize(c);var a=-c.xx-c.yy,b=c.xx*
c.yy-c.xy*c.yx,d=Math.sqrt(a*a-4*b),a=-(a+(0>a?-d:d))/2,b=b/a,d=c.xy/(a-c.xx),e=1,f=c.xy/(b-c.xx),g=1;q(a,b)&&(d=1,f=e=0,g=1);isFinite(d)||(d=1,e=(a-c.xx)/c.xy,isFinite(e)||(d=(a-c.yy)/c.yx,e=1,isFinite(d)||(d=1,e=c.yx/(a-c.yy))));isFinite(f)||(f=1,g=(b-c.xx)/c.xy,isFinite(g)||(f=(b-c.yy)/c.yx,g=1,isFinite(f)||(f=1,g=c.yx/(b-c.yy))));c=Math.sqrt(d*d+e*e);var h=Math.sqrt(f*f+g*g);if(!isFinite(d/=c))d=0;if(!isFinite(e/=c))e=0;if(!isFinite(f/=h))f=0;if(!isFinite(g/=h))g=0;return{value1:a,value2:b,vector1:{x:d,
y:e},vector2:{x:f,y:g}}}function g(c,a){var b=0>c.xx*c.yy||0<c.xy*c.yx?-1:1,d=a.angle1=(Math.atan2(c.yx,c.yy)+Math.atan2(-b*c.xy,b*c.xx))/2,b=Math.cos(d),d=Math.sin(d);a.sx=l(c.xx/b,b,-c.xy/d,d);a.sy=l(c.yy/b,b,c.yx/d,d);return a}function e(c,a){var b=0>c.xx*c.yy||0<c.xy*c.yx?-1:1,d=a.angle2=(Math.atan2(b*c.yx,b*c.xx)+Math.atan2(-c.xy,c.yy))/2,b=Math.cos(d),d=Math.sin(d);a.sx=l(c.xx/b,b,c.yx/d,d);a.sy=l(c.yy/b,b,-c.xy/d,d);return a}return f.decompose=function(c){var a=k.normalize(c);c={dx:a.dx,dy:a.dy,
sx:1,sy:1,angle1:0,angle2:0};if(q(a.xy,0)&&q(a.yx,0))return m.mixin(c,{sx:a.xx,sy:a.yy});if(q(a.xx*a.yx,-a.xy*a.yy))return g(a,c);if(q(a.xx*a.xy,-a.yx*a.yy))return e(a,c);var b,d=new k.Matrix2D(a);b=m.mixin(d,{dx:0,dy:0,xy:d.yx,yx:d.xy});d=h([a,b]);b=h([b,a]);d=new k.Matrix2D({xx:d.vector1.x,xy:d.vector2.x,yx:d.vector1.y,yy:d.vector2.y});b=new k.Matrix2D({xx:b.vector1.x,xy:b.vector1.y,yx:b.vector2.x,yy:b.vector2.y});a=new k.Matrix2D([k.invert(d),a,k.invert(b)]);g(b,c);a.xx*=c.sx;a.yy*=c.sy;e(d,c);
a.xx*=c.sx;a.yy*=c.sy;return m.mixin(c,{sx:a.xx,sy:a.yy})}})},"dojox/gfx/bezierutils":function(){define(["./_base"],function(f){f=f.bezierutils={};f.tAtLength=function(f,e){var c=0,a=6==f.length,b=0,d=0,l=a?q:h,m=function(h,q){for(var x=0,u=0;u<h.length-2;u+=2)x+=k(h[u],h[u+1],h[u+2],h[u+3]);u=a?k(f[0],f[1],f[4],f[5]):k(f[0],f[1],f[6],f[7]);x-u>q||b+x>e+q?(++d,x=l(h,0.5),m(x[0],q),Math.abs(b-e)<=q||m(x[1],q)):(b+=x,c+=1/(1<<d))};e&&m(f,0.5);return c};var m=f.computeLength=function(f){for(var e=6==
f.length,c=0,a=0;a<f.length-2;a+=2)c+=k(f[a],f[a+1],f[a+2],f[a+3]);a=e?k(f[0],f[1],f[4],f[5]):k(f[0],f[1],f[6],f[7]);0.1<c-a&&(f=e?q(f,0.5):l(f,0.5),c=m(f[0],e),c+=m(f[1],e));return c},k=f.distance=function(f,e,c,a){return Math.sqrt((c-f)*(c-f)+(a-e)*(a-e))},q=function(f,e){var c=1-e,a=c*c,b=e*e,d=f[0],h=f[1],k=f[2],l=f[3],m=f[4],q=f[5],u=a*d+2*c*e*k+b*m,a=a*h+2*c*e*l+b*q;return[[d,h,c*d+e*k,c*h+e*l,u,a],[u,a,c*k+e*m,c*l+e*q,m,q]]},l=function(f,e){var c=1-e,a=c*c,b=a*c,d=e*e,h=d*e,k=f[0],l=f[1],m=
f[2],q=f[3],u=f[4],z=f[5],y=f[6],w=f[7],D=b*k+3*a*e*m+3*c*d*u+h*y,b=b*l+3*a*e*q+3*c*d*z+h*w;return[[k,l,c*k+e*m,c*l+e*q,a*k+2*c*e*m+d*u,a*l+2*c*e*q+d*z,D,b],[D,b,a*m+2*c*e*u+d*y,a*q+2*c*e*z+d*w,c*u+e*y,c*z+e*w,y,w]]},h=f.splitBezierAtT=function(f,e){return 6==f.length?q(f,e):l(f,e)};return f})},"dojox/gfx/silverlight":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/declare dojo/_base/Color dojo/on dojo/_base/array dojo/dom-geometry dojo/dom dojo/_base/sniff ./_base ./shape ./path ./registry".split(" "),
function(f,m,k,q,l,h,g,e,c,a,b,d){function n(b){var c=a.normalizeColor(b);b=c.toHex();c=Math.round(255*c.a);c=(0>c?0:255<c?255:c).toString(16);return"#"+(2>c.length?"0"+c:c)+b.slice(1)}function r(a,c){var d={target:a,currentTarget:a,preventDefault:function(){},stopPropagation:function(){}};try{c.source&&(d.target=c.source,d.gfxTarget=b.byId(d.target.tag))}catch(e){}if(c)try{d.ctrlKey=c.ctrl;d.shiftKey=c.shift;var f=c.getPosition(null);d.x=d.offsetX=d.layerX=f.x;d.y=d.offsetY=d.layerY=f.y;var h=D[a.getHost().content.root.name],
k=g.position(h);d.clientX=k.x+f.x;d.clientY=k.y+f.y}catch(l){}return d}function t(a,c){var d={keyCode:c.platformKeyCode,ctrlKey:c.ctrl,shiftKey:c.shift};try{c.source&&(d.target=c.source,d.gfxTarget=b.byId(d.target.tag))}catch(e){}return d}var s=a.silverlight={};f.experimental("dojox.gfx.silverlight");var x={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,
1,3,1,3]},u={normal:400,bold:700},z={butt:"Flat",round:"Round",square:"Square"},y={bevel:"Bevel",round:"Round"},w={serif:"Times New Roman",times:"Times New Roman","sans-serif":"Arial",helvetica:"Arial",monotone:"Courier New",courier:"Courier New"};s.Shape=k("dojox.gfx.silverlight.Shape",b.Shape,{destroy:function(){c("gfxRegistry")&&b.dispose(this);this.rawNode=null},setFill:function(b){var c=this.rawNode.getHost().content;if(!b)return this.fillStyle=null,this._setFillAttr(null),this;if("object"==
typeof b&&"type"in b){switch(b.type){case "linear":this.fillStyle=b=a.makeParameters(a.defaultLinearGradient,b);var d=c.createFromXaml("\x3cLinearGradientBrush/\x3e");d.mappingMode="Absolute";d.startPoint=b.x1+","+b.y1;d.endPoint=b.x2+","+b.y2;h.forEach(b.colors,function(a){var b=c.createFromXaml("\x3cGradientStop/\x3e");b.offset=a.offset;b.color=n(a.color);d.gradientStops.add(b)});this._setFillAttr(d);break;case "radial":this.fillStyle=b=a.makeParameters(a.defaultRadialGradient,b);var e=c.createFromXaml("\x3cRadialGradientBrush/\x3e"),
f=a.matrix.multiplyPoint(a.matrix.invert(this._getAdjustedMatrix()),b.cx,b.cy),f=f.x+","+f.y;e.mappingMode="Absolute";e.gradientOrigin=f;e.center=f;e.radiusX=e.radiusY=b.r;h.forEach(b.colors,function(a){var b=c.createFromXaml("\x3cGradientStop/\x3e");b.offset=a.offset;b.color=n(a.color);e.gradientStops.add(b)});this._setFillAttr(e);break;case "pattern":this.fillStyle=null,this._setFillAttr(null)}return this}this.fillStyle=b=a.normalizeColor(b);f=c.createFromXaml("\x3cSolidColorBrush/\x3e");f.color=
b.toHex();f.opacity=b.a;this._setFillAttr(f);return this},_setFillAttr:function(a){this.rawNode.fill=a},setStroke:function(b){var c=this.rawNode.getHost().content,d=this.rawNode;if(!b)return this.strokeStyle=null,d.stroke=null,this;if("string"==typeof b||m.isArray(b)||b instanceof q)b={color:b};b=this.strokeStyle=a.makeParameters(a.defaultStroke,b);b.color=a.normalizeColor(b.color);if(b)if(c=c.createFromXaml("\x3cSolidColorBrush/\x3e"),c.color=b.color.toHex(),c.opacity=b.color.a,d.stroke=c,d.strokeThickness=
b.width,d.strokeStartLineCap=d.strokeEndLineCap=d.strokeDashCap=z[b.cap],"number"==typeof b.join?(d.strokeLineJoin="Miter",d.strokeMiterLimit=b.join):d.strokeLineJoin=y[b.join],c=b.style.toLowerCase(),c in x&&(c=x[c]),c instanceof Array){c=m.clone(c);if("butt"!=b.cap){for(b=0;b<c.length;b+=2)--c[b],1>c[b]&&(c[b]=1);for(b=1;b<c.length;b+=2)++c[b]}d.strokeDashArray=c.join(",")}else d.strokeDashArray=null;return this},_getParentSurface:function(){for(var b=this.parent;b&&!(b instanceof a.Surface);b=
b.parent);return b},_applyTransform:function(){var a=this._getAdjustedMatrix(),b=this.rawNode;if(a){var c=this.rawNode.getHost().content,d=c.createFromXaml("\x3cMatrixTransform/\x3e"),c=c.createFromXaml("\x3cMatrix/\x3e");c.m11=a.xx;c.m21=a.xy;c.m12=a.yx;c.m22=a.yy;c.offsetX=a.dx;c.offsetY=a.dy;d.matrix=c;b.renderTransform=d}else b.renderTransform=null;return this},setRawNode:function(a){a.fill=null;a.stroke=null;this.rawNode=a;this.rawNode.tag=this.getUID()},_moveToFront:function(){var a=this.parent.rawNode.children,
b=this.rawNode;a.remove(b);a.add(b);return this},_moveToBack:function(){var a=this.parent.rawNode.children,b=this.rawNode;a.remove(b);a.insert(0,b);return this},_getAdjustedMatrix:function(){return this.matrix},setClip:function(a){this.inherited(arguments);var b=this.rawNode;if(a){var c=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!c)return this;var d=this.getBoundingBox()||{x:0,y:0,width:0,height:0},e="1,0,0,1,"+-d.x+","+-d.y;switch(c){case "rect":b.clip=
b.getHost().content.createFromXaml("\x3cRectangleGeometry/\x3e");b.clip.rect=a.x+","+a.y+","+a.width+","+a.height;b.clip.transform=e;break;case "ellipse":b.clip=b.getHost().content.createFromXaml("\x3cEllipseGeometry/\x3e");b.clip.center=a.cx+","+a.cy;b.clip.radiusX=a.rx;b.clip.radiusY=a.ry;b.clip.transform="1,0,0,1,"+-d.x+","+-d.y;break;case "polyline":if(2<a.points.length){var e=b.getHost().content.createFromXaml("\x3cPathGeometry/\x3e"),f=b.getHost().content.createFromXaml("\x3cPathFigure/\x3e");
f.StartPoint=a.points[0]+","+a.points[1];for(var g=2;g<=a.points.length-2;g+=2)c=b.getHost().content.createFromXaml("\x3cLineSegment/\x3e"),c.Point=a.points[g]+","+a.points[g+1],f.segments.add(c);e.figures.add(f);e.transform="1,0,0,1,"+-d.x+","+-d.y;b.clip=e}}}else b.clip=null;return this}});s.Group=k("dojox.gfx.silverlight.Group",s.Shape,{constructor:function(){b.Container._init.call(this)},setRawNode:function(a){this.rawNode=a;this.rawNode.tag=this.getUID()},destroy:function(){this.clear(!0);s.Shape.prototype.destroy.apply(this,
arguments)}});s.Group.nodeType="Canvas";s.Rect=k("dojox.gfx.silverlight.Rect",[s.Shape,b.Rect],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;var c=this.shape;b.width=c.width;b.height=c.height;b.radiusX=b.radiusY=c.r;return this._applyTransform()},_getAdjustedMatrix:function(){var b=this.matrix,c=this.shape,c={dx:c.x,dy:c.y};return new a.Matrix2D(b?[b,c]:c)}});s.Rect.nodeType="Rectangle";s.Ellipse=k("dojox.gfx.silverlight.Ellipse",[s.Shape,b.Ellipse],
{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;var c=this.shape;b.width=2*c.rx;b.height=2*c.ry;return this._applyTransform()},_getAdjustedMatrix:function(){var b=this.matrix,c=this.shape,c={dx:c.cx-c.rx,dy:c.cy-c.ry};return new a.Matrix2D(b?[b,c]:c)}});s.Ellipse.nodeType="Ellipse";s.Circle=k("dojox.gfx.silverlight.Circle",[s.Shape,b.Circle],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;b.width=b.height=
2*this.shape.r;return this._applyTransform()},_getAdjustedMatrix:function(){var b=this.matrix,c=this.shape,c={dx:c.cx-c.r,dy:c.cy-c.r};return new a.Matrix2D(b?[b,c]:c)}});s.Circle.nodeType="Ellipse";s.Line=k("dojox.gfx.silverlight.Line",[s.Shape,b.Line],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;var c=this.shape;b.x1=c.x1;b.y1=c.y1;b.x2=c.x2;b.y2=c.y2;return this}});s.Line.nodeType="Line";s.Polyline=k("dojox.gfx.silverlight.Polyline",[s.Shape,b.Polyline],
{setShape:function(b,c){b&&b instanceof Array?(this.shape=a.makeParameters(this.shape,{points:b}),c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=a.makeParameters(this.shape,b);this.bbox=null;this._normalizePoints();for(var d=this.shape.points,e=[],f=0;f<d.length;++f)e.push(d[f].x,d[f].y);this.rawNode.points=e.join(",");return this}});s.Polyline.nodeType="Polyline";s.Image=k("dojox.gfx.silverlight.Image",[s.Shape,b.Image],{setShape:function(b){this.shape=a.makeParameters(this.shape,
b);this.bbox=null;b=this.rawNode;var c=this.shape;b.width=c.width;b.height=c.height;b.source=c.src;return this._applyTransform()},_getAdjustedMatrix:function(){var b=this.matrix,c=this.shape,c={dx:c.x,dy:c.y};return new a.Matrix2D(b?[b,c]:c)},setRawNode:function(a){this.rawNode=a;this.rawNode.tag=this.getUID()}});s.Image.nodeType="Image";s.Text=k("dojox.gfx.silverlight.Text",[s.Shape,b.Text],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;var c=this.shape;
b.text=""+c.text;b.textDecorations="underline"===c.decoration?"Underline":"None";b["Canvas.Left"]=-1E4;b["Canvas.Top"]=-1E4;this._delay||(this._delay=window.setTimeout(m.hitch(this,"_delayAlignment"),10));return this},_delayAlignment:function(){var a=this.rawNode,b=this.shape,c,d;try{c=a.actualWidth,d=a.actualHeight}catch(e){return}var f=b.x;d=b.y-0.75*d;switch(b.align){case "middle":f-=c/2;break;case "end":f-=c}this._delta={dx:f,dy:d};a["Canvas.Left"]=0;a["Canvas.Top"]=0;this._applyTransform();delete this._delay},
_getAdjustedMatrix:function(){var b=this.matrix,c=this._delta;return new a.Matrix2D(b?c?[b,c]:b:c?c:{})},setStroke:function(){return this},_setFillAttr:function(a){this.rawNode.foreground=a},setRawNode:function(a){this.rawNode=a;this.rawNode.tag=this.getUID()},getTextWidth:function(){return this.rawNode.actualWidth},getBoundingBox:function(){var b=null,c=this.getShape().text,d=this.rawNode,e=0,f=0;if(!a._base._isRendered(this))return{x:0,y:0,width:0,height:0};if(c){try{e=d.actualWidth,f=d.actualHeight}catch(g){return null}b=
a._base._computeTextLocation(this.getShape(),e,f,!0);b={x:b.x,y:b.y,width:e,height:f}}return b}});s.Text.nodeType="TextBlock";s.Path=k("dojox.gfx.silverlight.Path",[s.Shape,d.Path],{_updateWithSegment:function(a){this.inherited(arguments);var b=this.shape.path;"string"==typeof b&&(this.rawNode.data=b?b:null)},setShape:function(a){this.inherited(arguments);var b=this.shape.path;this.rawNode.data=b?b:null;return this}});s.Path.nodeType="Path";s.TextPath=k("dojox.gfx.silverlight.TextPath",[s.Shape,d.TextPath],
{_updateWithSegment:function(a){},setShape:function(a){},_setText:function(){}});s.TextPath.nodeType="text";var D={},C=new Function;s.Surface=k("dojox.gfx.silverlight.Surface",b.Surface,{constructor:function(){b.Container._init.call(this)},destroy:function(){this.clear(!0);window[this._onLoadName]=C;delete D[this._nodeName];this.inherited(arguments)},setDimensions:function(b,c){this.width=a.normalizedLength(b);this.height=a.normalizedLength(c);var d=this.rawNode&&this.rawNode.getHost();d&&(d.width=
b,d.height=c);return this},getDimensions:function(){var a=this.rawNode&&this.rawNode.getHost(),a=a?{width:a.content.actualWidth,height:a.content.actualHeight}:null;0>=a.width&&(a.width=this.width);0>=a.height&&(a.height=this.height);return a}});s.createSurface=function(b,d,f){if(!d&&!f){var h=g.position(b);d=d||h.w;f=f||h.h}"number"==typeof d&&(d+="px");"number"==typeof f&&(f+="px");var k=new s.Surface;b=e.byId(b);k._parent=b;k._nodeName=a._base._getUniqueId();h=b.ownerDocument.createElement("script");
h.type="text/xaml";h.id=a._base._getUniqueId();h.text="\x3c?xml version\x3d'1.0'?\x3e\x3cCanvas xmlns\x3d'http://schemas.microsoft.com/client/2007' Name\x3d'"+k._nodeName+"'/\x3e";b.parentNode.insertBefore(h,b);k._nodes.push(h);var l=a._base._getUniqueId(),m="__"+a._base._getUniqueId()+"_onLoad";k._onLoadName=m;window[m]=function(a){k.rawNode||(k.rawNode=e.byId(l,b.ownerDocument).content.root,D[k._nodeName]=b,k.onLoad(k))};h=c("safari")?"\x3cembed type\x3d'application/x-silverlight' id\x3d'"+l+"' width\x3d'"+
d+"' height\x3d'"+f+" background\x3d'transparent' source\x3d'#"+h.id+"' windowless\x3d'true' maxFramerate\x3d'60' onLoad\x3d'"+m+"' onError\x3d'__dojoSilverlightError' /\x3e\x3ciframe style\x3d'visibility:hidden;height:0;width:0'/\x3e":"\x3cobject type\x3d'application/x-silverlight' data\x3d'data:application/x-silverlight,' id\x3d'"+l+"' width\x3d'"+d+"' height\x3d'"+f+"'\x3e\x3cparam name\x3d'background' value\x3d'transparent' /\x3e\x3cparam name\x3d'source' value\x3d'#"+h.id+"' /\x3e\x3cparam name\x3d'windowless' value\x3d'true' /\x3e\x3cparam name\x3d'maxFramerate' value\x3d'60' /\x3e\x3cparam name\x3d'onLoad' value\x3d'"+
m+"' /\x3e\x3cparam name\x3d'onError' value\x3d'__dojoSilverlightError' /\x3e\x3c/object\x3e";b.innerHTML=h;h=e.byId(l,b.ownerDocument);h.content&&h.content.root?(k.rawNode=h.content.root,D[k._nodeName]=b):(k.rawNode=null,k.isLoaded=!1);k._nodes.push(h);k.width=a.normalizedLength(d);k.height=a.normalizedLength(f);return k};__dojoSilverlightError=function(a,b){};var B=b.Container;f={add:function(a){this!=a.getParent()&&(B.add.apply(this,arguments),this.rawNode.children.add(a.rawNode));return this},
remove:function(a,b){if(this==a.getParent()){var c=a.rawNode.getParent();c&&c.children.remove(a.rawNode);B.remove.apply(this,arguments)}return this},clear:function(){this.rawNode.children.clear();return B.clear.apply(this,arguments)},getBoundingBox:B.getBoundingBox,_moveChildToFront:B._moveChildToFront,_moveChildToBack:B._moveChildToBack};k={createObject:function(a,b){if(!this.rawNode)return null;var c=new a,d=this.rawNode.getHost().content.createFromXaml("\x3c"+a.nodeType+"/\x3e");c.setRawNode(d);
c.setShape(b);this.add(c);return c}};m.extend(s.Text,{_setFont:function(){var b=this.fontStyle,c=this.rawNode,d=b.family.toLowerCase();c.fontStyle="italic"==b.style?"Italic":"Normal";c.fontWeight=b.weight in u?u[b.weight]:b.weight;c.fontSize=a.normalizedLength(b.size);c.fontFamily=d in w?w[d]:b.family;this._delay||(this._delay=window.setTimeout(m.hitch(this,"_delayAlignment"),10))}});m.extend(s.Group,f);m.extend(s.Group,b.Creator);m.extend(s.Group,k);m.extend(s.Surface,f);m.extend(s.Surface,b.Creator);
m.extend(s.Surface,k);var E={onclick:{name:"MouseLeftButtonUp",fix:r},onmouseenter:{name:"MouseEnter",fix:r},onmouseleave:{name:"MouseLeave",fix:r},onmouseover:{name:"MouseEnter",fix:r},onmouseout:{name:"MouseLeave",fix:r},onmousedown:{name:"MouseLeftButtonDown",fix:r},onmouseup:{name:"MouseLeftButtonUp",fix:r},onmousemove:{name:"MouseMove",fix:r},onkeydown:{name:"KeyDown",fix:t},onkeyup:{name:"KeyUp",fix:t}};f={connect:function(a,b,c){return this.on(a,c?m.hitch(b,c):b)},on:function(a,b){if("string"===
typeof a){0===a.indexOf("mouse")&&(a="on"+a);var c,d=a in E?E[a]:{name:a,fix:function(){return{}}};c=this.getEventSource().addEventListener(d.name,function(a,c){b(d.fix(a,c))});return{name:d.name,token:c,remove:m.hitch(this,function(){this.getEventSource().removeEventListener(d.name,c)})}}return l(this,a,b)},disconnect:function(a){return a.remove()}};m.extend(s.Shape,f);m.extend(s.Surface,f);a.equalSources=function(a,b){return a&&b&&a.equals(b)};return s})},"dojox/gfx/registry":function(){define(["dojo/has",
"./shape"],function(f,m){f.add("gfxRegistry",1);var k={},q={},l={};k.register=m.register=function(f){var g=f.declaredClass.split(".").pop(),e=g in q?++q[g]:q[g]=0,g=g+e;l[g]=f;return g};k.byId=m.byId=function(f){return l[f]};k.dispose=m.dispose=function(f,g){if(g&&f.children)for(var e=0;e<f.children.length;++e)k.dispose(f.children[e],!0);e=f.getUID();l[e]=null;delete l[e]};return k})},"url:dojox/widget/ColorPicker/ColorPicker.html":'\x3ctable class\x3d"dojoxColorPicker" dojoAttachEvent\x3d"onkeypress: _handleKey" cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\x3ctr\x3e\n\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\x3cdiv class\x3d"dojoxColorPickerBox"\x3e\n\t\t\t\t\x3c!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. --\x3e\n\t\t\t\t\x3cimg title\x3d"${saturationPickerTitle}" alt\x3d"${saturationPickerTitle}" class\x3d"dojoxColorPickerPoint" src\x3d"${_pickerPointer}" tabIndex\x3d"0" dojoAttachPoint\x3d"cursorNode" style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\n\t\t\t\t\x3cimg role\x3d"presentation" alt\x3d"" dojoAttachPoint\x3d"colorUnderlay" dojoAttachEvent\x3d"onclick: _setPoint, onmousedown: _stopDrag" class\x3d"dojoxColorPickerUnderlay" src\x3d"${_underlay}" ondragstart\x3d"return false"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\x3cdiv class\x3d"dojoxHuePicker"\x3e\n\t\t\t\t\x3c!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. --\x3e\n\t\t\t\t\x3cimg dojoAttachPoint\x3d"hueCursorNode" tabIndex\x3d"0" class\x3d"dojoxHuePickerPoint" title\x3d"${huePickerTitle}" alt\x3d"${huePickerTitle}" src\x3d"${_huePickerPointer}" style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\n\t\t\t\t\x3cdiv class\x3d"dojoxHuePickerUnderlay" dojoAttachPoint\x3d"hueNode"\x3e\n\t\t\t\t    \x3cimg role\x3d"presentation" alt\x3d"" dojoAttachEvent\x3d"onclick: _setHuePoint, onmousedown: _stopDrag" src\x3d"${_hueUnderlay}"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerPreviewContainer"\x3e\n\t\t\t\t\t\t\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv dojoAttachPoint\x3d"previewNode" class\x3d"dojoxColorPickerPreview"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv dojoAttachPoint\x3d"safePreviewNode" class\x3d"dojoxColorPickerWebSafePreview"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd valign\x3d"bottom"\x3e\n\t\t\t\t\t\t\x3ctable class\x3d"dojoxColorPickerOptional" cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dijitInline dojoxColorPickerRgb" dojoAttachPoint\x3d"rgbNode"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctable cellpadding\x3d"1" cellspacing\x3d"1" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_r"\x3e${redLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_r" dojoAttachPoint\x3d"Rval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_g"\x3e${greenLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_g" dojoAttachPoint\x3d"Gval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_b"\x3e${blueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_b" dojoAttachPoint\x3d"Bval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dijitInline dojoxColorPickerHsv" dojoAttachPoint\x3d"hsvNode"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctable cellpadding\x3d"1" cellspacing\x3d"1" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_h"\x3e${hueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_h" dojoAttachPoint\x3d"Hval"size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${degLabel}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_s"\x3e${saturationLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_s" dojoAttachPoint\x3d"Sval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_v"\x3e${valueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_v" dojoAttachPoint\x3d"Vval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dojoxColorPickerHex" dojoAttachPoint\x3d"hexNode" aria-live\x3d"polite"\x3e\t\n\t\t\t\t\t\t\t\t\t\t\x3clabel for\x3d"${_uId}_hex"\x3e\x26nbsp;${hexLabel}\x26nbsp;\x3c/label\x3e\x3cinput id\x3d"${_uId}_hex" dojoAttachPoint\x3d"hexCode, focusNode, valueNode" size\x3d"6" class\x3d"dojoxColorPickerHexCode" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/table\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\x3c/table\x3e\n\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/VerticalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderV" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderDecorationC" style\x3d"height:100%;"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3ccenter class\x3d"dijitReset dijitSliderBarContainerV" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c!--#5629--\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\x3e\x3c/center\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"*now":function(f){f(['dojo/i18n!*preload*dojo/nls/dojo*["ar","az","ca","cs","da","de-de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ro","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});(function(){var f=this.require;f({cache:{}});!f.async&&f(["dojo"]);f.boot&&f.apply(null,f.boot)})();
//@ sourceMappingURL=dojo.js.map